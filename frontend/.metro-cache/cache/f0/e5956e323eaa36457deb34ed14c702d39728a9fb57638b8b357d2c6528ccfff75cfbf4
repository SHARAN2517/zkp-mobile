{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.reconnect = reconnect;\n  let isReconnecting = false;\n  /** https://wagmi.sh/core/api/actions/reconnect */\n  async function reconnect(config, parameters = {}) {\n    // If already reconnecting, do nothing\n    if (isReconnecting) return [];\n    isReconnecting = true;\n    config.setState(x => ({\n      ...x,\n      status: x.current ? 'reconnecting' : 'connecting'\n    }));\n    const connectors = [];\n    if (parameters.connectors?.length) {\n      for (const connector_ of parameters.connectors) {\n        let connector;\n        // \"Register\" connector if not already created\n        if (typeof connector_ === 'function') connector = config._internal.connectors.setup(connector_);else connector = connector_;\n        connectors.push(connector);\n      }\n    } else connectors.push(...config.connectors);\n    // Try recently-used connectors first\n    let recentConnectorId;\n    try {\n      recentConnectorId = await config.storage?.getItem('recentConnectorId');\n    } catch {}\n    const scores = {};\n    for (const [, connection] of config.state.connections) {\n      scores[connection.connector.id] = 1;\n    }\n    if (recentConnectorId) scores[recentConnectorId] = 0;\n    const sorted = Object.keys(scores).length > 0 ?\n    // .toSorted()\n    [...connectors].sort((a, b) => (scores[a.id] ?? 10) - (scores[b.id] ?? 10)) : connectors;\n    // Iterate through each connector and try to connect\n    let connected = false;\n    const connections = [];\n    const providers = [];\n    for (const connector of sorted) {\n      const provider = await connector.getProvider().catch(() => undefined);\n      if (!provider) continue;\n      // If we already have an instance of this connector's provider,\n      // then we have already checked it (ie. injected connectors can\n      // share the same `window.ethereum` instance, so we don't want to\n      // connect to it again).\n      if (providers.some(x => x === provider)) continue;\n      const isAuthorized = await connector.isAuthorized();\n      if (!isAuthorized) continue;\n      const data = await connector.connect({\n        isReconnecting: true\n      }).catch(() => null);\n      if (!data) continue;\n      connector.emitter.off('connect', config._internal.events.connect);\n      connector.emitter.on('change', config._internal.events.change);\n      connector.emitter.on('disconnect', config._internal.events.disconnect);\n      config.setState(x => {\n        const connections = new Map(connected ? x.connections : new Map()).set(connector.uid, {\n          accounts: data.accounts,\n          chainId: data.chainId,\n          connector\n        });\n        return {\n          ...x,\n          current: connected ? x.current : connector.uid,\n          connections\n        };\n      });\n      connections.push({\n        accounts: data.accounts,\n        chainId: data.chainId,\n        connector\n      });\n      providers.push(provider);\n      connected = true;\n    }\n    // Prevent overwriting connected status from race condition\n    if (config.state.status === 'reconnecting' || config.state.status === 'connecting') {\n      // If connecting didn't succeed, set to disconnected\n      if (!connected) config.setState(x => ({\n        ...x,\n        connections: new Map(),\n        current: null,\n        status: 'disconnected'\n      }));else config.setState(x => ({\n        ...x,\n        status: 'connected'\n      }));\n    }\n    isReconnecting = false;\n    return connections;\n  }\n});","lineCount":97,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"reconnect"],[7,19,3,0],[7,22,3,0,"reconnect"],[7,31,3,0],[8,2,1,0],[8,6,1,4,"isReconnecting"],[8,20,1,18],[8,23,1,21],[8,28,1,26],[9,2,2,0],[10,2,3,7],[10,17,3,22,"reconnect"],[10,26,3,31,"reconnect"],[10,27,3,32,"config"],[10,33,3,38],[10,35,3,40,"parameters"],[10,45,3,50],[10,48,3,53],[10,49,3,54],[10,50,3,55],[10,52,3,57],[11,4,4,4],[12,4,5,4],[12,8,5,8,"isReconnecting"],[12,22,5,22],[12,24,6,8],[12,31,6,15],[12,33,6,17],[13,4,7,4,"isReconnecting"],[13,18,7,18],[13,21,7,21],[13,25,7,25],[14,4,8,4,"config"],[14,10,8,10],[14,11,8,11,"setState"],[14,19,8,19],[14,20,8,21,"x"],[14,21,8,22],[14,26,8,28],[15,6,9,8],[15,9,9,11,"x"],[15,10,9,12],[16,6,10,8,"status"],[16,12,10,14],[16,14,10,16,"x"],[16,15,10,17],[16,16,10,18,"current"],[16,23,10,25],[16,26,10,28],[16,40,10,42],[16,43,10,45],[17,4,11,4],[17,5,11,5],[17,6,11,6],[17,7,11,7],[18,4,12,4],[18,10,12,10,"connectors"],[18,20,12,20],[18,23,12,23],[18,25,12,25],[19,4,13,4],[19,8,13,8,"parameters"],[19,18,13,18],[19,19,13,19,"connectors"],[19,29,13,29],[19,31,13,31,"length"],[19,37,13,37],[19,39,13,39],[20,6,14,8],[20,11,14,13],[20,17,14,19,"connector_"],[20,27,14,29],[20,31,14,33,"parameters"],[20,41,14,43],[20,42,14,44,"connectors"],[20,52,14,54],[20,54,14,56],[21,8,15,12],[21,12,15,16,"connector"],[21,21,15,25],[22,8,16,12],[23,8,17,12],[23,12,17,16],[23,19,17,23,"connector_"],[23,29,17,33],[23,34,17,38],[23,44,17,48],[23,46,18,16,"connector"],[23,55,18,25],[23,58,18,28,"config"],[23,64,18,34],[23,65,18,35,"_internal"],[23,74,18,44],[23,75,18,45,"connectors"],[23,85,18,55],[23,86,18,56,"setup"],[23,91,18,61],[23,92,18,62,"connector_"],[23,102,18,72],[23,103,18,73],[23,104,18,74],[23,109,20,16,"connector"],[23,118,20,25],[23,121,20,28,"connector_"],[23,131,20,38],[24,8,21,12,"connectors"],[24,18,21,22],[24,19,21,23,"push"],[24,23,21,27],[24,24,21,28,"connector"],[24,33,21,37],[24,34,21,38],[25,6,22,8],[26,4,23,4],[26,5,23,5],[26,11,25,8,"connectors"],[26,21,25,18],[26,22,25,19,"push"],[26,26,25,23],[26,27,25,24],[26,30,25,27,"config"],[26,36,25,33],[26,37,25,34,"connectors"],[26,47,25,44],[26,48,25,45],[27,4,26,4],[28,4,27,4],[28,8,27,8,"recentConnectorId"],[28,25,27,25],[29,4,28,4],[29,8,28,8],[30,6,29,8,"recentConnectorId"],[30,23,29,25],[30,26,29,28],[30,32,29,34,"config"],[30,38,29,40],[30,39,29,41,"storage"],[30,46,29,48],[30,48,29,50,"getItem"],[30,55,29,57],[30,56,29,58],[30,75,29,77],[30,76,29,78],[31,4,30,4],[31,5,30,5],[31,6,31,4],[31,12,31,10],[31,13,31,12],[32,4,32,4],[32,10,32,10,"scores"],[32,16,32,16],[32,19,32,19],[32,20,32,20],[32,21,32,21],[33,4,33,4],[33,9,33,9],[33,15,33,15],[33,18,33,18,"connection"],[33,28,33,28],[33,29,33,29],[33,33,33,33,"config"],[33,39,33,39],[33,40,33,40,"state"],[33,45,33,45],[33,46,33,46,"connections"],[33,57,33,57],[33,59,33,59],[34,6,34,8,"scores"],[34,12,34,14],[34,13,34,15,"connection"],[34,23,34,25],[34,24,34,26,"connector"],[34,33,34,35],[34,34,34,36,"id"],[34,36,34,38],[34,37,34,39],[34,40,34,42],[34,41,34,43],[35,4,35,4],[36,4,36,4],[36,8,36,8,"recentConnectorId"],[36,25,36,25],[36,27,37,8,"scores"],[36,33,37,14],[36,34,37,15,"recentConnectorId"],[36,51,37,32],[36,52,37,33],[36,55,37,36],[36,56,37,37],[37,4,38,4],[37,10,38,10,"sorted"],[37,16,38,16],[37,19,38,19,"Object"],[37,25,38,25],[37,26,38,26,"keys"],[37,30,38,30],[37,31,38,31,"scores"],[37,37,38,37],[37,38,38,38],[37,39,38,39,"length"],[37,45,38,45],[37,48,38,48],[37,49,38,49],[38,4,39,10],[39,4,40,12],[39,5,40,13],[39,8,40,16,"connectors"],[39,18,40,26],[39,19,40,27],[39,20,40,28,"sort"],[39,24,40,32],[39,25,40,33],[39,26,40,34,"a"],[39,27,40,35],[39,29,40,37,"b"],[39,30,40,38],[39,35,40,43],[39,36,40,44,"scores"],[39,42,40,50],[39,43,40,51,"a"],[39,44,40,52],[39,45,40,53,"id"],[39,47,40,55],[39,48,40,56],[39,52,40,60],[39,54,40,62],[39,59,40,67,"scores"],[39,65,40,73],[39,66,40,74,"b"],[39,67,40,75],[39,68,40,76,"id"],[39,70,40,78],[39,71,40,79],[39,75,40,83],[39,77,40,85],[39,78,40,86],[39,79,40,87],[39,82,41,10,"connectors"],[39,92,41,20],[40,4,42,4],[41,4,43,4],[41,8,43,8,"connected"],[41,17,43,17],[41,20,43,20],[41,25,43,25],[42,4,44,4],[42,10,44,10,"connections"],[42,21,44,21],[42,24,44,24],[42,26,44,26],[43,4,45,4],[43,10,45,10,"providers"],[43,19,45,19],[43,22,45,22],[43,24,45,24],[44,4,46,4],[44,9,46,9],[44,15,46,15,"connector"],[44,24,46,24],[44,28,46,28,"sorted"],[44,34,46,34],[44,36,46,36],[45,6,47,8],[45,12,47,14,"provider"],[45,20,47,22],[45,23,47,25],[45,29,47,31,"connector"],[45,38,47,40],[45,39,47,41,"getProvider"],[45,50,47,52],[45,51,47,53],[45,52,47,54],[45,53,47,55,"catch"],[45,58,47,60],[45,59,47,61],[45,65,47,67,"undefined"],[45,74,47,76],[45,75,47,77],[46,6,48,8],[46,10,48,12],[46,11,48,13,"provider"],[46,19,48,21],[46,21,49,12],[47,6,50,8],[48,6,51,8],[49,6,52,8],[50,6,53,8],[51,6,54,8],[51,10,54,12,"providers"],[51,19,54,21],[51,20,54,22,"some"],[51,24,54,26],[51,25,54,28,"x"],[51,26,54,29],[51,30,54,34,"x"],[51,31,54,35],[51,36,54,40,"provider"],[51,44,54,48],[51,45,54,49],[51,47,55,12],[52,6,56,8],[52,12,56,14,"isAuthorized"],[52,24,56,26],[52,27,56,29],[52,33,56,35,"connector"],[52,42,56,44],[52,43,56,45,"isAuthorized"],[52,55,56,57],[52,56,56,58],[52,57,56,59],[53,6,57,8],[53,10,57,12],[53,11,57,13,"isAuthorized"],[53,23,57,25],[53,25,58,12],[54,6,59,8],[54,12,59,14,"data"],[54,16,59,18],[54,19,59,21],[54,25,59,27,"connector"],[54,34,59,36],[54,35,60,13,"connect"],[54,42,60,20],[54,43,60,21],[55,8,60,23,"isReconnecting"],[55,22,60,37],[55,24,60,39],[56,6,60,44],[56,7,60,45],[56,8,60,46],[56,9,61,13,"catch"],[56,14,61,18],[56,15,61,19],[56,21,61,25],[56,25,61,29],[56,26,61,30],[57,6,62,8],[57,10,62,12],[57,11,62,13,"data"],[57,15,62,17],[57,17,63,12],[58,6,64,8,"connector"],[58,15,64,17],[58,16,64,18,"emitter"],[58,23,64,25],[58,24,64,26,"off"],[58,27,64,29],[58,28,64,30],[58,37,64,39],[58,39,64,41,"config"],[58,45,64,47],[58,46,64,48,"_internal"],[58,55,64,57],[58,56,64,58,"events"],[58,62,64,64],[58,63,64,65,"connect"],[58,70,64,72],[58,71,64,73],[59,6,65,8,"connector"],[59,15,65,17],[59,16,65,18,"emitter"],[59,23,65,25],[59,24,65,26,"on"],[59,26,65,28],[59,27,65,29],[59,35,65,37],[59,37,65,39,"config"],[59,43,65,45],[59,44,65,46,"_internal"],[59,53,65,55],[59,54,65,56,"events"],[59,60,65,62],[59,61,65,63,"change"],[59,67,65,69],[59,68,65,70],[60,6,66,8,"connector"],[60,15,66,17],[60,16,66,18,"emitter"],[60,23,66,25],[60,24,66,26,"on"],[60,26,66,28],[60,27,66,29],[60,39,66,41],[60,41,66,43,"config"],[60,47,66,49],[60,48,66,50,"_internal"],[60,57,66,59],[60,58,66,60,"events"],[60,64,66,66],[60,65,66,67,"disconnect"],[60,75,66,77],[60,76,66,78],[61,6,67,8,"config"],[61,12,67,14],[61,13,67,15,"setState"],[61,21,67,23],[61,22,67,25,"x"],[61,23,67,26],[61,27,67,31],[62,8,68,12],[62,14,68,18,"connections"],[62,25,68,29],[62,28,68,32],[62,32,68,36,"Map"],[62,35,68,39],[62,36,68,40,"connected"],[62,45,68,49],[62,48,68,52,"x"],[62,49,68,53],[62,50,68,54,"connections"],[62,61,68,65],[62,64,68,68],[62,68,68,72,"Map"],[62,71,68,75],[62,72,68,76],[62,73,68,77],[62,74,68,78],[62,75,68,79,"set"],[62,78,68,82],[62,79,68,83,"connector"],[62,88,68,92],[62,89,68,93,"uid"],[62,92,68,96],[62,94,68,98],[63,10,68,100,"accounts"],[63,18,68,108],[63,20,68,110,"data"],[63,24,68,114],[63,25,68,115,"accounts"],[63,33,68,123],[64,10,68,125,"chainId"],[64,17,68,132],[64,19,68,134,"data"],[64,23,68,138],[64,24,68,139,"chainId"],[64,31,68,146],[65,10,68,148,"connector"],[66,8,68,158],[66,9,68,159],[66,10,68,160],[67,8,69,12],[67,15,69,19],[68,10,70,16],[68,13,70,19,"x"],[68,14,70,20],[69,10,71,16,"current"],[69,17,71,23],[69,19,71,25,"connected"],[69,28,71,34],[69,31,71,37,"x"],[69,32,71,38],[69,33,71,39,"current"],[69,40,71,46],[69,43,71,49,"connector"],[69,52,71,58],[69,53,71,59,"uid"],[69,56,71,62],[70,10,72,16,"connections"],[71,8,73,12],[71,9,73,13],[72,6,74,8],[72,7,74,9],[72,8,74,10],[73,6,75,8,"connections"],[73,17,75,19],[73,18,75,20,"push"],[73,22,75,24],[73,23,75,25],[74,8,76,12,"accounts"],[74,16,76,20],[74,18,76,22,"data"],[74,22,76,26],[74,23,76,27,"accounts"],[74,31,76,35],[75,8,77,12,"chainId"],[75,15,77,19],[75,17,77,21,"data"],[75,21,77,25],[75,22,77,26,"chainId"],[75,29,77,33],[76,8,78,12,"connector"],[77,6,79,8],[77,7,79,9],[77,8,79,10],[78,6,80,8,"providers"],[78,15,80,17],[78,16,80,18,"push"],[78,20,80,22],[78,21,80,23,"provider"],[78,29,80,31],[78,30,80,32],[79,6,81,8,"connected"],[79,15,81,17],[79,18,81,20],[79,22,81,24],[80,4,82,4],[81,4,83,4],[82,4,84,4],[82,8,84,8,"config"],[82,14,84,14],[82,15,84,15,"state"],[82,20,84,20],[82,21,84,21,"status"],[82,27,84,27],[82,32,84,32],[82,46,84,46],[82,50,85,8,"config"],[82,56,85,14],[82,57,85,15,"state"],[82,62,85,20],[82,63,85,21,"status"],[82,69,85,27],[82,74,85,32],[82,86,85,44],[82,88,85,46],[83,6,86,8],[84,6,87,8],[84,10,87,12],[84,11,87,13,"connected"],[84,20,87,22],[84,22,88,12,"config"],[84,28,88,18],[84,29,88,19,"setState"],[84,37,88,27],[84,38,88,29,"x"],[84,39,88,30],[84,44,88,36],[85,8,89,16],[85,11,89,19,"x"],[85,12,89,20],[86,8,90,16,"connections"],[86,19,90,27],[86,21,90,29],[86,25,90,33,"Map"],[86,28,90,36],[86,29,90,37],[86,30,90,38],[87,8,91,16,"current"],[87,15,91,23],[87,17,91,25],[87,21,91,29],[88,8,92,16,"status"],[88,14,92,22],[88,16,92,24],[89,6,93,12],[89,7,93,13],[89,8,93,14],[89,9,93,15],[89,10,93,16],[89,15,95,12,"config"],[89,21,95,18],[89,22,95,19,"setState"],[89,30,95,27],[89,31,95,29,"x"],[89,32,95,30],[89,37,95,36],[90,8,95,38],[90,11,95,41,"x"],[90,12,95,42],[91,8,95,44,"status"],[91,14,95,50],[91,16,95,52],[92,6,95,64],[92,7,95,65],[92,8,95,66],[92,9,95,67],[93,4,96,4],[94,4,97,4,"isReconnecting"],[94,18,97,18],[94,21,97,21],[94,26,97,26],[95,4,98,4],[95,11,98,11,"connections"],[95,22,98,22],[96,2,99,0],[97,0,99,1],[97,3]],"functionMap":{"names":["<global>","reconnect","config.setState$argument_0","sort$argument_0","connector.getProvider._catch$argument_0","providers.some$argument_0","connector.connect._catch$argument_0"],"mappings":"AAA;OCE;oBCK;MDG;iCE6B,qDF;6DGO,eH;2BIO,qBJ;mBKO,UL;wBCM;SDO;4BCc;cDK;4BCE,sCD;CDI"},"hasCjsExports":false},"type":"js/module"}]}