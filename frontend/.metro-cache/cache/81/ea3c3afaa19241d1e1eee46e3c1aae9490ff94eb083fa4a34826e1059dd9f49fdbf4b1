{"dependencies":[{"name":"../../utils/data/slice.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":19,"index":137},"end":{"line":4,"column":55,"index":173}}],"key":"ATlbdts28zbGjT/FG8qqx1/7aDU=","exportNames":["*"],"imports":1}},{"name":"../../utils/data/trim.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":193},"end":{"line":5,"column":53,"index":228}}],"key":"lNZNO01mPvdMVXvjMtXBMqNQuls=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/fromHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":21,"index":251},"end":{"line":6,"column":63,"index":293}}],"key":"T6LoMSTzqzYJuDqc58ktEbJCK9Q=","exportNames":["*"],"imports":1}},{"name":"../../utils/formatters/transactionReceipt.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":32,"index":327},"end":{"line":7,"column":87,"index":382}}],"key":"+tx6Z3NJ5AAtijbxtS8Zvho4xQs=","exportNames":["*"],"imports":1}},{"name":"./sendCalls.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":23,"index":407},"end":{"line":8,"column":48,"index":432}}],"key":"hXxR6HmNkUaxgQ/IR/esXEd2br4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getCallsStatus = getCallsStatus;\n  const slice_js_1 = require(_dependencyMap[0], \"../../utils/data/slice.js\");\n  const trim_js_1 = require(_dependencyMap[1], \"../../utils/data/trim.js\");\n  const fromHex_js_1 = require(_dependencyMap[2], \"../../utils/encoding/fromHex.js\");\n  const transactionReceipt_js_1 = require(_dependencyMap[3], \"../../utils/formatters/transactionReceipt.js\");\n  const sendCalls_js_1 = require(_dependencyMap[4], \"./sendCalls.js\");\n  async function getCallsStatus(client, parameters) {\n    async function getStatus(id) {\n      const isTransactions = id.endsWith(sendCalls_js_1.fallbackMagicIdentifier.slice(2));\n      if (isTransactions) {\n        const chainId = (0, trim_js_1.trim)((0, slice_js_1.sliceHex)(id, -64, -32));\n        const hashes = (0, slice_js_1.sliceHex)(id, 0, -64).slice(2).match(/.{1,64}/g);\n        const receipts = await Promise.all(hashes.map(hash => sendCalls_js_1.fallbackTransactionErrorMagicIdentifier.slice(2) !== hash ? client.request({\n          method: 'eth_getTransactionReceipt',\n          params: [`0x${hash}`]\n        }, {\n          dedupe: true\n        }) : undefined));\n        const status = (() => {\n          if (receipts.some(r => r === null)) return 100;\n          if (receipts.every(r => r?.status === '0x1')) return 200;\n          if (receipts.every(r => r?.status === '0x0')) return 500;\n          return 600;\n        })();\n        return {\n          atomic: false,\n          chainId: (0, fromHex_js_1.hexToNumber)(chainId),\n          receipts: receipts.filter(Boolean),\n          status,\n          version: '2.0.0'\n        };\n      }\n      return client.request({\n        method: 'wallet_getCallsStatus',\n        params: [id]\n      });\n    }\n    const {\n      atomic = false,\n      chainId,\n      receipts,\n      version = '2.0.0',\n      ...response\n    } = await getStatus(parameters.id);\n    const [status, statusCode] = (() => {\n      const statusCode = response.status;\n      if (statusCode >= 100 && statusCode < 200) return ['pending', statusCode];\n      if (statusCode >= 200 && statusCode < 300) return ['success', statusCode];\n      if (statusCode >= 300 && statusCode < 700) return ['failure', statusCode];\n      if (statusCode === 'CONFIRMED') return ['success', 200];\n      if (statusCode === 'PENDING') return ['pending', 100];\n      return [undefined, statusCode];\n    })();\n    return {\n      ...response,\n      atomic,\n      chainId: chainId ? (0, fromHex_js_1.hexToNumber)(chainId) : undefined,\n      receipts: receipts?.map(receipt => ({\n        ...receipt,\n        blockNumber: (0, fromHex_js_1.hexToBigInt)(receipt.blockNumber),\n        gasUsed: (0, fromHex_js_1.hexToBigInt)(receipt.gasUsed),\n        status: transactionReceipt_js_1.receiptStatuses[receipt.status]\n      })) ?? [],\n      statusCode,\n      status,\n      version\n    };\n  }\n});","lineCount":75,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getCallsStatus"],[7,24,3,22],[7,27,3,25,"getCallsStatus"],[7,41,3,39],[8,2,4,0],[8,8,4,6,"slice_js_1"],[8,18,4,16],[8,21,4,19,"require"],[8,28,4,26],[8,29,4,26,"_dependencyMap"],[8,43,4,26],[8,75,4,54],[8,76,4,55],[9,2,5,0],[9,8,5,6,"trim_js_1"],[9,17,5,15],[9,20,5,18,"require"],[9,27,5,25],[9,28,5,25,"_dependencyMap"],[9,42,5,25],[9,73,5,52],[9,74,5,53],[10,2,6,0],[10,8,6,6,"fromHex_js_1"],[10,20,6,18],[10,23,6,21,"require"],[10,30,6,28],[10,31,6,28,"_dependencyMap"],[10,45,6,28],[10,83,6,62],[10,84,6,63],[11,2,7,0],[11,8,7,6,"transactionReceipt_js_1"],[11,31,7,29],[11,34,7,32,"require"],[11,41,7,39],[11,42,7,39,"_dependencyMap"],[11,56,7,39],[11,107,7,86],[11,108,7,87],[12,2,8,0],[12,8,8,6,"sendCalls_js_1"],[12,22,8,20],[12,25,8,23,"require"],[12,32,8,30],[12,33,8,30,"_dependencyMap"],[12,47,8,30],[12,68,8,47],[12,69,8,48],[13,2,9,0],[13,17,9,15,"getCallsStatus"],[13,31,9,29,"getCallsStatus"],[13,32,9,30,"client"],[13,38,9,36],[13,40,9,38,"parameters"],[13,50,9,48],[13,52,9,50],[14,4,10,4],[14,19,10,19,"getStatus"],[14,28,10,28,"getStatus"],[14,29,10,29,"id"],[14,31,10,31],[14,33,10,33],[15,6,11,8],[15,12,11,14,"isTransactions"],[15,26,11,28],[15,29,11,31,"id"],[15,31,11,33],[15,32,11,34,"endsWith"],[15,40,11,42],[15,41,11,43,"sendCalls_js_1"],[15,55,11,57],[15,56,11,58,"fallbackMagicIdentifier"],[15,79,11,81],[15,80,11,82,"slice"],[15,85,11,87],[15,86,11,88],[15,87,11,89],[15,88,11,90],[15,89,11,91],[16,6,12,8],[16,10,12,12,"isTransactions"],[16,24,12,26],[16,26,12,28],[17,8,13,12],[17,14,13,18,"chainId"],[17,21,13,25],[17,24,13,28],[17,25,13,29],[17,26,13,30],[17,28,13,32,"trim_js_1"],[17,37,13,41],[17,38,13,42,"trim"],[17,42,13,46],[17,44,13,48],[17,45,13,49],[17,46,13,50],[17,48,13,52,"slice_js_1"],[17,58,13,62],[17,59,13,63,"sliceHex"],[17,67,13,71],[17,69,13,73,"id"],[17,71,13,75],[17,73,13,77],[17,74,13,78],[17,76,13,80],[17,78,13,82],[17,79,13,83],[17,81,13,85],[17,82,13,86],[17,83,13,87],[18,8,14,12],[18,14,14,18,"hashes"],[18,20,14,24],[18,23,14,27],[18,24,14,28],[18,25,14,29],[18,27,14,31,"slice_js_1"],[18,37,14,41],[18,38,14,42,"sliceHex"],[18,46,14,50],[18,48,14,52,"id"],[18,50,14,54],[18,52,14,56],[18,53,14,57],[18,55,14,59],[18,56,14,60],[18,58,14,62],[18,59,14,63],[18,60,15,17,"slice"],[18,65,15,22],[18,66,15,23],[18,67,15,24],[18,68,15,25],[18,69,16,17,"match"],[18,74,16,22],[18,75,16,23],[18,85,16,33],[18,86,16,34],[19,8,17,12],[19,14,17,18,"receipts"],[19,22,17,26],[19,25,17,29],[19,31,17,35,"Promise"],[19,38,17,42],[19,39,17,43,"all"],[19,42,17,46],[19,43,17,47,"hashes"],[19,49,17,53],[19,50,17,54,"map"],[19,53,17,57],[19,54,17,59,"hash"],[19,58,17,63],[19,62,17,68,"sendCalls_js_1"],[19,76,17,82],[19,77,17,83,"fallbackTransactionErrorMagicIdentifier"],[19,116,17,122],[19,117,17,123,"slice"],[19,122,17,128],[19,123,17,129],[19,124,17,130],[19,125,17,131],[19,130,17,136,"hash"],[19,134,17,140],[19,137,18,18,"client"],[19,143,18,24],[19,144,18,25,"request"],[19,151,18,32],[19,152,18,33],[20,10,19,20,"method"],[20,16,19,26],[20,18,19,28],[20,45,19,55],[21,10,20,20,"params"],[21,16,20,26],[21,18,20,28],[21,19,20,29],[21,24,20,34,"hash"],[21,28,20,38],[21,30,20,40],[22,8,21,16],[22,9,21,17],[22,11,21,19],[23,10,21,21,"dedupe"],[23,16,21,27],[23,18,21,29],[24,8,21,34],[24,9,21,35],[24,10,21,36],[24,13,22,18,"undefined"],[24,22,22,27],[24,23,22,28],[24,24,22,29],[25,8,23,12],[25,14,23,18,"status"],[25,20,23,24],[25,23,23,27],[25,24,23,28],[25,30,23,34],[26,10,24,16],[26,14,24,20,"receipts"],[26,22,24,28],[26,23,24,29,"some"],[26,27,24,33],[26,28,24,35,"r"],[26,29,24,36],[26,33,24,41,"r"],[26,34,24,42],[26,39,24,47],[26,43,24,51],[26,44,24,52],[26,46,25,20],[26,53,25,27],[26,56,25,30],[27,10,26,16],[27,14,26,20,"receipts"],[27,22,26,28],[27,23,26,29,"every"],[27,28,26,34],[27,29,26,36,"r"],[27,30,26,37],[27,34,26,42,"r"],[27,35,26,43],[27,37,26,45,"status"],[27,43,26,51],[27,48,26,56],[27,53,26,61],[27,54,26,62],[27,56,27,20],[27,63,27,27],[27,66,27,30],[28,10,28,16],[28,14,28,20,"receipts"],[28,22,28,28],[28,23,28,29,"every"],[28,28,28,34],[28,29,28,36,"r"],[28,30,28,37],[28,34,28,42,"r"],[28,35,28,43],[28,37,28,45,"status"],[28,43,28,51],[28,48,28,56],[28,53,28,61],[28,54,28,62],[28,56,29,20],[28,63,29,27],[28,66,29,30],[29,10,30,16],[29,17,30,23],[29,20,30,26],[30,8,31,12],[30,9,31,13],[30,11,31,15],[30,12,31,16],[31,8,32,12],[31,15,32,19],[32,10,33,16,"atomic"],[32,16,33,22],[32,18,33,24],[32,23,33,29],[33,10,34,16,"chainId"],[33,17,34,23],[33,19,34,25],[33,20,34,26],[33,21,34,27],[33,23,34,29,"fromHex_js_1"],[33,35,34,41],[33,36,34,42,"hexToNumber"],[33,47,34,53],[33,49,34,55,"chainId"],[33,56,34,62],[33,57,34,63],[34,10,35,16,"receipts"],[34,18,35,24],[34,20,35,26,"receipts"],[34,28,35,34],[34,29,35,35,"filter"],[34,35,35,41],[34,36,35,42,"Boolean"],[34,43,35,49],[34,44,35,50],[35,10,36,16,"status"],[35,16,36,22],[36,10,37,16,"version"],[36,17,37,23],[36,19,37,25],[37,8,38,12],[37,9,38,13],[38,6,39,8],[39,6,40,8],[39,13,40,15,"client"],[39,19,40,21],[39,20,40,22,"request"],[39,27,40,29],[39,28,40,30],[40,8,41,12,"method"],[40,14,41,18],[40,16,41,20],[40,39,41,43],[41,8,42,12,"params"],[41,14,42,18],[41,16,42,20],[41,17,42,21,"id"],[41,19,42,23],[42,6,43,8],[42,7,43,9],[42,8,43,10],[43,4,44,4],[44,4,45,4],[44,10,45,10],[45,6,45,12,"atomic"],[45,12,45,18],[45,15,45,21],[45,20,45,26],[46,6,45,28,"chainId"],[46,13,45,35],[47,6,45,37,"receipts"],[47,14,45,45],[48,6,45,47,"version"],[48,13,45,54],[48,16,45,57],[48,23,45,64],[49,6,45,66],[49,9,45,69,"response"],[50,4,45,78],[50,5,45,79],[50,8,45,82],[50,14,45,88,"getStatus"],[50,23,45,97],[50,24,45,98,"parameters"],[50,34,45,108],[50,35,45,109,"id"],[50,37,45,111],[50,38,45,112],[51,4,46,4],[51,10,46,10],[51,11,46,11,"status"],[51,17,46,17],[51,19,46,19,"statusCode"],[51,29,46,29],[51,30,46,30],[51,33,46,33],[51,34,46,34],[51,40,46,40],[52,6,47,8],[52,12,47,14,"statusCode"],[52,22,47,24],[52,25,47,27,"response"],[52,33,47,35],[52,34,47,36,"status"],[52,40,47,42],[53,6,48,8],[53,10,48,12,"statusCode"],[53,20,48,22],[53,24,48,26],[53,27,48,29],[53,31,48,33,"statusCode"],[53,41,48,43],[53,44,48,46],[53,47,48,49],[53,49,49,12],[53,56,49,19],[53,57,49,20],[53,66,49,29],[53,68,49,31,"statusCode"],[53,78,49,41],[53,79,49,42],[54,6,50,8],[54,10,50,12,"statusCode"],[54,20,50,22],[54,24,50,26],[54,27,50,29],[54,31,50,33,"statusCode"],[54,41,50,43],[54,44,50,46],[54,47,50,49],[54,49,51,12],[54,56,51,19],[54,57,51,20],[54,66,51,29],[54,68,51,31,"statusCode"],[54,78,51,41],[54,79,51,42],[55,6,52,8],[55,10,52,12,"statusCode"],[55,20,52,22],[55,24,52,26],[55,27,52,29],[55,31,52,33,"statusCode"],[55,41,52,43],[55,44,52,46],[55,47,52,49],[55,49,53,12],[55,56,53,19],[55,57,53,20],[55,66,53,29],[55,68,53,31,"statusCode"],[55,78,53,41],[55,79,53,42],[56,6,54,8],[56,10,54,12,"statusCode"],[56,20,54,22],[56,25,54,27],[56,36,54,38],[56,38,55,12],[56,45,55,19],[56,46,55,20],[56,55,55,29],[56,57,55,31],[56,60,55,34],[56,61,55,35],[57,6,56,8],[57,10,56,12,"statusCode"],[57,20,56,22],[57,25,56,27],[57,34,56,36],[57,36,57,12],[57,43,57,19],[57,44,57,20],[57,53,57,29],[57,55,57,31],[57,58,57,34],[57,59,57,35],[58,6,58,8],[58,13,58,15],[58,14,58,16,"undefined"],[58,23,58,25],[58,25,58,27,"statusCode"],[58,35,58,37],[58,36,58,38],[59,4,59,4],[59,5,59,5],[59,7,59,7],[59,8,59,8],[60,4,60,4],[60,11,60,11],[61,6,61,8],[61,9,61,11,"response"],[61,17,61,19],[62,6,62,8,"atomic"],[62,12,62,14],[63,6,63,8,"chainId"],[63,13,63,15],[63,15,63,17,"chainId"],[63,22,63,24],[63,25,63,27],[63,26,63,28],[63,27,63,29],[63,29,63,31,"fromHex_js_1"],[63,41,63,43],[63,42,63,44,"hexToNumber"],[63,53,63,55],[63,55,63,57,"chainId"],[63,62,63,64],[63,63,63,65],[63,66,63,68,"undefined"],[63,75,63,77],[64,6,64,8,"receipts"],[64,14,64,16],[64,16,64,18,"receipts"],[64,24,64,26],[64,26,64,28,"map"],[64,29,64,31],[64,30,64,33,"receipt"],[64,37,64,40],[64,42,64,46],[65,8,65,12],[65,11,65,15,"receipt"],[65,18,65,22],[66,8,66,12,"blockNumber"],[66,19,66,23],[66,21,66,25],[66,22,66,26],[66,23,66,27],[66,25,66,29,"fromHex_js_1"],[66,37,66,41],[66,38,66,42,"hexToBigInt"],[66,49,66,53],[66,51,66,55,"receipt"],[66,58,66,62],[66,59,66,63,"blockNumber"],[66,70,66,74],[66,71,66,75],[67,8,67,12,"gasUsed"],[67,15,67,19],[67,17,67,21],[67,18,67,22],[67,19,67,23],[67,21,67,25,"fromHex_js_1"],[67,33,67,37],[67,34,67,38,"hexToBigInt"],[67,45,67,49],[67,47,67,51,"receipt"],[67,54,67,58],[67,55,67,59,"gasUsed"],[67,62,67,66],[67,63,67,67],[68,8,68,12,"status"],[68,14,68,18],[68,16,68,20,"transactionReceipt_js_1"],[68,39,68,43],[68,40,68,44,"receiptStatuses"],[68,55,68,59],[68,56,68,60,"receipt"],[68,63,68,67],[68,64,68,68,"status"],[68,70,68,74],[69,6,69,8],[69,7,69,9],[69,8,69,10],[69,9,69,11],[69,13,69,15],[69,15,69,17],[70,6,70,8,"statusCode"],[70,16,70,18],[71,6,71,8,"status"],[71,12,71,14],[72,6,72,8,"version"],[73,4,73,4],[73,5,73,5],[74,2,74,0],[75,0,74,1],[75,3]],"functionMap":{"names":["<global>","getCallsStatus","getStatus","hashes.map$argument_0","<anonymous>","receipts.some$argument_0","receipts.every$argument_0","receipts.map$argument_0"],"mappings":"AAA;ACQ;ICC;0DCO;2BDK;4BEC;kCCC,iBD;mCEE,0BF;mCEE,0BF;aFG;KDa;kCGE;KHa;gCMK;UNK;CDK"},"hasCjsExports":true},"type":"js/module"}]}