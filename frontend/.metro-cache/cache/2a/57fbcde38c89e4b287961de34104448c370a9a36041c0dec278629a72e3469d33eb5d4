{"dependencies":[{"name":"valtio","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":37,"index":37}}],"key":"QS/s3I3dpzUou32XrKY5Z5Z48Ms=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":38},"end":{"line":2,"column":33,"index":71}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@web3modal/core-react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":72},"end":{"line":3,"column":136,"index":208}}],"key":"fXjuVrywn0pgc7wTbbjNAvAYWH8=","exportNames":["*"],"imports":1}},{"name":"../../partials/w3m-otp-code","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":209},"end":{"line":4,"column":58,"index":267}}],"key":"0kKrVPmPNsLb9GHgirTFxslWxHU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.UpdateEmailSecondaryOtpView = UpdateEmailSecondaryOtpView;\n  var _valtio = require(_dependencyMap[0], \"valtio\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _web3modalCoreReactNative = require(_dependencyMap[2], \"@web3modal/core-react-native\");\n  var _partialsW3mOtpCode = require(_dependencyMap[3], \"../../partials/w3m-otp-code\");\n  function UpdateEmailSecondaryOtpView() {\n    const {\n      data\n    } = (0, _valtio.useSnapshot)(_web3modalCoreReactNative.RouterController.state);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)('');\n    const emailConnector = _web3modalCoreReactNative.ConnectorController.getEmailConnector();\n    const onOtpSubmit = async value => {\n      if (!emailConnector) return;\n      setLoading(true);\n      setError('');\n      try {\n        const provider = emailConnector?.provider;\n        await provider.updateEmailSecondaryOtp({\n          otp: value\n        });\n        _web3modalCoreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_VERIFICATION_CODE_PASS'\n        });\n        _web3modalCoreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_EDIT_COMPLETE'\n        });\n        _web3modalCoreReactNative.RouterController.reset('Account');\n      } catch (e) {\n        _web3modalCoreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_VERIFICATION_CODE_FAIL'\n        });\n        const parsedError = _web3modalCoreReactNative.CoreHelperUtil.parseError(e);\n        if (parsedError?.includes('Invalid Otp')) {\n          setError('Invalid code. Try again.');\n        } else {\n          _web3modalCoreReactNative.SnackController.showError(parsedError);\n        }\n      }\n      setLoading(false);\n    };\n    return /*#__PURE__*/React.createElement(_partialsW3mOtpCode.OtpCodeView, {\n      loading: loading,\n      error: error,\n      email: data?.newEmail,\n      onSubmit: onOtpSubmit,\n      onRetry: _web3modalCoreReactNative.RouterController.goBack,\n      codeExpiry: 10,\n      retryLabel: \"Something wrong?\",\n      retryDisabledButtonLabel: \"Try again\",\n      retryButtonLabel: \"Try again\"\n    });\n  }\n});","lineCount":63,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"UpdateEmailSecondaryOtpView"],[7,37,5,0],[7,40,5,0,"UpdateEmailSecondaryOtpView"],[7,67,5,0],[8,2,1,0],[8,6,1,0,"_valtio"],[8,13,1,0],[8,16,1,0,"require"],[8,23,1,0],[8,24,1,0,"_dependencyMap"],[8,38,1,0],[9,2,2,0],[9,6,2,0,"_react"],[9,12,2,0],[9,15,2,0,"require"],[9,22,2,0],[9,23,2,0,"_dependencyMap"],[9,37,2,0],[10,2,3,0],[10,6,3,0,"_web3modalCoreReactNative"],[10,31,3,0],[10,34,3,0,"require"],[10,41,3,0],[10,42,3,0,"_dependencyMap"],[10,56,3,0],[11,2,4,0],[11,6,4,0,"_partialsW3mOtpCode"],[11,25,4,0],[11,28,4,0,"require"],[11,35,4,0],[11,36,4,0,"_dependencyMap"],[11,50,4,0],[12,2,5,7],[12,11,5,16,"UpdateEmailSecondaryOtpView"],[12,38,5,43,"UpdateEmailSecondaryOtpView"],[12,39,5,43],[12,41,5,46],[13,4,6,2],[13,10,6,8],[14,6,7,4,"data"],[15,4,8,2],[15,5,8,3],[15,8,8,6],[15,12,8,6,"useSnapshot"],[15,19,8,17],[15,20,8,17,"useSnapshot"],[15,31,8,17],[15,33,8,18,"RouterController"],[15,58,8,34],[15,59,8,34,"RouterController"],[15,75,8,34],[15,76,8,35,"state"],[15,81,8,40],[15,82,8,41],[16,4,9,2],[16,10,9,8],[16,11,9,9,"loading"],[16,18,9,16],[16,20,9,18,"setLoading"],[16,30,9,28],[16,31,9,29],[16,34,9,32],[16,38,9,32,"useState"],[16,44,9,40],[16,45,9,40,"useState"],[16,53,9,40],[16,55,9,41],[16,60,9,46],[16,61,9,47],[17,4,10,2],[17,10,10,8],[17,11,10,9,"error"],[17,16,10,14],[17,18,10,16,"setError"],[17,26,10,24],[17,27,10,25],[17,30,10,28],[17,34,10,28,"useState"],[17,40,10,36],[17,41,10,36,"useState"],[17,49,10,36],[17,51,10,37],[17,53,10,39],[17,54,10,40],[18,4,11,2],[18,10,11,8,"emailConnector"],[18,24,11,22],[18,27,11,25,"ConnectorController"],[18,52,11,44],[18,53,11,44,"ConnectorController"],[18,72,11,44],[18,73,11,45,"getEmailConnector"],[18,90,11,62],[18,91,11,63],[18,92,11,64],[19,4,12,2],[19,10,12,8,"onOtpSubmit"],[19,21,12,19],[19,24,12,22],[19,30,12,28,"value"],[19,35,12,33],[19,39,12,37],[20,6,13,4],[20,10,13,8],[20,11,13,9,"emailConnector"],[20,25,13,23],[20,27,13,25],[21,6,14,4,"setLoading"],[21,16,14,14],[21,17,14,15],[21,21,14,19],[21,22,14,20],[22,6,15,4,"setError"],[22,14,15,12],[22,15,15,13],[22,17,15,15],[22,18,15,16],[23,6,16,4],[23,10,16,8],[24,8,17,6],[24,14,17,12,"provider"],[24,22,17,20],[24,25,17,23,"emailConnector"],[24,39,17,37],[24,41,17,39,"provider"],[24,49,17,47],[25,8,18,6],[25,14,18,12,"provider"],[25,22,18,20],[25,23,18,21,"updateEmailSecondaryOtp"],[25,46,18,44],[25,47,18,45],[26,10,19,8,"otp"],[26,13,19,11],[26,15,19,13,"value"],[27,8,20,6],[27,9,20,7],[27,10,20,8],[28,8,21,6,"EventsController"],[28,33,21,22],[28,34,21,22,"EventsController"],[28,50,21,22],[28,51,21,23,"sendEvent"],[28,60,21,32],[28,61,21,33],[29,10,22,8,"type"],[29,14,22,12],[29,16,22,14],[29,23,22,21],[30,10,23,8,"event"],[30,15,23,13],[30,17,23,15],[31,8,24,6],[31,9,24,7],[31,10,24,8],[32,8,25,6,"EventsController"],[32,33,25,22],[32,34,25,22,"EventsController"],[32,50,25,22],[32,51,25,23,"sendEvent"],[32,60,25,32],[32,61,25,33],[33,10,26,8,"type"],[33,14,26,12],[33,16,26,14],[33,23,26,21],[34,10,27,8,"event"],[34,15,27,13],[34,17,27,15],[35,8,28,6],[35,9,28,7],[35,10,28,8],[36,8,29,6,"RouterController"],[36,33,29,22],[36,34,29,22,"RouterController"],[36,50,29,22],[36,51,29,23,"reset"],[36,56,29,28],[36,57,29,29],[36,66,29,38],[36,67,29,39],[37,6,30,4],[37,7,30,5],[37,8,30,6],[37,15,30,13,"e"],[37,16,30,14],[37,18,30,16],[38,8,31,6,"EventsController"],[38,33,31,22],[38,34,31,22,"EventsController"],[38,50,31,22],[38,51,31,23,"sendEvent"],[38,60,31,32],[38,61,31,33],[39,10,32,8,"type"],[39,14,32,12],[39,16,32,14],[39,23,32,21],[40,10,33,8,"event"],[40,15,33,13],[40,17,33,15],[41,8,34,6],[41,9,34,7],[41,10,34,8],[42,8,35,6],[42,14,35,12,"parsedError"],[42,25,35,23],[42,28,35,26,"CoreHelperUtil"],[42,53,35,40],[42,54,35,40,"CoreHelperUtil"],[42,68,35,40],[42,69,35,41,"parseError"],[42,79,35,51],[42,80,35,52,"e"],[42,81,35,53],[42,82,35,54],[43,8,36,6],[43,12,36,10,"parsedError"],[43,23,36,21],[43,25,36,23,"includes"],[43,33,36,31],[43,34,36,32],[43,47,36,45],[43,48,36,46],[43,50,36,48],[44,10,37,8,"setError"],[44,18,37,16],[44,19,37,17],[44,45,37,43],[44,46,37,44],[45,8,38,6],[45,9,38,7],[45,15,38,13],[46,10,39,8,"SnackController"],[46,35,39,23],[46,36,39,23,"SnackController"],[46,51,39,23],[46,52,39,24,"showError"],[46,61,39,33],[46,62,39,34,"parsedError"],[46,73,39,45],[46,74,39,46],[47,8,40,6],[48,6,41,4],[49,6,42,4,"setLoading"],[49,16,42,14],[49,17,42,15],[49,22,42,20],[49,23,42,21],[50,4,43,2],[50,5,43,3],[51,4,44,2],[51,11,44,9],[51,24,44,22,"React"],[51,29,44,27],[51,30,44,28,"createElement"],[51,43,44,41],[51,44,44,42,"OtpCodeView"],[51,63,44,53],[51,64,44,53,"OtpCodeView"],[51,75,44,53],[51,77,44,55],[52,6,45,4,"loading"],[52,13,45,11],[52,15,45,13,"loading"],[52,22,45,20],[53,6,46,4,"error"],[53,11,46,9],[53,13,46,11,"error"],[53,18,46,16],[54,6,47,4,"email"],[54,11,47,9],[54,13,47,11,"data"],[54,17,47,15],[54,19,47,17,"newEmail"],[54,27,47,25],[55,6,48,4,"onSubmit"],[55,14,48,12],[55,16,48,14,"onOtpSubmit"],[55,27,48,25],[56,6,49,4,"onRetry"],[56,13,49,11],[56,15,49,13,"RouterController"],[56,40,49,29],[56,41,49,29,"RouterController"],[56,57,49,29],[56,58,49,30,"goBack"],[56,64,49,36],[57,6,50,4,"codeExpiry"],[57,16,50,14],[57,18,50,16],[57,20,50,18],[58,6,51,4,"retryLabel"],[58,16,51,14],[58,18,51,16],[58,36,51,34],[59,6,52,4,"retryDisabledButtonLabel"],[59,30,52,28],[59,32,52,30],[59,43,52,41],[60,6,53,4,"retryButtonLabel"],[60,22,53,20],[60,24,53,22],[61,4,54,2],[61,5,54,3],[61,6,54,4],[62,2,55,0],[63,0,55,1],[63,3]],"functionMap":{"names":["<global>","UpdateEmailSecondaryOtpView","onOtpSubmit"],"mappings":"AAA;OCI;sBCO;GD+B;CDY"},"hasCjsExports":false},"type":"js/module"}]}