{"dependencies":[{"name":"./actions/reconnect.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"3iPcA62Tdh+XcbmADclHrqTpNEs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.hydrate = hydrate;\n  var _actionsReconnectJs = require(_dependencyMap[0], \"./actions/reconnect.js\");\n  function hydrate(config, parameters) {\n    const {\n      initialState,\n      reconnectOnMount\n    } = parameters;\n    if (initialState && !config._internal.store.persist.hasHydrated()) config.setState({\n      ...initialState,\n      chainId: config.chains.some(x => x.id === initialState.chainId) ? initialState.chainId : config.chains[0].id,\n      connections: reconnectOnMount ? initialState.connections : new Map(),\n      status: reconnectOnMount ? 'reconnecting' : 'disconnected'\n    });\n    return {\n      async onMount() {\n        if (config._internal.ssr) {\n          await config._internal.store.persist.rehydrate();\n          if (config._internal.mipd) {\n            config._internal.connectors.setState(connectors => {\n              const rdnsSet = new Set();\n              for (const connector of connectors ?? []) {\n                if (connector.rdns) {\n                  const rdnsValues = Array.isArray(connector.rdns) ? connector.rdns : [connector.rdns];\n                  for (const rdns of rdnsValues) {\n                    rdnsSet.add(rdns);\n                  }\n                }\n              }\n              const mipdConnectors = [];\n              const providers = config._internal.mipd?.getProviders() ?? [];\n              for (const provider of providers) {\n                if (rdnsSet.has(provider.info.rdns)) continue;\n                const connectorFn = config._internal.connectors.providerDetailToConnector(provider);\n                const connector = config._internal.connectors.setup(connectorFn);\n                mipdConnectors.push(connector);\n              }\n              return [...connectors, ...mipdConnectors];\n            });\n          }\n        }\n        if (reconnectOnMount) (0, _actionsReconnectJs.reconnect)(config);else if (config.storage)\n          // Reset connections that may have been hydrated from storage.\n          config.setState(x => ({\n            ...x,\n            connections: new Map()\n          }));\n      }\n    };\n  }\n});","lineCount":56,"map":[[7,2,2,0,"exports"],[7,9,2,0],[7,10,2,0,"hydrate"],[7,17,2,0],[7,20,2,0,"hydrate"],[7,27,2,0],[8,2,1,0],[8,6,1,0,"_actionsReconnectJs"],[8,25,1,0],[8,28,1,0,"require"],[8,35,1,0],[8,36,1,0,"_dependencyMap"],[8,50,1,0],[9,2,2,7],[9,11,2,16,"hydrate"],[9,18,2,23,"hydrate"],[9,19,2,24,"config"],[9,25,2,30],[9,27,2,32,"parameters"],[9,37,2,42],[9,39,2,44],[10,4,3,4],[10,10,3,10],[11,6,3,12,"initialState"],[11,18,3,24],[12,6,3,26,"reconnectOnMount"],[13,4,3,43],[13,5,3,44],[13,8,3,47,"parameters"],[13,18,3,57],[14,4,4,4],[14,8,4,8,"initialState"],[14,20,4,20],[14,24,4,24],[14,25,4,25,"config"],[14,31,4,31],[14,32,4,32,"_internal"],[14,41,4,41],[14,42,4,42,"store"],[14,47,4,47],[14,48,4,48,"persist"],[14,55,4,55],[14,56,4,56,"hasHydrated"],[14,67,4,67],[14,68,4,68],[14,69,4,69],[14,71,5,8,"config"],[14,77,5,14],[14,78,5,15,"setState"],[14,86,5,23],[14,87,5,24],[15,6,6,12],[15,9,6,15,"initialState"],[15,21,6,27],[16,6,7,12,"chainId"],[16,13,7,19],[16,15,7,21,"config"],[16,21,7,27],[16,22,7,28,"chains"],[16,28,7,34],[16,29,7,35,"some"],[16,33,7,39],[16,34,7,41,"x"],[16,35,7,42],[16,39,7,47,"x"],[16,40,7,48],[16,41,7,49,"id"],[16,43,7,51],[16,48,7,56,"initialState"],[16,60,7,68],[16,61,7,69,"chainId"],[16,68,7,76],[16,69,7,77],[16,72,8,18,"initialState"],[16,84,8,30],[16,85,8,31,"chainId"],[16,92,8,38],[16,95,9,18,"config"],[16,101,9,24],[16,102,9,25,"chains"],[16,108,9,31],[16,109,9,32],[16,110,9,33],[16,111,9,34],[16,112,9,35,"id"],[16,114,9,37],[17,6,10,12,"connections"],[17,17,10,23],[17,19,10,25,"reconnectOnMount"],[17,35,10,41],[17,38,10,44,"initialState"],[17,50,10,56],[17,51,10,57,"connections"],[17,62,10,68],[17,65,10,71],[17,69,10,75,"Map"],[17,72,10,78],[17,73,10,79],[17,74,10,80],[18,6,11,12,"status"],[18,12,11,18],[18,14,11,20,"reconnectOnMount"],[18,30,11,36],[18,33,11,39],[18,47,11,53],[18,50,11,56],[19,4,12,8],[19,5,12,9],[19,6,12,10],[20,4,13,4],[20,11,13,11],[21,6,14,8],[21,12,14,14,"onMount"],[21,19,14,21,"onMount"],[21,20,14,21],[21,22,14,24],[22,8,15,12],[22,12,15,16,"config"],[22,18,15,22],[22,19,15,23,"_internal"],[22,28,15,32],[22,29,15,33,"ssr"],[22,32,15,36],[22,34,15,38],[23,10,16,16],[23,16,16,22,"config"],[23,22,16,28],[23,23,16,29,"_internal"],[23,32,16,38],[23,33,16,39,"store"],[23,38,16,44],[23,39,16,45,"persist"],[23,46,16,52],[23,47,16,53,"rehydrate"],[23,56,16,62],[23,57,16,63],[23,58,16,64],[24,10,17,16],[24,14,17,20,"config"],[24,20,17,26],[24,21,17,27,"_internal"],[24,30,17,36],[24,31,17,37,"mipd"],[24,35,17,41],[24,37,17,43],[25,12,18,20,"config"],[25,18,18,26],[25,19,18,27,"_internal"],[25,28,18,36],[25,29,18,37,"connectors"],[25,39,18,47],[25,40,18,48,"setState"],[25,48,18,56],[25,49,18,58,"connectors"],[25,59,18,68],[25,63,18,73],[26,14,19,24],[26,20,19,30,"rdnsSet"],[26,27,19,37],[26,30,19,40],[26,34,19,44,"Set"],[26,37,19,47],[26,38,19,48],[26,39,19,49],[27,14,20,24],[27,19,20,29],[27,25,20,35,"connector"],[27,34,20,44],[27,38,20,48,"connectors"],[27,48,20,58],[27,52,20,62],[27,54,20,64],[27,56,20,66],[28,16,21,28],[28,20,21,32,"connector"],[28,29,21,41],[28,30,21,42,"rdns"],[28,34,21,46],[28,36,21,48],[29,18,22,32],[29,24,22,38,"rdnsValues"],[29,34,22,48],[29,37,22,51,"Array"],[29,42,22,56],[29,43,22,57,"isArray"],[29,50,22,64],[29,51,22,65,"connector"],[29,60,22,74],[29,61,22,75,"rdns"],[29,65,22,79],[29,66,22,80],[29,69,23,38,"connector"],[29,78,23,47],[29,79,23,48,"rdns"],[29,83,23,52],[29,86,24,38],[29,87,24,39,"connector"],[29,96,24,48],[29,97,24,49,"rdns"],[29,101,24,53],[29,102,24,54],[30,18,25,32],[30,23,25,37],[30,29,25,43,"rdns"],[30,33,25,47],[30,37,25,51,"rdnsValues"],[30,47,25,61],[30,49,25,63],[31,20,26,36,"rdnsSet"],[31,27,26,43],[31,28,26,44,"add"],[31,31,26,47],[31,32,26,48,"rdns"],[31,36,26,52],[31,37,26,53],[32,18,27,32],[33,16,28,28],[34,14,29,24],[35,14,30,24],[35,20,30,30,"mipdConnectors"],[35,34,30,44],[35,37,30,47],[35,39,30,49],[36,14,31,24],[36,20,31,30,"providers"],[36,29,31,39],[36,32,31,42,"config"],[36,38,31,48],[36,39,31,49,"_internal"],[36,48,31,58],[36,49,31,59,"mipd"],[36,53,31,63],[36,55,31,65,"getProviders"],[36,67,31,77],[36,68,31,78],[36,69,31,79],[36,73,31,83],[36,75,31,85],[37,14,32,24],[37,19,32,29],[37,25,32,35,"provider"],[37,33,32,43],[37,37,32,47,"providers"],[37,46,32,56],[37,48,32,58],[38,16,33,28],[38,20,33,32,"rdnsSet"],[38,27,33,39],[38,28,33,40,"has"],[38,31,33,43],[38,32,33,44,"provider"],[38,40,33,52],[38,41,33,53,"info"],[38,45,33,57],[38,46,33,58,"rdns"],[38,50,33,62],[38,51,33,63],[38,53,34,32],[39,16,35,28],[39,22,35,34,"connectorFn"],[39,33,35,45],[39,36,35,48,"config"],[39,42,35,54],[39,43,35,55,"_internal"],[39,52,35,64],[39,53,35,65,"connectors"],[39,63,35,75],[39,64,35,76,"providerDetailToConnector"],[39,89,35,101],[39,90,35,102,"provider"],[39,98,35,110],[39,99,35,111],[40,16,36,28],[40,22,36,34,"connector"],[40,31,36,43],[40,34,36,46,"config"],[40,40,36,52],[40,41,36,53,"_internal"],[40,50,36,62],[40,51,36,63,"connectors"],[40,61,36,73],[40,62,36,74,"setup"],[40,67,36,79],[40,68,36,80,"connectorFn"],[40,79,36,91],[40,80,36,92],[41,16,37,28,"mipdConnectors"],[41,30,37,42],[41,31,37,43,"push"],[41,35,37,47],[41,36,37,48,"connector"],[41,45,37,57],[41,46,37,58],[42,14,38,24],[43,14,39,24],[43,21,39,31],[43,22,39,32],[43,25,39,35,"connectors"],[43,35,39,45],[43,37,39,47],[43,40,39,50,"mipdConnectors"],[43,54,39,64],[43,55,39,65],[44,12,40,20],[44,13,40,21],[44,14,40,22],[45,10,41,16],[46,8,42,12],[47,8,43,12],[47,12,43,16,"reconnectOnMount"],[47,28,43,32],[47,30,44,16],[47,34,44,16,"reconnect"],[47,53,44,25],[47,54,44,25,"reconnect"],[47,63,44,25],[47,65,44,26,"config"],[47,71,44,32],[47,72,44,33],[47,73,44,34],[47,78,45,17],[47,82,45,21,"config"],[47,88,45,27],[47,89,45,28,"storage"],[47,96,45,35],[48,10,46,16],[49,10,47,16,"config"],[49,16,47,22],[49,17,47,23,"setState"],[49,25,47,31],[49,26,47,33,"x"],[49,27,47,34],[49,32,47,40],[50,12,48,20],[50,15,48,23,"x"],[50,16,48,24],[51,12,49,20,"connections"],[51,23,49,31],[51,25,49,33],[51,29,49,37,"Map"],[51,32,49,40],[51,33,49,41],[52,10,50,16],[52,11,50,17],[52,12,50,18],[52,13,50,19],[53,6,51,8],[54,4,52,4],[54,5,52,5],[55,2,53,0],[56,0,53,1],[56,3]],"functionMap":{"names":["<global>","hydrate","config.chains.some$argument_0","onMount","config._internal.connectors.setState$argument_0","config.setState$argument_0"],"mappings":"AAA;OCC;wCCK,oCD;QEO;yDCI;qBDsB;gCEO;kBFG;SFC;CDE"},"hasCjsExports":false},"type":"js/module"}]}