{"dependencies":[{"name":"../address/isAddress.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":23,"index":151},"end":{"line":4,"column":57,"index":185}}],"key":"HDmWANfiRQxYBmiBRduDisxzbGc=","exportNames":["*"],"imports":1}},{"name":"../address/isAddressEqual.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":28,"index":215},"end":{"line":5,"column":67,"index":254}}],"key":"G+mn4YBvcSc/Ic6uwpWkGiF5IkY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.validateSiweMessage = validateSiweMessage;\n  const isAddress_js_1 = require(_dependencyMap[0], \"../address/isAddress.js\");\n  const isAddressEqual_js_1 = require(_dependencyMap[1], \"../address/isAddressEqual.js\");\n  function validateSiweMessage(parameters) {\n    const {\n      address,\n      domain,\n      message,\n      nonce,\n      scheme,\n      time = new Date()\n    } = parameters;\n    if (domain && message.domain !== domain) return false;\n    if (nonce && message.nonce !== nonce) return false;\n    if (scheme && message.scheme !== scheme) return false;\n    if (message.expirationTime && time >= message.expirationTime) return false;\n    if (message.notBefore && time < message.notBefore) return false;\n    try {\n      if (!message.address) return false;\n      if (!(0, isAddress_js_1.isAddress)(message.address, {\n        strict: false\n      })) return false;\n      if (address && !(0, isAddressEqual_js_1.isAddressEqual)(message.address, address)) return false;\n    } catch {\n      return false;\n    }\n    return true;\n  }\n});","lineCount":35,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"validateSiweMessage"],[7,29,3,27],[7,32,3,30,"validateSiweMessage"],[7,51,3,49],[8,2,4,0],[8,8,4,6,"isAddress_js_1"],[8,22,4,20],[8,25,4,23,"require"],[8,32,4,30],[8,33,4,30,"_dependencyMap"],[8,47,4,30],[8,77,4,56],[8,78,4,57],[9,2,5,0],[9,8,5,6,"isAddressEqual_js_1"],[9,27,5,25],[9,30,5,28,"require"],[9,37,5,35],[9,38,5,35,"_dependencyMap"],[9,52,5,35],[9,87,5,66],[9,88,5,67],[10,2,6,0],[10,11,6,9,"validateSiweMessage"],[10,30,6,28,"validateSiweMessage"],[10,31,6,29,"parameters"],[10,41,6,39],[10,43,6,41],[11,4,7,4],[11,10,7,10],[12,6,7,12,"address"],[12,13,7,19],[13,6,7,21,"domain"],[13,12,7,27],[14,6,7,29,"message"],[14,13,7,36],[15,6,7,38,"nonce"],[15,11,7,43],[16,6,7,45,"scheme"],[16,12,7,51],[17,6,7,53,"time"],[17,10,7,57],[17,13,7,60],[17,17,7,64,"Date"],[17,21,7,68],[17,22,7,69],[18,4,7,72],[18,5,7,73],[18,8,7,76,"parameters"],[18,18,7,86],[19,4,8,4],[19,8,8,8,"domain"],[19,14,8,14],[19,18,8,18,"message"],[19,25,8,25],[19,26,8,26,"domain"],[19,32,8,32],[19,37,8,37,"domain"],[19,43,8,43],[19,45,9,8],[19,52,9,15],[19,57,9,20],[20,4,10,4],[20,8,10,8,"nonce"],[20,13,10,13],[20,17,10,17,"message"],[20,24,10,24],[20,25,10,25,"nonce"],[20,30,10,30],[20,35,10,35,"nonce"],[20,40,10,40],[20,42,11,8],[20,49,11,15],[20,54,11,20],[21,4,12,4],[21,8,12,8,"scheme"],[21,14,12,14],[21,18,12,18,"message"],[21,25,12,25],[21,26,12,26,"scheme"],[21,32,12,32],[21,37,12,37,"scheme"],[21,43,12,43],[21,45,13,8],[21,52,13,15],[21,57,13,20],[22,4,14,4],[22,8,14,8,"message"],[22,15,14,15],[22,16,14,16,"expirationTime"],[22,30,14,30],[22,34,14,34,"time"],[22,38,14,38],[22,42,14,42,"message"],[22,49,14,49],[22,50,14,50,"expirationTime"],[22,64,14,64],[22,66,15,8],[22,73,15,15],[22,78,15,20],[23,4,16,4],[23,8,16,8,"message"],[23,15,16,15],[23,16,16,16,"notBefore"],[23,25,16,25],[23,29,16,29,"time"],[23,33,16,33],[23,36,16,36,"message"],[23,43,16,43],[23,44,16,44,"notBefore"],[23,53,16,53],[23,55,17,8],[23,62,17,15],[23,67,17,20],[24,4,18,4],[24,8,18,8],[25,6,19,8],[25,10,19,12],[25,11,19,13,"message"],[25,18,19,20],[25,19,19,21,"address"],[25,26,19,28],[25,28,20,12],[25,35,20,19],[25,40,20,24],[26,6,21,8],[26,10,21,12],[26,11,21,13],[26,12,21,14],[26,13,21,15],[26,15,21,17,"isAddress_js_1"],[26,29,21,31],[26,30,21,32,"isAddress"],[26,39,21,41],[26,41,21,43,"message"],[26,48,21,50],[26,49,21,51,"address"],[26,56,21,58],[26,58,21,60],[27,8,21,62,"strict"],[27,14,21,68],[27,16,21,70],[28,6,21,76],[28,7,21,77],[28,8,21,78],[28,10,22,12],[28,17,22,19],[28,22,22,24],[29,6,23,8],[29,10,23,12,"address"],[29,17,23,19],[29,21,23,23],[29,22,23,24],[29,23,23,25],[29,24,23,26],[29,26,23,28,"isAddressEqual_js_1"],[29,45,23,47],[29,46,23,48,"isAddressEqual"],[29,60,23,62],[29,62,23,64,"message"],[29,69,23,71],[29,70,23,72,"address"],[29,77,23,79],[29,79,23,81,"address"],[29,86,23,88],[29,87,23,89],[29,89,24,12],[29,96,24,19],[29,101,24,24],[30,4,25,4],[30,5,25,5],[30,6,26,4],[30,12,26,10],[31,6,27,8],[31,13,27,15],[31,18,27,20],[32,4,28,4],[33,4,29,4],[33,11,29,11],[33,15,29,15],[34,2,30,0],[35,0,30,1],[35,3]],"functionMap":{"names":["<global>","validateSiweMessage"],"mappings":"AAA;ACK;CDwB"},"hasCjsExports":true},"type":"js/module"}]}