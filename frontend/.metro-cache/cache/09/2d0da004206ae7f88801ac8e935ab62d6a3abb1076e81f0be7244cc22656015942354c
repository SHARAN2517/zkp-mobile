{"dependencies":[{"name":"../errors/address.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":21,"index":242},"end":{"line":6,"column":52,"index":273}}],"key":"yTO90mXGGpNPmscyCcfY/uo3anM=","exportNames":["*"],"imports":1}},{"name":"../utils/address/isAddress.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":298},"end":{"line":7,"column":63,"index":338}}],"key":"IT/a8GwCVoIXFVHU3Ppm/8goKYY=","exportNames":["*"],"imports":1}},{"name":"../utils/data/concat.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":20,"index":360},"end":{"line":8,"column":54,"index":394}}],"key":"7eB4YMQ6TOGe3nftbccsbu9Kv74=","exportNames":["*"],"imports":1}},{"name":"../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":19,"index":415},"end":{"line":9,"column":56,"index":452}}],"key":"9OkCvS/X8jXIElv7TDqoLPrDPPU=","exportNames":["*"],"imports":1}},{"name":"../utils/encoding/toRlp.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":19,"index":473},"end":{"line":10,"column":56,"index":510}}],"key":"NfINIKbB4A6C0dIOVggZbsLqJZU=","exportNames":["*"],"imports":1}},{"name":"../utils/transaction/serializeTransaction.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":34,"index":546},"end":{"line":11,"column":89,"index":601}}],"key":"H6YrULEh5pg1F1D4A8zN9BLJ4Nk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.serializers = void 0;\n  exports.serializeTransaction = serializeTransaction;\n  exports.assertTransactionDeposit = assertTransactionDeposit;\n  const address_js_1 = require(_dependencyMap[0], \"../errors/address.js\");\n  const isAddress_js_1 = require(_dependencyMap[1], \"../utils/address/isAddress.js\");\n  const concat_js_1 = require(_dependencyMap[2], \"../utils/data/concat.js\");\n  const toHex_js_1 = require(_dependencyMap[3], \"../utils/encoding/toHex.js\");\n  const toRlp_js_1 = require(_dependencyMap[4], \"../utils/encoding/toRlp.js\");\n  const serializeTransaction_js_1 = require(_dependencyMap[5], \"../utils/transaction/serializeTransaction.js\");\n  function serializeTransaction(transaction, signature) {\n    if (isDeposit(transaction)) return serializeTransactionDeposit(transaction);\n    return (0, serializeTransaction_js_1.serializeTransaction)(transaction, signature);\n  }\n  exports.serializers = {\n    transaction: serializeTransaction\n  };\n  function serializeTransactionDeposit(transaction) {\n    assertTransactionDeposit(transaction);\n    const {\n      sourceHash,\n      data,\n      from,\n      gas,\n      isSystemTx,\n      mint,\n      to,\n      value\n    } = transaction;\n    const serializedTransaction = [sourceHash, from, to ?? '0x', mint ? (0, toHex_js_1.toHex)(mint) : '0x', value ? (0, toHex_js_1.toHex)(value) : '0x', gas ? (0, toHex_js_1.toHex)(gas) : '0x', isSystemTx ? '0x1' : '0x', data ?? '0x'];\n    return (0, concat_js_1.concatHex)(['0x7e', (0, toRlp_js_1.toRlp)(serializedTransaction)]);\n  }\n  function isDeposit(transaction) {\n    if (transaction.type === 'deposit') return true;\n    if (typeof transaction.sourceHash !== 'undefined') return true;\n    return false;\n  }\n  function assertTransactionDeposit(transaction) {\n    const {\n      from,\n      to\n    } = transaction;\n    if (from && !(0, isAddress_js_1.isAddress)(from)) throw new address_js_1.InvalidAddressError({\n      address: from\n    });\n    if (to && !(0, isAddress_js_1.isAddress)(to)) throw new address_js_1.InvalidAddressError({\n      address: to\n    });\n  }\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"serializers"],[7,21,3,19],[7,24,3,22],[7,29,3,27],[7,30,3,28],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"serializeTransaction"],[8,30,4,28],[8,33,4,31,"serializeTransaction"],[8,53,4,51],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"assertTransactionDeposit"],[9,34,5,32],[9,37,5,35,"assertTransactionDeposit"],[9,61,5,59],[10,2,6,0],[10,8,6,6,"address_js_1"],[10,20,6,18],[10,23,6,21,"require"],[10,30,6,28],[10,31,6,28,"_dependencyMap"],[10,45,6,28],[10,72,6,51],[10,73,6,52],[11,2,7,0],[11,8,7,6,"isAddress_js_1"],[11,22,7,20],[11,25,7,23,"require"],[11,32,7,30],[11,33,7,30,"_dependencyMap"],[11,47,7,30],[11,83,7,62],[11,84,7,63],[12,2,8,0],[12,8,8,6,"concat_js_1"],[12,19,8,17],[12,22,8,20,"require"],[12,29,8,27],[12,30,8,27,"_dependencyMap"],[12,44,8,27],[12,74,8,53],[12,75,8,54],[13,2,9,0],[13,8,9,6,"toHex_js_1"],[13,18,9,16],[13,21,9,19,"require"],[13,28,9,26],[13,29,9,26,"_dependencyMap"],[13,43,9,26],[13,76,9,55],[13,77,9,56],[14,2,10,0],[14,8,10,6,"toRlp_js_1"],[14,18,10,16],[14,21,10,19,"require"],[14,28,10,26],[14,29,10,26,"_dependencyMap"],[14,43,10,26],[14,76,10,55],[14,77,10,56],[15,2,11,0],[15,8,11,6,"serializeTransaction_js_1"],[15,33,11,31],[15,36,11,34,"require"],[15,43,11,41],[15,44,11,41,"_dependencyMap"],[15,58,11,41],[15,109,11,88],[15,110,11,89],[16,2,12,0],[16,11,12,9,"serializeTransaction"],[16,31,12,29,"serializeTransaction"],[16,32,12,30,"transaction"],[16,43,12,41],[16,45,12,43,"signature"],[16,54,12,52],[16,56,12,54],[17,4,13,4],[17,8,13,8,"isDeposit"],[17,17,13,17],[17,18,13,18,"transaction"],[17,29,13,29],[17,30,13,30],[17,32,14,8],[17,39,14,15,"serializeTransactionDeposit"],[17,66,14,42],[17,67,14,43,"transaction"],[17,78,14,54],[17,79,14,55],[18,4,15,4],[18,11,15,11],[18,12,15,12],[18,13,15,13],[18,15,15,15,"serializeTransaction_js_1"],[18,40,15,40],[18,41,15,41,"serializeTransaction"],[18,61,15,61],[18,63,15,63,"transaction"],[18,74,15,74],[18,76,15,76,"signature"],[18,85,15,85],[18,86,15,86],[19,2,16,0],[20,2,17,0,"exports"],[20,9,17,7],[20,10,17,8,"serializers"],[20,21,17,19],[20,24,17,22],[21,4,18,4,"transaction"],[21,15,18,15],[21,17,18,17,"serializeTransaction"],[22,2,19,0],[22,3,19,1],[23,2,20,0],[23,11,20,9,"serializeTransactionDeposit"],[23,38,20,36,"serializeTransactionDeposit"],[23,39,20,37,"transaction"],[23,50,20,48],[23,52,20,50],[24,4,21,4,"assertTransactionDeposit"],[24,28,21,28],[24,29,21,29,"transaction"],[24,40,21,40],[24,41,21,41],[25,4,22,4],[25,10,22,10],[26,6,22,12,"sourceHash"],[26,16,22,22],[27,6,22,24,"data"],[27,10,22,28],[28,6,22,30,"from"],[28,10,22,34],[29,6,22,36,"gas"],[29,9,22,39],[30,6,22,41,"isSystemTx"],[30,16,22,51],[31,6,22,53,"mint"],[31,10,22,57],[32,6,22,59,"to"],[32,8,22,61],[33,6,22,63,"value"],[34,4,22,69],[34,5,22,70],[34,8,22,73,"transaction"],[34,19,22,84],[35,4,23,4],[35,10,23,10,"serializedTransaction"],[35,31,23,31],[35,34,23,34],[35,35,24,8,"sourceHash"],[35,45,24,18],[35,47,25,8,"from"],[35,51,25,12],[35,53,26,8,"to"],[35,55,26,10],[35,59,26,14],[35,63,26,18],[35,65,27,8,"mint"],[35,69,27,12],[35,72,27,15],[35,73,27,16],[35,74,27,17],[35,76,27,19,"toHex_js_1"],[35,86,27,29],[35,87,27,30,"toHex"],[35,92,27,35],[35,94,27,37,"mint"],[35,98,27,41],[35,99,27,42],[35,102,27,45],[35,106,27,49],[35,108,28,8,"value"],[35,113,28,13],[35,116,28,16],[35,117,28,17],[35,118,28,18],[35,120,28,20,"toHex_js_1"],[35,130,28,30],[35,131,28,31,"toHex"],[35,136,28,36],[35,138,28,38,"value"],[35,143,28,43],[35,144,28,44],[35,147,28,47],[35,151,28,51],[35,153,29,8,"gas"],[35,156,29,11],[35,159,29,14],[35,160,29,15],[35,161,29,16],[35,163,29,18,"toHex_js_1"],[35,173,29,28],[35,174,29,29,"toHex"],[35,179,29,34],[35,181,29,36,"gas"],[35,184,29,39],[35,185,29,40],[35,188,29,43],[35,192,29,47],[35,194,30,8,"isSystemTx"],[35,204,30,18],[35,207,30,21],[35,212,30,26],[35,215,30,29],[35,219,30,33],[35,221,31,8,"data"],[35,225,31,12],[35,229,31,16],[35,233,31,20],[35,234,32,5],[36,4,33,4],[36,11,33,11],[36,12,33,12],[36,13,33,13],[36,15,33,15,"concat_js_1"],[36,26,33,26],[36,27,33,27,"concatHex"],[36,36,33,36],[36,38,33,38],[36,39,34,8],[36,45,34,14],[36,47,35,8],[36,48,35,9],[36,49,35,10],[36,51,35,12,"toRlp_js_1"],[36,61,35,22],[36,62,35,23,"toRlp"],[36,67,35,28],[36,69,35,30,"serializedTransaction"],[36,90,35,51],[36,91,35,52],[36,92,36,5],[36,93,36,6],[37,2,37,0],[38,2,38,0],[38,11,38,9,"isDeposit"],[38,20,38,18,"isDeposit"],[38,21,38,19,"transaction"],[38,32,38,30],[38,34,38,32],[39,4,39,4],[39,8,39,8,"transaction"],[39,19,39,19],[39,20,39,20,"type"],[39,24,39,24],[39,29,39,29],[39,38,39,38],[39,40,40,8],[39,47,40,15],[39,51,40,19],[40,4,41,4],[40,8,41,8],[40,15,41,15,"transaction"],[40,26,41,26],[40,27,41,27,"sourceHash"],[40,37,41,37],[40,42,41,42],[40,53,41,53],[40,55,42,8],[40,62,42,15],[40,66,42,19],[41,4,43,4],[41,11,43,11],[41,16,43,16],[42,2,44,0],[43,2,45,0],[43,11,45,9,"assertTransactionDeposit"],[43,35,45,33,"assertTransactionDeposit"],[43,36,45,34,"transaction"],[43,47,45,45],[43,49,45,47],[44,4,46,4],[44,10,46,10],[45,6,46,12,"from"],[45,10,46,16],[46,6,46,18,"to"],[47,4,46,21],[47,5,46,22],[47,8,46,25,"transaction"],[47,19,46,36],[48,4,47,4],[48,8,47,8,"from"],[48,12,47,12],[48,16,47,16],[48,17,47,17],[48,18,47,18],[48,19,47,19],[48,21,47,21,"isAddress_js_1"],[48,35,47,35],[48,36,47,36,"isAddress"],[48,45,47,45],[48,47,47,47,"from"],[48,51,47,51],[48,52,47,52],[48,54,48,8],[48,60,48,14],[48,64,48,18,"address_js_1"],[48,76,48,30],[48,77,48,31,"InvalidAddressError"],[48,96,48,50],[48,97,48,51],[49,6,48,53,"address"],[49,13,48,60],[49,15,48,62,"from"],[50,4,48,67],[50,5,48,68],[50,6,48,69],[51,4,49,4],[51,8,49,8,"to"],[51,10,49,10],[51,14,49,14],[51,15,49,15],[51,16,49,16],[51,17,49,17],[51,19,49,19,"isAddress_js_1"],[51,33,49,33],[51,34,49,34,"isAddress"],[51,43,49,43],[51,45,49,45,"to"],[51,47,49,47],[51,48,49,48],[51,50,50,8],[51,56,50,14],[51,60,50,18,"address_js_1"],[51,72,50,30],[51,73,50,31,"InvalidAddressError"],[51,92,50,50],[51,93,50,51],[52,6,50,53,"address"],[52,13,50,60],[52,15,50,62,"to"],[53,4,50,65],[53,5,50,66],[53,6,50,67],[54,2,51,0],[55,0,51,1],[55,3]],"functionMap":{"names":["<global>","serializeTransaction","serializeTransactionDeposit","isDeposit","assertTransactionDeposit"],"mappings":"AAA;ACW;CDI;AEI;CFiB;AGC;CHM;AIC;CJM"},"hasCjsExports":true},"type":"js/module"}]}