{"dependencies":[{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":37,"index":155},"end":{"line":4,"column":92,"index":210}}],"key":"LSOHYraFRKmn1vhzttHaVrAvnvY=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":19,"index":231},"end":{"line":5,"column":59,"index":271}}],"key":"H7vq9DbZar/LBdoWrgikLXyV5L0=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":27,"index":300},"end":{"line":6,"column":70,"index":343}}],"key":"qZUsVA/n+grVYHWGPUJto9s8big=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":368},"end":{"line":7,"column":58,"index":403}}],"key":"d685V9n1u7O1oRJ2ZbnkuLpcslA=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":26,"index":431},"end":{"line":8,"column":62,"index":467}}],"key":"UxqVCL+UT7iOwBMYmrSJxJgcrJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsResolver = getEnsResolver;\n  const getChainContractAddress_js_1 = require(_dependencyMap[0], \"../../utils/chain/getChainContractAddress.js\");\n  const toHex_js_1 = require(_dependencyMap[1], \"../../utils/encoding/toHex.js\");\n  const packetToBytes_js_1 = require(_dependencyMap[2], \"../../utils/ens/packetToBytes.js\");\n  const getAction_js_1 = require(_dependencyMap[3], \"../../utils/getAction.js\");\n  const readContract_js_1 = require(_dependencyMap[4], \"../public/readContract.js\");\n  async function getEnsResolver(client, parameters) {\n    const {\n      blockNumber,\n      blockTag,\n      name\n    } = parameters;\n    const {\n      chain\n    } = client;\n    const universalResolverAddress = (() => {\n      if (parameters.universalResolverAddress) return parameters.universalResolverAddress;\n      if (!chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      return (0, getChainContractAddress_js_1.getChainContractAddress)({\n        blockNumber,\n        chain,\n        contract: 'ensUniversalResolver'\n      });\n    })();\n    const tlds = chain?.ensTlds;\n    if (tlds && !tlds.some(tld => name.endsWith(tld))) throw new Error(`${name} is not a valid ENS TLD (${tlds?.join(', ')}) for chain \"${chain.name}\" (id: ${chain.id}).`);\n    const [resolverAddress] = await (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract')({\n      address: universalResolverAddress,\n      abi: [{\n        inputs: [{\n          type: 'bytes'\n        }],\n        name: 'findResolver',\n        outputs: [{\n          type: 'address'\n        }, {\n          type: 'bytes32'\n        }, {\n          type: 'uint256'\n        }],\n        stateMutability: 'view',\n        type: 'function'\n      }],\n      functionName: 'findResolver',\n      args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(name))],\n      blockNumber,\n      blockTag\n    });\n    return resolverAddress;\n  }\n});","lineCount":57,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getEnsResolver"],[7,24,3,22],[7,27,3,25,"getEnsResolver"],[7,41,3,39],[8,2,4,0],[8,8,4,6,"getChainContractAddress_js_1"],[8,36,4,34],[8,39,4,37,"require"],[8,46,4,44],[8,47,4,44,"_dependencyMap"],[8,61,4,44],[8,112,4,91],[8,113,4,92],[9,2,5,0],[9,8,5,6,"toHex_js_1"],[9,18,5,16],[9,21,5,19,"require"],[9,28,5,26],[9,29,5,26,"_dependencyMap"],[9,43,5,26],[9,79,5,58],[9,80,5,59],[10,2,6,0],[10,8,6,6,"packetToBytes_js_1"],[10,26,6,24],[10,29,6,27,"require"],[10,36,6,34],[10,37,6,34,"_dependencyMap"],[10,51,6,34],[10,90,6,69],[10,91,6,70],[11,2,7,0],[11,8,7,6,"getAction_js_1"],[11,22,7,20],[11,25,7,23,"require"],[11,32,7,30],[11,33,7,30,"_dependencyMap"],[11,47,7,30],[11,78,7,57],[11,79,7,58],[12,2,8,0],[12,8,8,6,"readContract_js_1"],[12,25,8,23],[12,28,8,26,"require"],[12,35,8,33],[12,36,8,33,"_dependencyMap"],[12,50,8,33],[12,82,8,61],[12,83,8,62],[13,2,9,0],[13,17,9,15,"getEnsResolver"],[13,31,9,29,"getEnsResolver"],[13,32,9,30,"client"],[13,38,9,36],[13,40,9,38,"parameters"],[13,50,9,48],[13,52,9,50],[14,4,10,4],[14,10,10,10],[15,6,10,12,"blockNumber"],[15,17,10,23],[16,6,10,25,"blockTag"],[16,14,10,33],[17,6,10,35,"name"],[18,4,10,40],[18,5,10,41],[18,8,10,44,"parameters"],[18,18,10,54],[19,4,11,4],[19,10,11,10],[20,6,11,12,"chain"],[21,4,11,18],[21,5,11,19],[21,8,11,22,"client"],[21,14,11,28],[22,4,12,4],[22,10,12,10,"universalResolverAddress"],[22,34,12,34],[22,37,12,37],[22,38,12,38],[22,44,12,44],[23,6,13,8],[23,10,13,12,"parameters"],[23,20,13,22],[23,21,13,23,"universalResolverAddress"],[23,45,13,47],[23,47,14,12],[23,54,14,19,"parameters"],[23,64,14,29],[23,65,14,30,"universalResolverAddress"],[23,89,14,54],[24,6,15,8],[24,10,15,12],[24,11,15,13,"chain"],[24,16,15,18],[24,18,16,12],[24,24,16,18],[24,28,16,22,"Error"],[24,33,16,27],[24,34,16,28],[24,102,16,96],[24,103,16,97],[25,6,17,8],[25,13,17,15],[25,14,17,16],[25,15,17,17],[25,17,17,19,"getChainContractAddress_js_1"],[25,45,17,47],[25,46,17,48,"getChainContractAddress"],[25,69,17,71],[25,71,17,73],[26,8,18,12,"blockNumber"],[26,19,18,23],[27,8,19,12,"chain"],[27,13,19,17],[28,8,20,12,"contract"],[28,16,20,20],[28,18,20,22],[29,6,21,8],[29,7,21,9],[29,8,21,10],[30,4,22,4],[30,5,22,5],[30,7,22,7],[30,8,22,8],[31,4,23,4],[31,10,23,10,"tlds"],[31,14,23,14],[31,17,23,17,"chain"],[31,22,23,22],[31,24,23,24,"ensTlds"],[31,31,23,31],[32,4,24,4],[32,8,24,8,"tlds"],[32,12,24,12],[32,16,24,16],[32,17,24,17,"tlds"],[32,21,24,21],[32,22,24,22,"some"],[32,26,24,26],[32,27,24,28,"tld"],[32,30,24,31],[32,34,24,36,"name"],[32,38,24,40],[32,39,24,41,"endsWith"],[32,47,24,49],[32,48,24,50,"tld"],[32,51,24,53],[32,52,24,54],[32,53,24,55],[32,55,25,8],[32,61,25,14],[32,65,25,18,"Error"],[32,70,25,23],[32,71,25,24],[32,74,25,27,"name"],[32,78,25,31],[32,106,25,59,"tlds"],[32,110,25,63],[32,112,25,65,"join"],[32,116,25,69],[32,117,25,70],[32,121,25,74],[32,122,25,75],[32,138,25,91,"chain"],[32,143,25,96],[32,144,25,97,"name"],[32,148,25,101],[32,158,25,111,"chain"],[32,163,25,116],[32,164,25,117,"id"],[32,166,25,119],[32,170,25,123],[32,171,25,124],[33,4,26,4],[33,10,26,10],[33,11,26,11,"resolverAddress"],[33,26,26,26],[33,27,26,27],[33,30,26,30],[33,36,26,36],[33,37,26,37],[33,38,26,38],[33,40,26,40,"getAction_js_1"],[33,54,26,54],[33,55,26,55,"getAction"],[33,64,26,64],[33,66,26,66,"client"],[33,72,26,72],[33,74,26,74,"readContract_js_1"],[33,91,26,91],[33,92,26,92,"readContract"],[33,104,26,104],[33,106,26,106],[33,120,26,120],[33,121,26,121],[33,122,26,122],[34,6,27,8,"address"],[34,13,27,15],[34,15,27,17,"universalResolverAddress"],[34,39,27,41],[35,6,28,8,"abi"],[35,9,28,11],[35,11,28,13],[35,12,29,12],[36,8,30,16,"inputs"],[36,14,30,22],[36,16,30,24],[36,17,30,25],[37,10,30,27,"type"],[37,14,30,31],[37,16,30,33],[38,8,30,41],[38,9,30,42],[38,10,30,43],[39,8,31,16,"name"],[39,12,31,20],[39,14,31,22],[39,28,31,36],[40,8,32,16,"outputs"],[40,15,32,23],[40,17,32,25],[40,18,33,20],[41,10,33,22,"type"],[41,14,33,26],[41,16,33,28],[42,8,33,38],[42,9,33,39],[42,11,34,20],[43,10,34,22,"type"],[43,14,34,26],[43,16,34,28],[44,8,34,38],[44,9,34,39],[44,11,35,20],[45,10,35,22,"type"],[45,14,35,26],[45,16,35,28],[46,8,35,38],[46,9,35,39],[46,10,36,17],[47,8,37,16,"stateMutability"],[47,23,37,31],[47,25,37,33],[47,31,37,39],[48,8,38,16,"type"],[48,12,38,20],[48,14,38,22],[49,6,39,12],[49,7,39,13],[49,8,40,9],[50,6,41,8,"functionName"],[50,18,41,20],[50,20,41,22],[50,34,41,36],[51,6,42,8,"args"],[51,10,42,12],[51,12,42,14],[51,13,42,15],[51,14,42,16],[51,15,42,17],[51,17,42,19,"toHex_js_1"],[51,27,42,29],[51,28,42,30,"toHex"],[51,33,42,35],[51,35,42,37],[51,36,42,38],[51,37,42,39],[51,39,42,41,"packetToBytes_js_1"],[51,57,42,59],[51,58,42,60,"packetToBytes"],[51,71,42,73],[51,73,42,75,"name"],[51,77,42,79],[51,78,42,80],[51,79,42,81],[51,80,42,82],[52,6,43,8,"blockNumber"],[52,17,43,19],[53,6,44,8,"blockTag"],[54,4,45,4],[54,5,45,5],[54,6,45,6],[55,4,46,4],[55,11,46,11,"resolverAddress"],[55,26,46,26],[56,2,47,0],[57,0,47,1],[57,3]],"functionMap":{"names":["<global>","getEnsResolver","<anonymous>","tlds.some$argument_0"],"mappings":"AAA;ACQ;sCCG;KDU;2BEE,2BF;CDuB"},"hasCjsExports":true},"type":"js/module"}]}