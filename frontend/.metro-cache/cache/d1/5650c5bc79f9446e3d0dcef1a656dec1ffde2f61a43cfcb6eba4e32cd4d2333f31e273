{"dependencies":[{"name":"../../errors/node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":62,"index":62}}],"key":"77WMnM7SznuAKwCFdGhR5ZXGxsM=","exportNames":["*"],"imports":1}},{"name":"../../errors/rpc.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":63},"end":{"line":2,"column":93,"index":156}}],"key":"zzuuH+nFKSb2Q8jW2Edg8fdhe/g=","exportNames":["*"],"imports":1}},{"name":"../../utils/wait.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":157},"end":{"line":3,"column":43,"index":200}}],"key":"NKuI88+z+kJiTc2V0TuFKnDBBps=","exportNames":["*"],"imports":1}},{"name":"./createTransport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":201},"end":{"line":4,"column":56,"index":257}}],"key":"IMAs7VdCtDa1Nl7Tey+wGJLFCUk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.fallback = fallback;\n  exports.shouldThrow = shouldThrow;\n  exports.rankTransports = rankTransports;\n  var _errorsNodeJs = require(_dependencyMap[0], \"../../errors/node.js\");\n  var _errorsRpcJs = require(_dependencyMap[1], \"../../errors/rpc.js\");\n  var _utilsWaitJs = require(_dependencyMap[2], \"../../utils/wait.js\");\n  var _createTransportJs = require(_dependencyMap[3], \"./createTransport.js\");\n  function fallback(transports_, config = {}) {\n    const {\n      key = 'fallback',\n      name = 'Fallback',\n      rank = false,\n      shouldThrow: shouldThrow_ = shouldThrow,\n      retryCount,\n      retryDelay\n    } = config;\n    return ({\n      chain,\n      pollingInterval = 4_000,\n      timeout,\n      ...rest\n    }) => {\n      let transports = transports_;\n      let onResponse = () => {};\n      const transport = (0, _createTransportJs.createTransport)({\n        key,\n        name,\n        async request({\n          method,\n          params\n        }) {\n          let includes;\n          const fetch = async (i = 0) => {\n            const transport = transports[i]({\n              ...rest,\n              chain,\n              retryCount: 0,\n              timeout\n            });\n            try {\n              const response = await transport.request({\n                method,\n                params\n              });\n              onResponse({\n                method,\n                params: params,\n                response,\n                transport,\n                status: 'success'\n              });\n              return response;\n            } catch (err) {\n              onResponse({\n                error: err,\n                method,\n                params: params,\n                transport,\n                status: 'error'\n              });\n              if (shouldThrow_(err)) throw err;\n              // If we've reached the end of the fallbacks, throw the error.\n              if (i === transports.length - 1) throw err;\n              // Check if at least one other transport includes the method\n              includes ??= transports.slice(i + 1).some(transport => {\n                const {\n                  include,\n                  exclude\n                } = transport({\n                  chain\n                }).config.methods || {};\n                if (include) return include.includes(method);\n                if (exclude) return !exclude.includes(method);\n                return true;\n              });\n              if (!includes) throw err;\n              // Otherwise, try the next fallback.\n              return fetch(i + 1);\n            }\n          };\n          return fetch();\n        },\n        retryCount,\n        retryDelay,\n        type: 'fallback'\n      }, {\n        onResponse: fn => onResponse = fn,\n        transports: transports.map(fn => fn({\n          chain,\n          retryCount: 0\n        }))\n      });\n      if (rank) {\n        const rankOptions = typeof rank === 'object' ? rank : {};\n        rankTransports({\n          chain,\n          interval: rankOptions.interval ?? pollingInterval,\n          onTransports: transports_ => transports = transports_,\n          ping: rankOptions.ping,\n          sampleCount: rankOptions.sampleCount,\n          timeout: rankOptions.timeout,\n          transports,\n          weights: rankOptions.weights\n        });\n      }\n      return transport;\n    };\n  }\n  function shouldThrow(error) {\n    if ('code' in error && typeof error.code === 'number') {\n      if (error.code === _errorsRpcJs.TransactionRejectedRpcError.code || error.code === _errorsRpcJs.UserRejectedRequestError.code || _errorsNodeJs.ExecutionRevertedError.nodeMessage.test(error.message) || error.code === 5000 // CAIP UserRejectedRequestError\n      ) return true;\n    }\n    return false;\n  }\n  /** @internal */\n  function rankTransports({\n    chain,\n    interval = 4_000,\n    onTransports,\n    ping,\n    sampleCount = 10,\n    timeout = 1_000,\n    transports,\n    weights = {}\n  }) {\n    const {\n      stability: stabilityWeight = 0.7,\n      latency: latencyWeight = 0.3\n    } = weights;\n    const samples = [];\n    const rankTransports_ = async () => {\n      // 1. Take a sample from each Transport.\n      const sample = await Promise.all(transports.map(async transport => {\n        const transport_ = transport({\n          chain,\n          retryCount: 0,\n          timeout\n        });\n        const start = Date.now();\n        let end;\n        let success;\n        try {\n          await (ping ? ping({\n            transport: transport_\n          }) : transport_.request({\n            method: 'net_listening'\n          }));\n          success = 1;\n        } catch {\n          success = 0;\n        } finally {\n          end = Date.now();\n        }\n        const latency = end - start;\n        return {\n          latency,\n          success\n        };\n      }));\n      // 2. Store the sample. If we have more than `sampleCount` samples, remove\n      // the oldest sample.\n      samples.push(sample);\n      if (samples.length > sampleCount) samples.shift();\n      // 3. Calculate the max latency from samples.\n      const maxLatency = Math.max(...samples.map(sample => Math.max(...sample.map(({\n        latency\n      }) => latency))));\n      // 4. Calculate the score for each Transport.\n      const scores = transports.map((_, i) => {\n        const latencies = samples.map(sample => sample[i].latency);\n        const meanLatency = latencies.reduce((acc, latency) => acc + latency, 0) / latencies.length;\n        const latencyScore = 1 - meanLatency / maxLatency;\n        const successes = samples.map(sample => sample[i].success);\n        const stabilityScore = successes.reduce((acc, success) => acc + success, 0) / successes.length;\n        if (stabilityScore === 0) return [0, i];\n        return [latencyWeight * latencyScore + stabilityWeight * stabilityScore, i];\n      }).sort((a, b) => b[0] - a[0]);\n      // 5. Sort the Transports by score.\n      onTransports(scores.map(([, i]) => transports[i]));\n      // 6. Wait, and then rank again.\n      await (0, _utilsWaitJs.wait)(interval);\n      rankTransports_();\n    };\n    rankTransports_();\n  }\n});","lineCount":193,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"fallback"],[7,18,5,0],[7,21,5,0,"fallback"],[7,29,5,0],[8,2,89,0,"exports"],[8,9,89,0],[8,10,89,0,"shouldThrow"],[8,21,89,0],[8,24,89,0,"shouldThrow"],[8,35,89,0],[9,2,101,0,"exports"],[9,9,101,0],[9,10,101,0,"rankTransports"],[9,24,101,0],[9,27,101,0,"rankTransports"],[9,41,101,0],[10,2,1,0],[10,6,1,0,"_errorsNodeJs"],[10,19,1,0],[10,22,1,0,"require"],[10,29,1,0],[10,30,1,0,"_dependencyMap"],[10,44,1,0],[11,2,2,0],[11,6,2,0,"_errorsRpcJs"],[11,18,2,0],[11,21,2,0,"require"],[11,28,2,0],[11,29,2,0,"_dependencyMap"],[11,43,2,0],[12,2,3,0],[12,6,3,0,"_utilsWaitJs"],[12,18,3,0],[12,21,3,0,"require"],[12,28,3,0],[12,29,3,0,"_dependencyMap"],[12,43,3,0],[13,2,4,0],[13,6,4,0,"_createTransportJs"],[13,24,4,0],[13,27,4,0,"require"],[13,34,4,0],[13,35,4,0,"_dependencyMap"],[13,49,4,0],[14,2,5,7],[14,11,5,16,"fallback"],[14,19,5,24,"fallback"],[14,20,5,25,"transports_"],[14,31,5,36],[14,33,5,38,"config"],[14,39,5,44],[14,42,5,47],[14,43,5,48],[14,44,5,49],[14,46,5,51],[15,4,6,4],[15,10,6,10],[16,6,6,12,"key"],[16,9,6,15],[16,12,6,18],[16,22,6,28],[17,6,6,30,"name"],[17,10,6,34],[17,13,6,37],[17,23,6,47],[18,6,6,49,"rank"],[18,10,6,53],[18,13,6,56],[18,18,6,61],[19,6,6,63,"shouldThrow"],[19,17,6,74],[19,19,6,76,"shouldThrow_"],[19,31,6,88],[19,34,6,91,"shouldThrow"],[19,45,6,102],[20,6,6,104,"retryCount"],[20,16,6,114],[21,6,6,116,"retryDelay"],[22,4,6,128],[22,5,6,129],[22,8,6,132,"config"],[22,14,6,138],[23,4,7,4],[23,11,7,12],[23,12,7,13],[24,6,7,15,"chain"],[24,11,7,20],[25,6,7,22,"pollingInterval"],[25,21,7,37],[25,24,7,40],[25,29,7,45],[26,6,7,47,"timeout"],[26,13,7,54],[27,6,7,56],[27,9,7,59,"rest"],[28,4,7,64],[28,5,7,65],[28,10,7,70],[29,6,8,8],[29,10,8,12,"transports"],[29,20,8,22],[29,23,8,25,"transports_"],[29,34,8,36],[30,6,9,8],[30,10,9,12,"onResponse"],[30,20,9,22],[30,23,9,25,"onResponse"],[30,24,9,25],[30,29,9,31],[30,30,9,33],[30,31,9,34],[31,6,10,8],[31,12,10,14,"transport"],[31,21,10,23],[31,24,10,26],[31,28,10,26,"createTransport"],[31,46,10,41],[31,47,10,41,"createTransport"],[31,62,10,41],[31,64,10,42],[32,8,11,12,"key"],[32,11,11,15],[33,8,12,12,"name"],[33,12,12,16],[34,8,13,12],[34,14,13,18,"request"],[34,21,13,25,"request"],[34,22,13,26],[35,10,13,28,"method"],[35,16,13,34],[36,10,13,36,"params"],[37,8,13,43],[37,9,13,44],[37,11,13,46],[38,10,14,16],[38,14,14,20,"includes"],[38,22,14,28],[39,10,15,16],[39,16,15,22,"fetch"],[39,21,15,27],[39,24,15,30],[39,30,15,30,"fetch"],[39,31,15,37,"i"],[39,32,15,38],[39,35,15,41],[39,36,15,42],[39,41,15,47],[40,12,16,20],[40,18,16,26,"transport"],[40,27,16,35],[40,30,16,38,"transports"],[40,40,16,48],[40,41,16,49,"i"],[40,42,16,50],[40,43,16,51],[40,44,16,52],[41,14,17,24],[41,17,17,27,"rest"],[41,21,17,31],[42,14,18,24,"chain"],[42,19,18,29],[43,14,19,24,"retryCount"],[43,24,19,34],[43,26,19,36],[43,27,19,37],[44,14,20,24,"timeout"],[45,12,21,20],[45,13,21,21],[45,14,21,22],[46,12,22,20],[46,16,22,24],[47,14,23,24],[47,20,23,30,"response"],[47,28,23,38],[47,31,23,41],[47,37,23,47,"transport"],[47,46,23,56],[47,47,23,57,"request"],[47,54,23,64],[47,55,23,65],[48,16,24,28,"method"],[48,22,24,34],[49,16,25,28,"params"],[50,14,26,24],[50,15,26,25],[50,16,26,26],[51,14,27,24,"onResponse"],[51,24,27,34],[51,25,27,35],[52,16,28,28,"method"],[52,22,28,34],[53,16,29,28,"params"],[53,22,29,34],[53,24,29,36,"params"],[53,30,29,42],[54,16,30,28,"response"],[54,24,30,36],[55,16,31,28,"transport"],[55,25,31,37],[56,16,32,28,"status"],[56,22,32,34],[56,24,32,36],[57,14,33,24],[57,15,33,25],[57,16,33,26],[58,14,34,24],[58,21,34,31,"response"],[58,29,34,39],[59,12,35,20],[59,13,35,21],[59,14,36,20],[59,21,36,27,"err"],[59,24,36,30],[59,26,36,32],[60,14,37,24,"onResponse"],[60,24,37,34],[60,25,37,35],[61,16,38,28,"error"],[61,21,38,33],[61,23,38,35,"err"],[61,26,38,38],[62,16,39,28,"method"],[62,22,39,34],[63,16,40,28,"params"],[63,22,40,34],[63,24,40,36,"params"],[63,30,40,42],[64,16,41,28,"transport"],[64,25,41,37],[65,16,42,28,"status"],[65,22,42,34],[65,24,42,36],[66,14,43,24],[66,15,43,25],[66,16,43,26],[67,14,44,24],[67,18,44,28,"shouldThrow_"],[67,30,44,40],[67,31,44,41,"err"],[67,34,44,44],[67,35,44,45],[67,37,45,28],[67,43,45,34,"err"],[67,46,45,37],[68,14,46,24],[69,14,47,24],[69,18,47,28,"i"],[69,19,47,29],[69,24,47,34,"transports"],[69,34,47,44],[69,35,47,45,"length"],[69,41,47,51],[69,44,47,54],[69,45,47,55],[69,47,48,28],[69,53,48,34,"err"],[69,56,48,37],[70,14,49,24],[71,14,50,24,"includes"],[71,22,50,32],[71,27,50,37,"transports"],[71,37,50,47],[71,38,50,48,"slice"],[71,43,50,53],[71,44,50,54,"i"],[71,45,50,55],[71,48,50,58],[71,49,50,59],[71,50,50,60],[71,51,50,61,"some"],[71,55,50,65],[71,56,50,67,"transport"],[71,65,50,76],[71,69,50,81],[72,16,51,28],[72,22,51,34],[73,18,51,36,"include"],[73,25,51,43],[74,18,51,45,"exclude"],[75,16,51,53],[75,17,51,54],[75,20,51,57,"transport"],[75,29,51,66],[75,30,51,67],[76,18,51,69,"chain"],[77,16,51,75],[77,17,51,76],[77,18,51,77],[77,19,51,78,"config"],[77,25,51,84],[77,26,51,85,"methods"],[77,33,51,92],[77,37,51,96],[77,38,51,97],[77,39,51,98],[78,16,52,28],[78,20,52,32,"include"],[78,27,52,39],[78,29,53,32],[78,36,53,39,"include"],[78,43,53,46],[78,44,53,47,"includes"],[78,52,53,55],[78,53,53,56,"method"],[78,59,53,62],[78,60,53,63],[79,16,54,28],[79,20,54,32,"exclude"],[79,27,54,39],[79,29,55,32],[79,36,55,39],[79,37,55,40,"exclude"],[79,44,55,47],[79,45,55,48,"includes"],[79,53,55,56],[79,54,55,57,"method"],[79,60,55,63],[79,61,55,64],[80,16,56,28],[80,23,56,35],[80,27,56,39],[81,14,57,24],[81,15,57,25],[81,16,57,26],[82,14,58,24],[82,18,58,28],[82,19,58,29,"includes"],[82,27,58,37],[82,29,59,28],[82,35,59,34,"err"],[82,38,59,37],[83,14,60,24],[84,14,61,24],[84,21,61,31,"fetch"],[84,26,61,36],[84,27,61,37,"i"],[84,28,61,38],[84,31,61,41],[84,32,61,42],[84,33,61,43],[85,12,62,20],[86,10,63,16],[86,11,63,17],[87,10,64,16],[87,17,64,23,"fetch"],[87,22,64,28],[87,23,64,29],[87,24,64,30],[88,8,65,12],[88,9,65,13],[89,8,66,12,"retryCount"],[89,18,66,22],[90,8,67,12,"retryDelay"],[90,18,67,22],[91,8,68,12,"type"],[91,12,68,16],[91,14,68,18],[92,6,69,8],[92,7,69,9],[92,9,69,11],[93,8,70,12,"onResponse"],[93,18,70,22],[93,20,70,25,"fn"],[93,22,70,27],[93,26,70,33,"onResponse"],[93,36,70,43],[93,39,70,46,"fn"],[93,41,70,49],[94,8,71,12,"transports"],[94,18,71,22],[94,20,71,24,"transports"],[94,30,71,34],[94,31,71,35,"map"],[94,34,71,38],[94,35,71,40,"fn"],[94,37,71,42],[94,41,71,47,"fn"],[94,43,71,49],[94,44,71,50],[95,10,71,52,"chain"],[95,15,71,57],[96,10,71,59,"retryCount"],[96,20,71,69],[96,22,71,71],[97,8,71,73],[97,9,71,74],[97,10,71,75],[98,6,72,8],[98,7,72,9],[98,8,72,10],[99,6,73,8],[99,10,73,12,"rank"],[99,14,73,16],[99,16,73,18],[100,8,74,12],[100,14,74,18,"rankOptions"],[100,25,74,29],[100,28,74,33],[100,35,74,40,"rank"],[100,39,74,44],[100,44,74,49],[100,52,74,57],[100,55,74,60,"rank"],[100,59,74,64],[100,62,74,67],[100,63,74,68],[100,64,74,70],[101,8,75,12,"rankTransports"],[101,22,75,26],[101,23,75,27],[102,10,76,16,"chain"],[102,15,76,21],[103,10,77,16,"interval"],[103,18,77,24],[103,20,77,26,"rankOptions"],[103,31,77,37],[103,32,77,38,"interval"],[103,40,77,46],[103,44,77,50,"pollingInterval"],[103,59,77,65],[104,10,78,16,"onTransports"],[104,22,78,28],[104,24,78,31,"transports_"],[104,35,78,42],[104,39,78,48,"transports"],[104,49,78,58],[104,52,78,61,"transports_"],[104,63,78,73],[105,10,79,16,"ping"],[105,14,79,20],[105,16,79,22,"rankOptions"],[105,27,79,33],[105,28,79,34,"ping"],[105,32,79,38],[106,10,80,16,"sampleCount"],[106,21,80,27],[106,23,80,29,"rankOptions"],[106,34,80,40],[106,35,80,41,"sampleCount"],[106,46,80,52],[107,10,81,16,"timeout"],[107,17,81,23],[107,19,81,25,"rankOptions"],[107,30,81,36],[107,31,81,37,"timeout"],[107,38,81,44],[108,10,82,16,"transports"],[108,20,82,26],[109,10,83,16,"weights"],[109,17,83,23],[109,19,83,25,"rankOptions"],[109,30,83,36],[109,31,83,37,"weights"],[110,8,84,12],[110,9,84,13],[110,10,84,14],[111,6,85,8],[112,6,86,8],[112,13,86,15,"transport"],[112,22,86,24],[113,4,87,4],[113,5,87,5],[114,2,88,0],[115,2,89,7],[115,11,89,16,"shouldThrow"],[115,22,89,27,"shouldThrow"],[115,23,89,28,"error"],[115,28,89,33],[115,30,89,35],[116,4,90,4],[116,8,90,8],[116,14,90,14],[116,18,90,18,"error"],[116,23,90,23],[116,27,90,27],[116,34,90,34,"error"],[116,39,90,39],[116,40,90,40,"code"],[116,44,90,44],[116,49,90,49],[116,57,90,57],[116,59,90,59],[117,6,91,8],[117,10,91,12,"error"],[117,15,91,17],[117,16,91,18,"code"],[117,20,91,22],[117,25,91,27,"TransactionRejectedRpcError"],[117,37,91,54],[117,38,91,54,"TransactionRejectedRpcError"],[117,65,91,54],[117,66,91,55,"code"],[117,70,91,59],[117,74,92,12,"error"],[117,79,92,17],[117,80,92,18,"code"],[117,84,92,22],[117,89,92,27,"UserRejectedRequestError"],[117,101,92,51],[117,102,92,51,"UserRejectedRequestError"],[117,126,92,51],[117,127,92,52,"code"],[117,131,92,56],[117,135,93,12,"ExecutionRevertedError"],[117,148,93,34],[117,149,93,34,"ExecutionRevertedError"],[117,171,93,34],[117,172,93,35,"nodeMessage"],[117,183,93,46],[117,184,93,47,"test"],[117,188,93,51],[117,189,93,52,"error"],[117,194,93,57],[117,195,93,58,"message"],[117,202,93,65],[117,203,93,66],[117,207,94,12,"error"],[117,212,94,17],[117,213,94,18,"code"],[117,217,94,22],[117,222,94,27],[117,226,94,31],[117,227,94,32],[118,6,94,32],[118,8,96,12],[118,15,96,19],[118,19,96,23],[119,4,97,4],[120,4,98,4],[120,11,98,11],[120,16,98,16],[121,2,99,0],[122,2,100,0],[123,2,101,7],[123,11,101,16,"rankTransports"],[123,25,101,30,"rankTransports"],[123,26,101,31],[124,4,101,33,"chain"],[124,9,101,38],[125,4,101,40,"interval"],[125,12,101,48],[125,15,101,51],[125,20,101,56],[126,4,101,58,"onTransports"],[126,16,101,70],[127,4,101,72,"ping"],[127,8,101,76],[128,4,101,78,"sampleCount"],[128,15,101,89],[128,18,101,92],[128,20,101,94],[129,4,101,96,"timeout"],[129,11,101,103],[129,14,101,106],[129,19,101,111],[130,4,101,113,"transports"],[130,14,101,123],[131,4,101,125,"weights"],[131,11,101,132],[131,14,101,135],[131,15,101,136],[132,2,101,139],[132,3,101,140],[132,5,101,142],[133,4,102,4],[133,10,102,10],[134,6,102,12,"stability"],[134,15,102,21],[134,17,102,23,"stabilityWeight"],[134,32,102,38],[134,35,102,41],[134,38,102,44],[135,6,102,46,"latency"],[135,13,102,53],[135,15,102,55,"latencyWeight"],[135,28,102,68],[135,31,102,71],[136,4,102,75],[136,5,102,76],[136,8,102,79,"weights"],[136,15,102,86],[137,4,103,4],[137,10,103,10,"samples"],[137,17,103,17],[137,20,103,20],[137,22,103,22],[138,4,104,4],[138,10,104,10,"rankTransports_"],[138,25,104,25],[138,28,104,28],[138,34,104,28,"rankTransports_"],[138,35,104,28],[138,40,104,40],[139,6,105,8],[140,6,106,8],[140,12,106,14,"sample"],[140,18,106,20],[140,21,106,23],[140,27,106,29,"Promise"],[140,34,106,36],[140,35,106,37,"all"],[140,38,106,40],[140,39,106,41,"transports"],[140,49,106,51],[140,50,106,52,"map"],[140,53,106,55],[140,54,106,56],[140,60,106,63,"transport"],[140,69,106,72],[140,73,106,77],[141,8,107,12],[141,14,107,18,"transport_"],[141,24,107,28],[141,27,107,31,"transport"],[141,36,107,40],[141,37,107,41],[142,10,107,43,"chain"],[142,15,107,48],[143,10,107,50,"retryCount"],[143,20,107,60],[143,22,107,62],[143,23,107,63],[144,10,107,65,"timeout"],[145,8,107,73],[145,9,107,74],[145,10,107,75],[146,8,108,12],[146,14,108,18,"start"],[146,19,108,23],[146,22,108,26,"Date"],[146,26,108,30],[146,27,108,31,"now"],[146,30,108,34],[146,31,108,35],[146,32,108,36],[147,8,109,12],[147,12,109,16,"end"],[147,15,109,19],[148,8,110,12],[148,12,110,16,"success"],[148,19,110,23],[149,8,111,12],[149,12,111,16],[150,10,112,16],[150,17,112,23,"ping"],[150,21,112,27],[150,24,113,22,"ping"],[150,28,113,26],[150,29,113,27],[151,12,113,29,"transport"],[151,21,113,38],[151,23,113,40,"transport_"],[152,10,113,51],[152,11,113,52],[152,12,113,53],[152,15,114,22,"transport_"],[152,25,114,32],[152,26,114,33,"request"],[152,33,114,40],[152,34,114,41],[153,12,114,43,"method"],[153,18,114,49],[153,20,114,51],[154,10,114,67],[154,11,114,68],[154,12,114,69],[154,13,114,70],[155,10,115,16,"success"],[155,17,115,23],[155,20,115,26],[155,21,115,27],[156,8,116,12],[156,9,116,13],[156,10,117,12],[156,16,117,18],[157,10,118,16,"success"],[157,17,118,23],[157,20,118,26],[157,21,118,27],[158,8,119,12],[158,9,119,13],[158,18,120,20],[159,10,121,16,"end"],[159,13,121,19],[159,16,121,22,"Date"],[159,20,121,26],[159,21,121,27,"now"],[159,24,121,30],[159,25,121,31],[159,26,121,32],[160,8,122,12],[161,8,123,12],[161,14,123,18,"latency"],[161,21,123,25],[161,24,123,28,"end"],[161,27,123,31],[161,30,123,34,"start"],[161,35,123,39],[162,8,124,12],[162,15,124,19],[163,10,124,21,"latency"],[163,17,124,28],[164,10,124,30,"success"],[165,8,124,38],[165,9,124,39],[166,6,125,8],[166,7,125,9],[166,8,125,10],[166,9,125,11],[167,6,126,8],[168,6,127,8],[169,6,128,8,"samples"],[169,13,128,15],[169,14,128,16,"push"],[169,18,128,20],[169,19,128,21,"sample"],[169,25,128,27],[169,26,128,28],[170,6,129,8],[170,10,129,12,"samples"],[170,17,129,19],[170,18,129,20,"length"],[170,24,129,26],[170,27,129,29,"sampleCount"],[170,38,129,40],[170,40,130,12,"samples"],[170,47,130,19],[170,48,130,20,"shift"],[170,53,130,25],[170,54,130,26],[170,55,130,27],[171,6,131,8],[172,6,132,8],[172,12,132,14,"maxLatency"],[172,22,132,24],[172,25,132,27,"Math"],[172,29,132,31],[172,30,132,32,"max"],[172,33,132,35],[172,34,132,36],[172,37,132,39,"samples"],[172,44,132,46],[172,45,132,47,"map"],[172,48,132,50],[172,49,132,52,"sample"],[172,55,132,58],[172,59,132,63,"Math"],[172,63,132,67],[172,64,132,68,"max"],[172,67,132,71],[172,68,132,72],[172,71,132,75,"sample"],[172,77,132,81],[172,78,132,82,"map"],[172,81,132,85],[172,82,132,86],[172,83,132,87],[173,8,132,89,"latency"],[174,6,132,97],[174,7,132,98],[174,12,132,103,"latency"],[174,19,132,110],[174,20,132,111],[174,21,132,112],[174,22,132,113],[174,23,132,114],[175,6,133,8],[176,6,134,8],[176,12,134,14,"scores"],[176,18,134,20],[176,21,134,23,"transports"],[176,31,134,33],[176,32,135,13,"map"],[176,35,135,16],[176,36,135,17],[176,37,135,18,"_"],[176,38,135,19],[176,40,135,21,"i"],[176,41,135,22],[176,46,135,27],[177,8,136,12],[177,14,136,18,"latencies"],[177,23,136,27],[177,26,136,30,"samples"],[177,33,136,37],[177,34,136,38,"map"],[177,37,136,41],[177,38,136,43,"sample"],[177,44,136,49],[177,48,136,54,"sample"],[177,54,136,60],[177,55,136,61,"i"],[177,56,136,62],[177,57,136,63],[177,58,136,64,"latency"],[177,65,136,71],[177,66,136,72],[178,8,137,12],[178,14,137,18,"meanLatency"],[178,25,137,29],[178,28,137,32,"latencies"],[178,37,137,41],[178,38,137,42,"reduce"],[178,44,137,48],[178,45,137,49],[178,46,137,50,"acc"],[178,49,137,53],[178,51,137,55,"latency"],[178,58,137,62],[178,63,137,67,"acc"],[178,66,137,70],[178,69,137,73,"latency"],[178,76,137,80],[178,78,137,82],[178,79,137,83],[178,80,137,84],[178,83,138,16,"latencies"],[178,92,138,25],[178,93,138,26,"length"],[178,99,138,32],[179,8,139,12],[179,14,139,18,"latencyScore"],[179,26,139,30],[179,29,139,33],[179,30,139,34],[179,33,139,37,"meanLatency"],[179,44,139,48],[179,47,139,51,"maxLatency"],[179,57,139,61],[180,8,140,12],[180,14,140,18,"successes"],[180,23,140,27],[180,26,140,30,"samples"],[180,33,140,37],[180,34,140,38,"map"],[180,37,140,41],[180,38,140,43,"sample"],[180,44,140,49],[180,48,140,54,"sample"],[180,54,140,60],[180,55,140,61,"i"],[180,56,140,62],[180,57,140,63],[180,58,140,64,"success"],[180,65,140,71],[180,66,140,72],[181,8,141,12],[181,14,141,18,"stabilityScore"],[181,28,141,32],[181,31,141,35,"successes"],[181,40,141,44],[181,41,141,45,"reduce"],[181,47,141,51],[181,48,141,52],[181,49,141,53,"acc"],[181,52,141,56],[181,54,141,58,"success"],[181,61,141,65],[181,66,141,70,"acc"],[181,69,141,73],[181,72,141,76,"success"],[181,79,141,83],[181,81,141,85],[181,82,141,86],[181,83,141,87],[181,86,142,16,"successes"],[181,95,142,25],[181,96,142,26,"length"],[181,102,142,32],[182,8,143,12],[182,12,143,16,"stabilityScore"],[182,26,143,30],[182,31,143,35],[182,32,143,36],[182,34,144,16],[182,41,144,23],[182,42,144,24],[182,43,144,25],[182,45,144,27,"i"],[182,46,144,28],[182,47,144,29],[183,8,145,12],[183,15,145,19],[183,16,146,16,"latencyWeight"],[183,29,146,29],[183,32,146,32,"latencyScore"],[183,44,146,44],[183,47,146,47,"stabilityWeight"],[183,62,146,62],[183,65,146,65,"stabilityScore"],[183,79,146,79],[183,81,147,16,"i"],[183,82,147,17],[183,83,148,13],[184,6,149,8],[184,7,149,9],[184,8,149,10],[184,9,150,13,"sort"],[184,13,150,17],[184,14,150,18],[184,15,150,19,"a"],[184,16,150,20],[184,18,150,22,"b"],[184,19,150,23],[184,24,150,28,"b"],[184,25,150,29],[184,26,150,30],[184,27,150,31],[184,28,150,32],[184,31,150,35,"a"],[184,32,150,36],[184,33,150,37],[184,34,150,38],[184,35,150,39],[184,36,150,40],[185,6,151,8],[186,6,152,8,"onTransports"],[186,18,152,20],[186,19,152,21,"scores"],[186,25,152,27],[186,26,152,28,"map"],[186,29,152,31],[186,30,152,32],[186,31,152,33],[186,34,152,36,"i"],[186,35,152,37],[186,36,152,38],[186,41,152,43,"transports"],[186,51,152,53],[186,52,152,54,"i"],[186,53,152,55],[186,54,152,56],[186,55,152,57],[186,56,152,58],[187,6,153,8],[188,6,154,8],[188,12,154,14],[188,16,154,14,"wait"],[188,28,154,18],[188,29,154,18,"wait"],[188,33,154,18],[188,35,154,19,"interval"],[188,43,154,27],[188,44,154,28],[189,6,155,8,"rankTransports_"],[189,21,155,23],[189,22,155,24],[189,23,155,25],[190,4,156,4],[190,5,156,5],[191,4,157,4,"rankTransports_"],[191,19,157,19],[191,20,157,20],[191,21,157,21],[192,2,158,0],[193,0,158,1],[193,3]],"functionMap":{"names":["<global>","fallback","<anonymous>","onResponse","createTransport$argument_0.request","fetch","transports.slice.some$argument_0","createTransport$argument_1.onResponse","transports.map$argument_0","rankTransports$argument_0.onTransports","shouldThrow","rankTransports","rankTransports_","samples.map$argument_0","sample.map$argument_0","latencies.reduce$argument_0","successes.reduce$argument_0","transports.map.sort$argument_0","scores.map$argument_0"],"mappings":"AAA;OCI;YCE;yBCE,SD;YEI;8BCE;kECmC;yBDO;iBDM;aFE;wBKK,yBL;uCMC,oCN;8BOO,2CP;KDS;CDC;OUC;CVU;OWE;4BCG;wDJE;SImB;mDCO,mCC,wBD,ED;iBJG;0CKC,6BL;iDOC,+BP;0CKG,6BL;oDQC,+BR;SIQ;kBKC,qBL;gCME,wBN;KDI;CXE"},"hasCjsExports":false},"type":"js/module"}]}