{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"FetchUtil\", {\n    enumerable: true,\n    get: function () {\n      return FetchUtil;\n    }\n  });\n  // -- Types ----------------------------------------------------------------------\n\n  // -- Utility --------------------------------------------------------------------\n  class FetchUtil {\n    constructor({\n      baseUrl,\n      clientId\n    }) {\n      this.baseUrl = baseUrl;\n      this.clientId = clientId;\n    }\n    async get({\n      headers,\n      ...args\n    }) {\n      const url = this.createUrl(args);\n      const response = await fetch(url, {\n        method: 'GET',\n        headers\n      });\n      return this.processResponse(response);\n    }\n    async post({\n      body,\n      headers,\n      ...args\n    }) {\n      const url = this.createUrl(args);\n      const response = await fetch(url, {\n        method: 'POST',\n        headers,\n        body: body ? JSON.stringify(body) : undefined\n      });\n      return this.processResponse(response);\n    }\n    async put({\n      body,\n      headers,\n      ...args\n    }) {\n      const url = this.createUrl(args);\n      const response = await fetch(url, {\n        method: 'PUT',\n        headers,\n        body: body ? JSON.stringify(body) : undefined\n      });\n      return this.processResponse(response);\n    }\n    async delete({\n      body,\n      headers,\n      ...args\n    }) {\n      const url = this.createUrl(args);\n      const response = await fetch(url, {\n        method: 'DELETE',\n        headers,\n        body: body ? JSON.stringify(body) : undefined\n      });\n      return this.processResponse(response);\n    }\n    async fetchImage(path, headers) {\n      try {\n        const url = this.createUrl({\n          path\n        }).toString();\n        const response = await fetch(url, {\n          headers\n        });\n        const blob = await response.blob();\n        const reader = new FileReader();\n        reader.readAsDataURL(blob);\n        return new Promise(resolve => {\n          reader.onloadend = () => resolve(reader.result);\n        });\n      } catch {\n        return undefined;\n      }\n    }\n    createUrl({\n      path,\n      params\n    }) {\n      const url = new URL(path, this.baseUrl);\n      if (params) {\n        Object.entries(params).forEach(([key, value]) => {\n          if (value) {\n            url.searchParams.append(key, value);\n          }\n        });\n      }\n      if (this.clientId) {\n        url.searchParams.append('clientId', this.clientId);\n      }\n      return url.toString();\n    }\n    async processResponse(response) {\n      if (!response.ok) {\n        const errorText = await response.text();\n        return Promise.reject(`Code: ${response.status} - ${response.statusText} - ${errorText}`);\n      }\n      if (response.headers.get('content-length') === '0') {\n        return;\n      }\n      if (response.headers.get('content-type')?.includes('application/json')) {\n        return response.json();\n      }\n      return;\n    }\n  }\n});","lineCount":123,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"FetchUtil"],[10,22,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[15,2,3,0],[16,2,4,7],[16,8,4,13,"FetchUtil"],[16,17,4,22],[16,18,4,23],[17,4,5,2,"constructor"],[17,15,5,13,"constructor"],[17,16,5,14],[18,6,6,4,"baseUrl"],[18,13,6,11],[19,6,7,4,"clientId"],[20,4,8,2],[20,5,8,3],[20,7,8,5],[21,6,9,4],[21,10,9,8],[21,11,9,9,"baseUrl"],[21,18,9,16],[21,21,9,19,"baseUrl"],[21,28,9,26],[22,6,10,4],[22,10,10,8],[22,11,10,9,"clientId"],[22,19,10,17],[22,22,10,20,"clientId"],[22,30,10,28],[23,4,11,2],[24,4,12,2],[24,10,12,8,"get"],[24,13,12,11,"get"],[24,14,12,12],[25,6,13,4,"headers"],[25,13,13,11],[26,6,14,4],[26,9,14,7,"args"],[27,4,15,2],[27,5,15,3],[27,7,15,5],[28,6,16,4],[28,12,16,10,"url"],[28,15,16,13],[28,18,16,16],[28,22,16,20],[28,23,16,21,"createUrl"],[28,32,16,30],[28,33,16,31,"args"],[28,37,16,35],[28,38,16,36],[29,6,17,4],[29,12,17,10,"response"],[29,20,17,18],[29,23,17,21],[29,29,17,27,"fetch"],[29,34,17,32],[29,35,17,33,"url"],[29,38,17,36],[29,40,17,38],[30,8,18,6,"method"],[30,14,18,12],[30,16,18,14],[30,21,18,19],[31,8,19,6,"headers"],[32,6,20,4],[32,7,20,5],[32,8,20,6],[33,6,21,4],[33,13,21,11],[33,17,21,15],[33,18,21,16,"processResponse"],[33,33,21,31],[33,34,21,32,"response"],[33,42,21,40],[33,43,21,41],[34,4,22,2],[35,4,23,2],[35,10,23,8,"post"],[35,14,23,12,"post"],[35,15,23,13],[36,6,24,4,"body"],[36,10,24,8],[37,6,25,4,"headers"],[37,13,25,11],[38,6,26,4],[38,9,26,7,"args"],[39,4,27,2],[39,5,27,3],[39,7,27,5],[40,6,28,4],[40,12,28,10,"url"],[40,15,28,13],[40,18,28,16],[40,22,28,20],[40,23,28,21,"createUrl"],[40,32,28,30],[40,33,28,31,"args"],[40,37,28,35],[40,38,28,36],[41,6,29,4],[41,12,29,10,"response"],[41,20,29,18],[41,23,29,21],[41,29,29,27,"fetch"],[41,34,29,32],[41,35,29,33,"url"],[41,38,29,36],[41,40,29,38],[42,8,30,6,"method"],[42,14,30,12],[42,16,30,14],[42,22,30,20],[43,8,31,6,"headers"],[43,15,31,13],[44,8,32,6,"body"],[44,12,32,10],[44,14,32,12,"body"],[44,18,32,16],[44,21,32,19,"JSON"],[44,25,32,23],[44,26,32,24,"stringify"],[44,35,32,33],[44,36,32,34,"body"],[44,40,32,38],[44,41,32,39],[44,44,32,42,"undefined"],[45,6,33,4],[45,7,33,5],[45,8,33,6],[46,6,34,4],[46,13,34,11],[46,17,34,15],[46,18,34,16,"processResponse"],[46,33,34,31],[46,34,34,32,"response"],[46,42,34,40],[46,43,34,41],[47,4,35,2],[48,4,36,2],[48,10,36,8,"put"],[48,13,36,11,"put"],[48,14,36,12],[49,6,37,4,"body"],[49,10,37,8],[50,6,38,4,"headers"],[50,13,38,11],[51,6,39,4],[51,9,39,7,"args"],[52,4,40,2],[52,5,40,3],[52,7,40,5],[53,6,41,4],[53,12,41,10,"url"],[53,15,41,13],[53,18,41,16],[53,22,41,20],[53,23,41,21,"createUrl"],[53,32,41,30],[53,33,41,31,"args"],[53,37,41,35],[53,38,41,36],[54,6,42,4],[54,12,42,10,"response"],[54,20,42,18],[54,23,42,21],[54,29,42,27,"fetch"],[54,34,42,32],[54,35,42,33,"url"],[54,38,42,36],[54,40,42,38],[55,8,43,6,"method"],[55,14,43,12],[55,16,43,14],[55,21,43,19],[56,8,44,6,"headers"],[56,15,44,13],[57,8,45,6,"body"],[57,12,45,10],[57,14,45,12,"body"],[57,18,45,16],[57,21,45,19,"JSON"],[57,25,45,23],[57,26,45,24,"stringify"],[57,35,45,33],[57,36,45,34,"body"],[57,40,45,38],[57,41,45,39],[57,44,45,42,"undefined"],[58,6,46,4],[58,7,46,5],[58,8,46,6],[59,6,47,4],[59,13,47,11],[59,17,47,15],[59,18,47,16,"processResponse"],[59,33,47,31],[59,34,47,32,"response"],[59,42,47,40],[59,43,47,41],[60,4,48,2],[61,4,49,2],[61,10,49,8,"delete"],[61,16,49,14,"delete"],[61,17,49,15],[62,6,50,4,"body"],[62,10,50,8],[63,6,51,4,"headers"],[63,13,51,11],[64,6,52,4],[64,9,52,7,"args"],[65,4,53,2],[65,5,53,3],[65,7,53,5],[66,6,54,4],[66,12,54,10,"url"],[66,15,54,13],[66,18,54,16],[66,22,54,20],[66,23,54,21,"createUrl"],[66,32,54,30],[66,33,54,31,"args"],[66,37,54,35],[66,38,54,36],[67,6,55,4],[67,12,55,10,"response"],[67,20,55,18],[67,23,55,21],[67,29,55,27,"fetch"],[67,34,55,32],[67,35,55,33,"url"],[67,38,55,36],[67,40,55,38],[68,8,56,6,"method"],[68,14,56,12],[68,16,56,14],[68,24,56,22],[69,8,57,6,"headers"],[69,15,57,13],[70,8,58,6,"body"],[70,12,58,10],[70,14,58,12,"body"],[70,18,58,16],[70,21,58,19,"JSON"],[70,25,58,23],[70,26,58,24,"stringify"],[70,35,58,33],[70,36,58,34,"body"],[70,40,58,38],[70,41,58,39],[70,44,58,42,"undefined"],[71,6,59,4],[71,7,59,5],[71,8,59,6],[72,6,60,4],[72,13,60,11],[72,17,60,15],[72,18,60,16,"processResponse"],[72,33,60,31],[72,34,60,32,"response"],[72,42,60,40],[72,43,60,41],[73,4,61,2],[74,4,62,2],[74,10,62,8,"fetchImage"],[74,20,62,18,"fetchImage"],[74,21,62,19,"path"],[74,25,62,23],[74,27,62,25,"headers"],[74,34,62,32],[74,36,62,34],[75,6,63,4],[75,10,63,8],[76,8,64,6],[76,14,64,12,"url"],[76,17,64,15],[76,20,64,18],[76,24,64,22],[76,25,64,23,"createUrl"],[76,34,64,32],[76,35,64,33],[77,10,65,8,"path"],[78,8,66,6],[78,9,66,7],[78,10,66,8],[78,11,66,9,"toString"],[78,19,66,17],[78,20,66,18],[78,21,66,19],[79,8,67,6],[79,14,67,12,"response"],[79,22,67,20],[79,25,67,23],[79,31,67,29,"fetch"],[79,36,67,34],[79,37,67,35,"url"],[79,40,67,38],[79,42,67,40],[80,10,68,8,"headers"],[81,8,69,6],[81,9,69,7],[81,10,69,8],[82,8,70,6],[82,14,70,12,"blob"],[82,18,70,16],[82,21,70,19],[82,27,70,25,"response"],[82,35,70,33],[82,36,70,34,"blob"],[82,40,70,38],[82,41,70,39],[82,42,70,40],[83,8,71,6],[83,14,71,12,"reader"],[83,20,71,18],[83,23,71,21],[83,27,71,25,"FileReader"],[83,37,71,35],[83,38,71,36],[83,39,71,37],[84,8,72,6,"reader"],[84,14,72,12],[84,15,72,13,"readAsDataURL"],[84,28,72,26],[84,29,72,27,"blob"],[84,33,72,31],[84,34,72,32],[85,8,73,6],[85,15,73,13],[85,19,73,17,"Promise"],[85,26,73,24],[85,27,73,25,"resolve"],[85,34,73,32],[85,38,73,36],[86,10,74,8,"reader"],[86,16,74,14],[86,17,74,15,"onloadend"],[86,26,74,24],[86,29,74,27],[86,35,74,33,"resolve"],[86,42,74,40],[86,43,74,41,"reader"],[86,49,74,47],[86,50,74,48,"result"],[86,56,74,54],[86,57,74,55],[87,8,75,6],[87,9,75,7],[87,10,75,8],[88,6,76,4],[88,7,76,5],[88,8,76,6],[88,14,76,12],[89,8,77,6],[89,15,77,13,"undefined"],[89,24,77,22],[90,6,78,4],[91,4,79,2],[92,4,80,2,"createUrl"],[92,13,80,11,"createUrl"],[92,14,80,12],[93,6,81,4,"path"],[93,10,81,8],[94,6,82,4,"params"],[95,4,83,2],[95,5,83,3],[95,7,83,5],[96,6,84,4],[96,12,84,10,"url"],[96,15,84,13],[96,18,84,16],[96,22,84,20,"URL"],[96,25,84,23],[96,26,84,24,"path"],[96,30,84,28],[96,32,84,30],[96,36,84,34],[96,37,84,35,"baseUrl"],[96,44,84,42],[96,45,84,43],[97,6,85,4],[97,10,85,8,"params"],[97,16,85,14],[97,18,85,16],[98,8,86,6,"Object"],[98,14,86,12],[98,15,86,13,"entries"],[98,22,86,20],[98,23,86,21,"params"],[98,29,86,27],[98,30,86,28],[98,31,86,29,"forEach"],[98,38,86,36],[98,39,86,37],[98,40,86,38],[98,41,86,39,"key"],[98,44,86,42],[98,46,86,44,"value"],[98,51,86,49],[98,52,86,50],[98,57,86,55],[99,10,87,8],[99,14,87,12,"value"],[99,19,87,17],[99,21,87,19],[100,12,88,10,"url"],[100,15,88,13],[100,16,88,14,"searchParams"],[100,28,88,26],[100,29,88,27,"append"],[100,35,88,33],[100,36,88,34,"key"],[100,39,88,37],[100,41,88,39,"value"],[100,46,88,44],[100,47,88,45],[101,10,89,8],[102,8,90,6],[102,9,90,7],[102,10,90,8],[103,6,91,4],[104,6,92,4],[104,10,92,8],[104,14,92,12],[104,15,92,13,"clientId"],[104,23,92,21],[104,25,92,23],[105,8,93,6,"url"],[105,11,93,9],[105,12,93,10,"searchParams"],[105,24,93,22],[105,25,93,23,"append"],[105,31,93,29],[105,32,93,30],[105,42,93,40],[105,44,93,42],[105,48,93,46],[105,49,93,47,"clientId"],[105,57,93,55],[105,58,93,56],[106,6,94,4],[107,6,95,4],[107,13,95,11,"url"],[107,16,95,14],[107,17,95,15,"toString"],[107,25,95,23],[107,26,95,24],[107,27,95,25],[108,4,96,2],[109,4,97,2],[109,10,97,8,"processResponse"],[109,25,97,23,"processResponse"],[109,26,97,24,"response"],[109,34,97,32],[109,36,97,34],[110,6,98,4],[110,10,98,8],[110,11,98,9,"response"],[110,19,98,17],[110,20,98,18,"ok"],[110,22,98,20],[110,24,98,22],[111,8,99,6],[111,14,99,12,"errorText"],[111,23,99,21],[111,26,99,24],[111,32,99,30,"response"],[111,40,99,38],[111,41,99,39,"text"],[111,45,99,43],[111,46,99,44],[111,47,99,45],[112,8,100,6],[112,15,100,13,"Promise"],[112,22,100,20],[112,23,100,21,"reject"],[112,29,100,27],[112,30,100,28],[112,39,100,37,"response"],[112,47,100,45],[112,48,100,46,"status"],[112,54,100,52],[112,60,100,58,"response"],[112,68,100,66],[112,69,100,67,"statusText"],[112,79,100,77],[112,85,100,83,"errorText"],[112,94,100,92],[112,96,100,94],[112,97,100,95],[113,6,101,4],[114,6,102,4],[114,10,102,8,"response"],[114,18,102,16],[114,19,102,17,"headers"],[114,26,102,24],[114,27,102,25,"get"],[114,30,102,28],[114,31,102,29],[114,47,102,45],[114,48,102,46],[114,53,102,51],[114,56,102,54],[114,58,102,56],[115,8,103,6],[116,6,104,4],[117,6,105,4],[117,10,105,8,"response"],[117,18,105,16],[117,19,105,17,"headers"],[117,26,105,24],[117,27,105,25,"get"],[117,30,105,28],[117,31,105,29],[117,45,105,43],[117,46,105,44],[117,48,105,46,"includes"],[117,56,105,54],[117,57,105,55],[117,75,105,73],[117,76,105,74],[117,78,105,76],[118,8,106,6],[118,15,106,13,"response"],[118,23,106,21],[118,24,106,22,"json"],[118,28,106,26],[118,29,106,27],[118,30,106,28],[119,6,107,4],[120,6,108,4],[121,4,109,2],[122,2,110,0],[123,0,110,1],[123,3]],"functionMap":{"names":["<global>","FetchUtil","constructor","get","post","put","_delete","fetchImage","Promise$argument_0","reader.onloadend","createUrl","Object.entries.forEach$argument_0","processResponse"],"mappings":"AAA;OCG;ECC;GDM;EEC;GFU;EGC;GHY;EIC;GJY;EKC;GLY;EMC;yBCW;2BCC,4BD;ODC;GNI;ESC;qCCM;ODI;GTM;EWC;GXY;CDC"},"hasCjsExports":false},"type":"js/module"}]}