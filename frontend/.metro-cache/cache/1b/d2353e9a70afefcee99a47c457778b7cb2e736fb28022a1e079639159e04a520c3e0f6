{"dependencies":[{"name":"valtio","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":14,"index":161},"end":{"line":7,"column":31,"index":178}}],"key":"6p/dfTbbcZw2+DkbKokTtc8rxfY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":193},"end":{"line":8,"column":29,"index":209}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"@web3modal/core-react-native","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":23,"index":234},"end":{"line":9,"column":62,"index":273}}],"key":"AnZmQQ6c3AQMMXewVtboGnDXB6g=","exportNames":["*"],"imports":1}},{"name":"../../partials/w3m-otp-code","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":18,"index":293},"end":{"line":10,"column":56,"index":331}}],"key":"uPcIwZizowmkPvxfU+5YUoMmpqk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.UpdateEmailSecondaryOtpView = UpdateEmailSecondaryOtpView;\n  var _valtio = require(_dependencyMap[0], \"valtio\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _coreReactNative = require(_dependencyMap[2], \"@web3modal/core-react-native\");\n  var _w3mOtpCode = require(_dependencyMap[3], \"../../partials/w3m-otp-code\");\n  function UpdateEmailSecondaryOtpView() {\n    const {\n      data\n    } = (0, _valtio.useSnapshot)(_coreReactNative.RouterController.state);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)('');\n    const emailConnector = _coreReactNative.ConnectorController.getEmailConnector();\n    const onOtpSubmit = async value => {\n      if (!emailConnector) return;\n      setLoading(true);\n      setError('');\n      try {\n        const provider = emailConnector?.provider;\n        await provider.updateEmailSecondaryOtp({\n          otp: value\n        });\n        _coreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_VERIFICATION_CODE_PASS'\n        });\n        _coreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_EDIT_COMPLETE'\n        });\n        _coreReactNative.RouterController.reset('Account');\n      } catch (e) {\n        _coreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_VERIFICATION_CODE_FAIL'\n        });\n        const parsedError = _coreReactNative.CoreHelperUtil.parseError(e);\n        if (parsedError?.includes('Invalid Otp')) {\n          setError('Invalid code. Try again.');\n        } else {\n          _coreReactNative.SnackController.showError(parsedError);\n        }\n      }\n      setLoading(false);\n    };\n    return /*#__PURE__*/React.createElement(_w3mOtpCode.OtpCodeView, {\n      loading: loading,\n      error: error,\n      email: data?.newEmail,\n      onSubmit: onOtpSubmit,\n      onRetry: _coreReactNative.RouterController.goBack,\n      codeExpiry: 10,\n      retryLabel: \"Something wrong?\",\n      retryDisabledButtonLabel: \"Try again\",\n      retryButtonLabel: \"Try again\"\n    });\n  }\n});","lineCount":63,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"UpdateEmailSecondaryOtpView"],[7,37,6,35],[7,40,6,38,"UpdateEmailSecondaryOtpView"],[7,67,6,65],[8,2,7,0],[8,6,7,4,"_valtio"],[8,13,7,11],[8,16,7,14,"require"],[8,23,7,21],[8,24,7,21,"_dependencyMap"],[8,38,7,21],[8,51,7,30],[8,52,7,31],[9,2,8,0],[9,6,8,4,"_react"],[9,12,8,10],[9,15,8,13,"require"],[9,22,8,20],[9,23,8,20,"_dependencyMap"],[9,37,8,20],[9,49,8,28],[9,50,8,29],[10,2,9,0],[10,6,9,4,"_coreReactNative"],[10,22,9,20],[10,25,9,23,"require"],[10,32,9,30],[10,33,9,30,"_dependencyMap"],[10,47,9,30],[10,82,9,61],[10,83,9,62],[11,2,10,0],[11,6,10,4,"_w3mOtpCode"],[11,17,10,15],[11,20,10,18,"require"],[11,27,10,25],[11,28,10,25,"_dependencyMap"],[11,42,10,25],[11,76,10,55],[11,77,10,56],[12,2,11,0],[12,11,11,9,"UpdateEmailSecondaryOtpView"],[12,38,11,36,"UpdateEmailSecondaryOtpView"],[12,39,11,36],[12,41,11,39],[13,4,12,2],[13,10,12,8],[14,6,13,4,"data"],[15,4,14,2],[15,5,14,3],[15,8,14,6],[15,9,14,7],[15,10,14,8],[15,12,14,10,"_valtio"],[15,19,14,17],[15,20,14,18,"useSnapshot"],[15,31,14,29],[15,33,14,31,"_coreReactNative"],[15,49,14,47],[15,50,14,48,"RouterController"],[15,66,14,64],[15,67,14,65,"state"],[15,72,14,70],[15,73,14,71],[16,4,15,2],[16,10,15,8],[16,11,15,9,"loading"],[16,18,15,16],[16,20,15,18,"setLoading"],[16,30,15,28],[16,31,15,29],[16,34,15,32],[16,35,15,33],[16,36,15,34],[16,38,15,36,"_react"],[16,44,15,42],[16,45,15,43,"useState"],[16,53,15,51],[16,55,15,53],[16,60,15,58],[16,61,15,59],[17,4,16,2],[17,10,16,8],[17,11,16,9,"error"],[17,16,16,14],[17,18,16,16,"setError"],[17,26,16,24],[17,27,16,25],[17,30,16,28],[17,31,16,29],[17,32,16,30],[17,34,16,32,"_react"],[17,40,16,38],[17,41,16,39,"useState"],[17,49,16,47],[17,51,16,49],[17,53,16,51],[17,54,16,52],[18,4,17,2],[18,10,17,8,"emailConnector"],[18,24,17,22],[18,27,17,25,"_coreReactNative"],[18,43,17,41],[18,44,17,42,"ConnectorController"],[18,63,17,61],[18,64,17,62,"getEmailConnector"],[18,81,17,79],[18,82,17,80],[18,83,17,81],[19,4,18,2],[19,10,18,8,"onOtpSubmit"],[19,21,18,19],[19,24,18,22],[19,30,18,28,"value"],[19,35,18,33],[19,39,18,37],[20,6,19,4],[20,10,19,8],[20,11,19,9,"emailConnector"],[20,25,19,23],[20,27,19,25],[21,6,20,4,"setLoading"],[21,16,20,14],[21,17,20,15],[21,21,20,19],[21,22,20,20],[22,6,21,4,"setError"],[22,14,21,12],[22,15,21,13],[22,17,21,15],[22,18,21,16],[23,6,22,4],[23,10,22,8],[24,8,23,6],[24,14,23,12,"provider"],[24,22,23,20],[24,25,23,23,"emailConnector"],[24,39,23,37],[24,41,23,39,"provider"],[24,49,23,47],[25,8,24,6],[25,14,24,12,"provider"],[25,22,24,20],[25,23,24,21,"updateEmailSecondaryOtp"],[25,46,24,44],[25,47,24,45],[26,10,25,8,"otp"],[26,13,25,11],[26,15,25,13,"value"],[27,8,26,6],[27,9,26,7],[27,10,26,8],[28,8,27,6,"_coreReactNative"],[28,24,27,22],[28,25,27,23,"EventsController"],[28,41,27,39],[28,42,27,40,"sendEvent"],[28,51,27,49],[28,52,27,50],[29,10,28,8,"type"],[29,14,28,12],[29,16,28,14],[29,23,28,21],[30,10,29,8,"event"],[30,15,29,13],[30,17,29,15],[31,8,30,6],[31,9,30,7],[31,10,30,8],[32,8,31,6,"_coreReactNative"],[32,24,31,22],[32,25,31,23,"EventsController"],[32,41,31,39],[32,42,31,40,"sendEvent"],[32,51,31,49],[32,52,31,50],[33,10,32,8,"type"],[33,14,32,12],[33,16,32,14],[33,23,32,21],[34,10,33,8,"event"],[34,15,33,13],[34,17,33,15],[35,8,34,6],[35,9,34,7],[35,10,34,8],[36,8,35,6,"_coreReactNative"],[36,24,35,22],[36,25,35,23,"RouterController"],[36,41,35,39],[36,42,35,40,"reset"],[36,47,35,45],[36,48,35,46],[36,57,35,55],[36,58,35,56],[37,6,36,4],[37,7,36,5],[37,8,36,6],[37,15,36,13,"e"],[37,16,36,14],[37,18,36,16],[38,8,37,6,"_coreReactNative"],[38,24,37,22],[38,25,37,23,"EventsController"],[38,41,37,39],[38,42,37,40,"sendEvent"],[38,51,37,49],[38,52,37,50],[39,10,38,8,"type"],[39,14,38,12],[39,16,38,14],[39,23,38,21],[40,10,39,8,"event"],[40,15,39,13],[40,17,39,15],[41,8,40,6],[41,9,40,7],[41,10,40,8],[42,8,41,6],[42,14,41,12,"parsedError"],[42,25,41,23],[42,28,41,26,"_coreReactNative"],[42,44,41,42],[42,45,41,43,"CoreHelperUtil"],[42,59,41,57],[42,60,41,58,"parseError"],[42,70,41,68],[42,71,41,69,"e"],[42,72,41,70],[42,73,41,71],[43,8,42,6],[43,12,42,10,"parsedError"],[43,23,42,21],[43,25,42,23,"includes"],[43,33,42,31],[43,34,42,32],[43,47,42,45],[43,48,42,46],[43,50,42,48],[44,10,43,8,"setError"],[44,18,43,16],[44,19,43,17],[44,45,43,43],[44,46,43,44],[45,8,44,6],[45,9,44,7],[45,15,44,13],[46,10,45,8,"_coreReactNative"],[46,26,45,24],[46,27,45,25,"SnackController"],[46,42,45,40],[46,43,45,41,"showError"],[46,52,45,50],[46,53,45,51,"parsedError"],[46,64,45,62],[46,65,45,63],[47,8,46,6],[48,6,47,4],[49,6,48,4,"setLoading"],[49,16,48,14],[49,17,48,15],[49,22,48,20],[49,23,48,21],[50,4,49,2],[50,5,49,3],[51,4,50,2],[51,11,50,9],[51,24,50,22,"React"],[51,29,50,27],[51,30,50,28,"createElement"],[51,43,50,41],[51,44,50,42,"_w3mOtpCode"],[51,55,50,53],[51,56,50,54,"OtpCodeView"],[51,67,50,65],[51,69,50,67],[52,6,51,4,"loading"],[52,13,51,11],[52,15,51,13,"loading"],[52,22,51,20],[53,6,52,4,"error"],[53,11,52,9],[53,13,52,11,"error"],[53,18,52,16],[54,6,53,4,"email"],[54,11,53,9],[54,13,53,11,"data"],[54,17,53,15],[54,19,53,17,"newEmail"],[54,27,53,25],[55,6,54,4,"onSubmit"],[55,14,54,12],[55,16,54,14,"onOtpSubmit"],[55,27,54,25],[56,6,55,4,"onRetry"],[56,13,55,11],[56,15,55,13,"_coreReactNative"],[56,31,55,29],[56,32,55,30,"RouterController"],[56,48,55,46],[56,49,55,47,"goBack"],[56,55,55,53],[57,6,56,4,"codeExpiry"],[57,16,56,14],[57,18,56,16],[57,20,56,18],[58,6,57,4,"retryLabel"],[58,16,57,14],[58,18,57,16],[58,36,57,34],[59,6,58,4,"retryDisabledButtonLabel"],[59,30,58,28],[59,32,58,30],[59,43,58,41],[60,6,59,4,"retryButtonLabel"],[60,22,59,20],[60,24,59,22],[61,4,60,2],[61,5,60,3],[61,6,60,4],[62,2,61,0],[63,0,61,1],[63,3]],"functionMap":{"names":["<global>","UpdateEmailSecondaryOtpView","onOtpSubmit"],"mappings":"AAA;ACU;sBCO;GD+B;CDY"},"hasCjsExports":true},"type":"js/module"}]}