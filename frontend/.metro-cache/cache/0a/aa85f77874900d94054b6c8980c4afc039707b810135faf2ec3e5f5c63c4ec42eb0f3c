{"dependencies":[{"name":"viem/actions","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"ZnkTrC54T/ipr81lr238wDQi2zw=","exportNames":["*"],"imports":1}},{"name":"../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":50,"index":129}}],"key":"F8bgdxTmqm4aDMPVsYqdIuQq4Hg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.watchContractEvent = watchContractEvent;\n  var _viemActions = require(_dependencyMap[0], \"viem/actions\");\n  var _utilsGetActionJs = require(_dependencyMap[1], \"../utils/getAction.js\");\n  // TODO: wrap in viem's `observe` to avoid duplicate invocations.\n  /** https://wagmi.sh/core/api/actions/watchContractEvent */\n  function watchContractEvent(config, parameters) {\n    const {\n      syncConnectedChain = config._internal.syncConnectedChain,\n      ...rest\n    } = parameters;\n    let unwatch;\n    const listener = chainId => {\n      if (unwatch) unwatch();\n      const client = config.getClient({\n        chainId\n      });\n      const action = (0, _utilsGetActionJs.getAction)(client, _viemActions.watchContractEvent, 'watchContractEvent');\n      unwatch = action(rest);\n      return unwatch;\n    };\n    // set up listener for transaction changes\n    const unlisten = listener(parameters.chainId);\n    // set up subscriber for connected chain changes\n    let unsubscribe;\n    if (syncConnectedChain && !parameters.chainId) unsubscribe = config.subscribe(({\n      chainId\n    }) => chainId, async chainId => listener(chainId));\n    return () => {\n      unlisten?.();\n      unsubscribe?.();\n    };\n  }\n});","lineCount":39,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"watchContractEvent"],[7,28,5,0],[7,31,5,0,"watchContractEvent"],[7,49,5,0],[8,2,1,0],[8,6,1,0,"_viemActions"],[8,18,1,0],[8,21,1,0,"require"],[8,28,1,0],[8,29,1,0,"_dependencyMap"],[8,43,1,0],[9,2,2,0],[9,6,2,0,"_utilsGetActionJs"],[9,23,2,0],[9,26,2,0,"require"],[9,33,2,0],[9,34,2,0,"_dependencyMap"],[9,48,2,0],[10,2,3,0],[11,2,4,0],[12,2,5,7],[12,11,5,16,"watchContractEvent"],[12,29,5,34,"watchContractEvent"],[12,30,5,35,"config"],[12,36,5,41],[12,38,5,43,"parameters"],[12,48,5,53],[12,50,5,55],[13,4,6,4],[13,10,6,10],[14,6,6,12,"syncConnectedChain"],[14,24,6,30],[14,27,6,33,"config"],[14,33,6,39],[14,34,6,40,"_internal"],[14,43,6,49],[14,44,6,50,"syncConnectedChain"],[14,62,6,68],[15,6,6,70],[15,9,6,73,"rest"],[16,4,6,78],[16,5,6,79],[16,8,6,82,"parameters"],[16,18,6,92],[17,4,7,4],[17,8,7,8,"unwatch"],[17,15,7,15],[18,4,8,4],[18,10,8,10,"listener"],[18,18,8,18],[18,21,8,22,"chainId"],[18,28,8,29],[18,32,8,34],[19,6,9,8],[19,10,9,12,"unwatch"],[19,17,9,19],[19,19,10,12,"unwatch"],[19,26,10,19],[19,27,10,20],[19,28,10,21],[20,6,11,8],[20,12,11,14,"client"],[20,18,11,20],[20,21,11,23,"config"],[20,27,11,29],[20,28,11,30,"getClient"],[20,37,11,39],[20,38,11,40],[21,8,11,42,"chainId"],[22,6,11,50],[22,7,11,51],[22,8,11,52],[23,6,12,8],[23,12,12,14,"action"],[23,18,12,20],[23,21,12,23],[23,25,12,23,"getAction"],[23,42,12,32],[23,43,12,32,"getAction"],[23,52,12,32],[23,54,12,33,"client"],[23,60,12,39],[23,62,12,41,"viem_watchContractEvent"],[23,74,12,64],[23,75,12,64,"watchContractEvent"],[23,93,12,64],[23,95,12,66],[23,115,12,86],[23,116,12,87],[24,6,13,8,"unwatch"],[24,13,13,15],[24,16,13,18,"action"],[24,22,13,24],[24,23,13,25,"rest"],[24,27,13,29],[24,28,13,30],[25,6,14,8],[25,13,14,15,"unwatch"],[25,20,14,22],[26,4,15,4],[26,5,15,5],[27,4,16,4],[28,4,17,4],[28,10,17,10,"unlisten"],[28,18,17,18],[28,21,17,21,"listener"],[28,29,17,29],[28,30,17,30,"parameters"],[28,40,17,40],[28,41,17,41,"chainId"],[28,48,17,48],[28,49,17,49],[29,4,18,4],[30,4,19,4],[30,8,19,8,"unsubscribe"],[30,19,19,19],[31,4,20,4],[31,8,20,8,"syncConnectedChain"],[31,26,20,26],[31,30,20,30],[31,31,20,31,"parameters"],[31,41,20,41],[31,42,20,42,"chainId"],[31,49,20,49],[31,51,21,8,"unsubscribe"],[31,62,21,19],[31,65,21,22,"config"],[31,71,21,28],[31,72,21,29,"subscribe"],[31,81,21,38],[31,82,21,39],[31,83,21,40],[32,6,21,42,"chainId"],[33,4,21,50],[33,5,21,51],[33,10,21,56,"chainId"],[33,17,21,63],[33,19,21,65],[33,25,21,72,"chainId"],[33,32,21,79],[33,36,21,84,"listener"],[33,44,21,92],[33,45,21,93,"chainId"],[33,52,21,100],[33,53,21,101],[33,54,21,102],[34,4,22,4],[34,11,22,11],[34,17,22,17],[35,6,23,8,"unlisten"],[35,14,23,16],[35,17,23,19],[35,18,23,20],[36,6,24,8,"unsubscribe"],[36,17,24,19],[36,20,24,22],[36,21,24,23],[37,4,25,4],[37,5,25,5],[38,2,26,0],[39,0,26,1],[39,3]],"functionMap":{"names":["<global>","watchContractEvent","listener","config.subscribe$argument_0","config.subscribe$argument_1","<anonymous>"],"mappings":"AAA;OCI;qBCG;KDO;uCEM,wBF,EG,oCH;WIC;KJG;CDC"},"hasCjsExports":false},"type":"js/module"}]}