{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":93,"index":93}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"proxy-compare","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":94},"end":{"line":2,"column":75,"index":169}}],"key":"/qYvJ9fPtUSfbHiFARMrZbg/p7Y=","exportNames":["*"],"imports":1}},{"name":"use-sync-external-store/shim/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":170},"end":{"line":3,"column":80,"index":250}}],"key":"Iqy9mJIlTrg6+CjRiIepLJBxASw=","exportNames":["*"],"imports":1}},{"name":"valtio/vanilla","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":251},"end":{"line":4,"column":53,"index":304}}],"key":"tlag/MsaYf2kg1zwNazSfjYKwjI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSnapshot\", {\n    enumerable: true,\n    get: function () {\n      return useSnapshot;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var ReactExports = _interopDefault(_react);\n  var _proxyCompare = require(_dependencyMap[1], \"proxy-compare\");\n  var _useSyncExternalStoreShimIndexJs = require(_dependencyMap[2], \"use-sync-external-store/shim/index.js\");\n  var useSyncExternalStoreExports = _interopDefault(_useSyncExternalStoreShimIndexJs);\n  var _valtioVanilla = require(_dependencyMap[3], \"valtio/vanilla\");\n  const {\n    use\n  } = ReactExports.default;\n  const {\n    useSyncExternalStore\n  } = useSyncExternalStoreExports.default;\n  const useAffectedDebugValue = (state, affected) => {\n    const pathList = (0, _react.useRef)();\n    (0, _react.useEffect)(() => {\n      pathList.current = (0, _proxyCompare.affectedToPathList)(state, affected, true);\n    });\n    (0, _react.useDebugValue)(pathList.current);\n  };\n  const targetCache = /* @__PURE__ */new WeakMap();\n  function useSnapshot(proxyObject, options) {\n    const notifyInSync = options == null ? void 0 : options.sync;\n    const lastSnapshot = (0, _react.useRef)();\n    const lastAffected = (0, _react.useRef)();\n    let inRender = true;\n    const currSnapshot = useSyncExternalStore((0, _react.useCallback)(callback => {\n      const unsub = (0, _valtioVanilla.subscribe)(proxyObject, callback, notifyInSync);\n      callback();\n      return unsub;\n    }, [proxyObject, notifyInSync]), () => {\n      const nextSnapshot = (0, _valtioVanilla.snapshot)(proxyObject, use);\n      try {\n        if (!inRender && lastSnapshot.current && lastAffected.current && !(0, _proxyCompare.isChanged)(lastSnapshot.current, nextSnapshot, lastAffected.current, /* @__PURE__ */new WeakMap())) {\n          return lastSnapshot.current;\n        }\n      } catch (e) {}\n      return nextSnapshot;\n    }, () => (0, _valtioVanilla.snapshot)(proxyObject, use));\n    inRender = false;\n    const currAffected = /* @__PURE__ */new WeakMap();\n    (0, _react.useEffect)(() => {\n      lastSnapshot.current = currSnapshot;\n      lastAffected.current = currAffected;\n    });\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      useAffectedDebugValue(currSnapshot, currAffected);\n    }\n    const proxyCache = (0, _react.useMemo)(() => /* @__PURE__ */new WeakMap(), []);\n    return (0, _proxyCompare.createProxy)(currSnapshot, currAffected, proxyCache, targetCache);\n  }\n});","lineCount":68,"map":[[12,2,65,0,"Object"],[12,8,65,0],[12,9,65,0,"defineProperty"],[12,23,65,0],[12,24,65,0,"exports"],[12,31,65,0],[13,4,65,0,"enumerable"],[13,14,65,0],[14,4,65,0,"get"],[14,7,65,0],[14,18,65,0,"get"],[14,19,65,0],[15,6,65,0],[15,13,65,9,"useSnapshot"],[15,24,65,20],[16,4,65,20],[17,2,65,20],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"ReactExports"],[19,18,1,0],[19,21,1,0,"_interopDefault"],[19,36,1,0],[19,37,1,0,"_react"],[19,43,1,0],[20,2,2,0],[20,6,2,0,"_proxyCompare"],[20,19,2,0],[20,22,2,0,"require"],[20,29,2,0],[20,30,2,0,"_dependencyMap"],[20,44,2,0],[21,2,3,0],[21,6,3,0,"_useSyncExternalStoreShimIndexJs"],[21,38,3,0],[21,41,3,0,"require"],[21,48,3,0],[21,49,3,0,"_dependencyMap"],[21,63,3,0],[22,2,3,0],[22,6,3,0,"useSyncExternalStoreExports"],[22,33,3,0],[22,36,3,0,"_interopDefault"],[22,51,3,0],[22,52,3,0,"_useSyncExternalStoreShimIndexJs"],[22,84,3,0],[23,2,4,0],[23,6,4,0,"_valtioVanilla"],[23,20,4,0],[23,23,4,0,"require"],[23,30,4,0],[23,31,4,0,"_dependencyMap"],[23,45,4,0],[24,2,6,0],[24,8,6,6],[25,4,6,8,"use"],[26,2,6,12],[26,3,6,13],[26,6,6,16,"ReactExports"],[26,18,6,28],[26,19,6,28,"default"],[26,26,6,28],[27,2,7,0],[27,8,7,6],[28,4,7,8,"useSyncExternalStore"],[29,2,7,29],[29,3,7,30],[29,6,7,33,"useSyncExternalStoreExports"],[29,33,7,60],[29,34,7,60,"default"],[29,41,7,60],[30,2,8,0],[30,8,8,6,"useAffectedDebugValue"],[30,29,8,27],[30,32,8,30,"useAffectedDebugValue"],[30,33,8,31,"state"],[30,38,8,36],[30,40,8,38,"affected"],[30,48,8,46],[30,53,8,51],[31,4,9,2],[31,10,9,8,"pathList"],[31,18,9,16],[31,21,9,19],[31,25,9,19,"useRef"],[31,31,9,25],[31,32,9,25,"useRef"],[31,38,9,25],[31,40,9,26],[31,41,9,27],[32,4,10,2],[32,8,10,2,"useEffect"],[32,14,10,11],[32,15,10,11,"useEffect"],[32,24,10,11],[32,26,10,12],[32,32,10,18],[33,6,11,4,"pathList"],[33,14,11,12],[33,15,11,13,"current"],[33,22,11,20],[33,25,11,23],[33,29,11,23,"affectedToPathList"],[33,42,11,41],[33,43,11,41,"affectedToPathList"],[33,61,11,41],[33,63,11,42,"state"],[33,68,11,47],[33,70,11,49,"affected"],[33,78,11,57],[33,80,11,59],[33,84,11,63],[33,85,11,64],[34,4,12,2],[34,5,12,3],[34,6,12,4],[35,4,13,2],[35,8,13,2,"useDebugValue"],[35,14,13,15],[35,15,13,15,"useDebugValue"],[35,28,13,15],[35,30,13,16,"pathList"],[35,38,13,24],[35,39,13,25,"current"],[35,46,13,32],[35,47,13,33],[36,2,14,0],[36,3,14,1],[37,2,15,0],[37,8,15,6,"targetCache"],[37,19,15,17],[37,22,15,20],[37,37,15,36],[37,41,15,40,"WeakMap"],[37,48,15,47],[37,49,15,48],[37,50,15,49],[38,2,16,0],[38,11,16,9,"useSnapshot"],[38,22,16,20,"useSnapshot"],[38,23,16,21,"proxyObject"],[38,34,16,32],[38,36,16,34,"options"],[38,43,16,41],[38,45,16,43],[39,4,17,2],[39,10,17,8,"notifyInSync"],[39,22,17,20],[39,25,17,23,"options"],[39,32,17,30],[39,36,17,34],[39,40,17,38],[39,43,17,41],[39,48,17,46],[39,49,17,47],[39,52,17,50,"options"],[39,59,17,57],[39,60,17,58,"sync"],[39,64,17,62],[40,4,18,2],[40,10,18,8,"lastSnapshot"],[40,22,18,20],[40,25,18,23],[40,29,18,23,"useRef"],[40,35,18,29],[40,36,18,29,"useRef"],[40,42,18,29],[40,44,18,30],[40,45,18,31],[41,4,19,2],[41,10,19,8,"lastAffected"],[41,22,19,20],[41,25,19,23],[41,29,19,23,"useRef"],[41,35,19,29],[41,36,19,29,"useRef"],[41,42,19,29],[41,44,19,30],[41,45,19,31],[42,4,20,2],[42,8,20,6,"inRender"],[42,16,20,14],[42,19,20,17],[42,23,20,21],[43,4,21,2],[43,10,21,8,"currSnapshot"],[43,22,21,20],[43,25,21,23,"useSyncExternalStore"],[43,45,21,43],[43,46,22,4],[43,50,22,4,"useCallback"],[43,56,22,15],[43,57,22,15,"useCallback"],[43,68,22,15],[43,70,23,7,"callback"],[43,78,23,15],[43,82,23,20],[44,6,24,8],[44,12,24,14,"unsub"],[44,17,24,19],[44,20,24,22],[44,24,24,22,"subscribe"],[44,38,24,31],[44,39,24,31,"subscribe"],[44,48,24,31],[44,50,24,32,"proxyObject"],[44,61,24,43],[44,63,24,45,"callback"],[44,71,24,53],[44,73,24,55,"notifyInSync"],[44,85,24,67],[44,86,24,68],[45,6,25,8,"callback"],[45,14,25,16],[45,15,25,17],[45,16,25,18],[46,6,26,8],[46,13,26,15,"unsub"],[46,18,26,20],[47,4,27,6],[47,5,27,7],[47,7,28,6],[47,8,28,7,"proxyObject"],[47,19,28,18],[47,21,28,20,"notifyInSync"],[47,33,28,32],[47,34,29,4],[47,35,29,5],[47,37,30,4],[47,43,30,10],[48,6,31,6],[48,12,31,12,"nextSnapshot"],[48,24,31,24],[48,27,31,27],[48,31,31,27,"snapshot"],[48,45,31,35],[48,46,31,35,"snapshot"],[48,54,31,35],[48,56,31,36,"proxyObject"],[48,67,31,47],[48,69,31,49,"use"],[48,72,31,52],[48,73,31,53],[49,6,32,6],[49,10,32,10],[50,8,33,8],[50,12,33,12],[50,13,33,13,"inRender"],[50,21,33,21],[50,25,33,25,"lastSnapshot"],[50,37,33,37],[50,38,33,38,"current"],[50,45,33,45],[50,49,33,49,"lastAffected"],[50,61,33,61],[50,62,33,62,"current"],[50,69,33,69],[50,73,33,73],[50,74,33,74],[50,78,33,74,"isChanged"],[50,91,33,83],[50,92,33,83,"isChanged"],[50,101,33,83],[50,103,34,10,"lastSnapshot"],[50,115,34,22],[50,116,34,23,"current"],[50,123,34,30],[50,125,35,10,"nextSnapshot"],[50,137,35,22],[50,139,36,10,"lastAffected"],[50,151,36,22],[50,152,36,23,"current"],[50,159,36,30],[50,161,37,10],[50,176,37,26],[50,180,37,30,"WeakMap"],[50,187,37,37],[50,188,37,38],[50,189,38,8],[50,190,38,9],[50,192,38,11],[51,10,39,10],[51,17,39,17,"lastSnapshot"],[51,29,39,29],[51,30,39,30,"current"],[51,37,39,37],[52,8,40,8],[53,6,41,6],[53,7,41,7],[53,8,41,8],[53,15,41,15,"e"],[53,16,41,16],[53,18,41,18],[53,19,42,6],[54,6,43,6],[54,13,43,13,"nextSnapshot"],[54,25,43,25],[55,4,44,4],[55,5,44,5],[55,7,45,4],[55,13,45,10],[55,17,45,10,"snapshot"],[55,31,45,18],[55,32,45,18,"snapshot"],[55,40,45,18],[55,42,45,19,"proxyObject"],[55,53,45,30],[55,55,45,32,"use"],[55,58,45,35],[55,59,46,2],[55,60,46,3],[56,4,47,2,"inRender"],[56,12,47,10],[56,15,47,13],[56,20,47,18],[57,4,48,2],[57,10,48,8,"currAffected"],[57,22,48,20],[57,25,48,23],[57,40,48,39],[57,44,48,43,"WeakMap"],[57,51,48,50],[57,52,48,51],[57,53,48,52],[58,4,49,2],[58,8,49,2,"useEffect"],[58,14,49,11],[58,15,49,11,"useEffect"],[58,24,49,11],[58,26,49,12],[58,32,49,18],[59,6,50,4,"lastSnapshot"],[59,18,50,16],[59,19,50,17,"current"],[59,26,50,24],[59,29,50,27,"currSnapshot"],[59,41,50,39],[60,6,51,4,"lastAffected"],[60,18,51,16],[60,19,51,17,"current"],[60,26,51,24],[60,29,51,27,"currAffected"],[60,41,51,39],[61,4,52,2],[61,5,52,3],[61,6,52,4],[62,4,53,2],[62,8,53,6],[62,9,53,7,"import"],[62,15,53,13],[62,16,53,14,"meta"],[62,20,53,18],[62,21,53,19,"env"],[62,24,53,22],[62,27,53,25,"import"],[62,33,53,31],[62,34,53,32,"meta"],[62,38,53,36],[62,39,53,37,"env"],[62,42,53,40],[62,43,53,41,"MODE"],[62,47,53,45],[62,50,53,48],[62,55,53,53],[62,56,53,54],[62,62,53,60],[62,74,53,72],[62,76,53,74],[63,6,54,4,"useAffectedDebugValue"],[63,27,54,25],[63,28,54,26,"currSnapshot"],[63,40,54,38],[63,42,54,40,"currAffected"],[63,54,54,52],[63,55,54,53],[64,4,55,2],[65,4,56,2],[65,10,56,8,"proxyCache"],[65,20,56,18],[65,23,56,21],[65,27,56,21,"useMemo"],[65,33,56,28],[65,34,56,28,"useMemo"],[65,41,56,28],[65,43,56,29],[65,49,56,35],[65,64,56,51],[65,68,56,55,"WeakMap"],[65,75,56,62],[65,76,56,63],[65,77,56,64],[65,79,56,66],[65,81,56,68],[65,82,56,69],[66,4,57,2],[66,11,57,9],[66,15,57,9,"createProxy"],[66,28,57,20],[66,29,57,20,"createProxy"],[66,40,57,20],[66,42,58,4,"currSnapshot"],[66,54,58,16],[66,56,59,4,"currAffected"],[66,68,59,16],[66,70,60,4,"proxyCache"],[66,80,60,14],[66,82,61,4,"targetCache"],[66,93,62,2],[66,94,62,3],[67,2,63,0],[68,0,63,1],[68,3]],"functionMap":{"names":["<global>","useAffectedDebugValue","useEffect$argument_0","useSnapshot","useSyncExternalStore$argument_0","useSyncExternalStore$argument_1","useSyncExternalStore$argument_2","useMemo$argument_0"],"mappings":"AAA;8BCO;YCE;GDE;CDE;AGE;MCO;ODI;IEG;KFc;IGC,gCH;YDI;GCG;6BII,mCJ;CHO"},"hasCjsExports":false},"type":"js/module"}]}