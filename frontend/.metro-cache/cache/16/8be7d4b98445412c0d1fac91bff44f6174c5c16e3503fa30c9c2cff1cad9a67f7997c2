{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":135},"end":{"line":4,"column":47,"index":165}}],"key":"qGW+Whuwmq2z3R+FBihEgnm5t3Q=","exportNames":["*"],"imports":1}},{"name":"../../errors/cursor.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":20,"index":187},"end":{"line":5,"column":53,"index":220}}],"key":"I+rePaLfqEzKsv9btcio4CB03DE=","exportNames":["*"],"imports":1}},{"name":"../data/size.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":240},"end":{"line":6,"column":44,"index":266}}],"key":"xQoUiKRzZ0zPkoZoSylkWHhsWcA=","exportNames":["*"],"imports":1}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":29,"index":297},"end":{"line":7,"column":66,"index":334}}],"key":"+X9WY0q103xuBGKsGKfowlCj1rY=","exportNames":["*"],"imports":1}},{"name":"./decodeAbiParameters.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":33,"index":369},"end":{"line":8,"column":68,"index":404}}],"key":"/lHZ6Q3wy3SebcxllBG4Nekx2CE=","exportNames":["*"],"imports":1}},{"name":"./formatAbiItem.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":433},"end":{"line":9,"column":56,"index":462}}],"key":"+8fcDuEs0OkL9OcLysMX61Iapw8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decodeEventLog = decodeEventLog;\n  const abi_js_1 = require(_dependencyMap[0], \"../../errors/abi.js\");\n  const cursor_js_1 = require(_dependencyMap[1], \"../../errors/cursor.js\");\n  const size_js_1 = require(_dependencyMap[2], \"../data/size.js\");\n  const toEventSelector_js_1 = require(_dependencyMap[3], \"../hash/toEventSelector.js\");\n  const decodeAbiParameters_js_1 = require(_dependencyMap[4], \"./decodeAbiParameters.js\");\n  const formatAbiItem_js_1 = require(_dependencyMap[5], \"./formatAbiItem.js\");\n  const docsPath = '/docs/contract/decodeEventLog';\n  function decodeEventLog(parameters) {\n    const {\n      abi,\n      data,\n      strict: strict_,\n      topics\n    } = parameters;\n    const strict = strict_ ?? true;\n    const [signature, ...argTopics] = topics;\n    if (!signature) throw new abi_js_1.AbiEventSignatureEmptyTopicsError({\n      docsPath\n    });\n    const abiItem = abi.find(x => x.type === 'event' && signature === (0, toEventSelector_js_1.toEventSelector)((0, formatAbiItem_js_1.formatAbiItem)(x)));\n    if (!(abiItem && 'name' in abiItem) || abiItem.type !== 'event') throw new abi_js_1.AbiEventSignatureNotFoundError(signature, {\n      docsPath\n    });\n    const {\n      name,\n      inputs\n    } = abiItem;\n    const isUnnamed = inputs?.some(x => !('name' in x && x.name));\n    const args = isUnnamed ? [] : {};\n    const indexedInputs = inputs.map((x, i) => [x, i]).filter(([x]) => 'indexed' in x && x.indexed);\n    for (let i = 0; i < indexedInputs.length; i++) {\n      const [param, argIndex] = indexedInputs[i];\n      const topic = argTopics[i];\n      if (!topic) throw new abi_js_1.DecodeLogTopicsMismatch({\n        abiItem,\n        param: param\n      });\n      args[isUnnamed ? argIndex : param.name || argIndex] = decodeTopic({\n        param,\n        value: topic\n      });\n    }\n    const nonIndexedInputs = inputs.filter(x => !('indexed' in x && x.indexed));\n    if (nonIndexedInputs.length > 0) {\n      if (data && data !== '0x') {\n        try {\n          const decodedData = (0, decodeAbiParameters_js_1.decodeAbiParameters)(nonIndexedInputs, data);\n          if (decodedData) {\n            if (isUnnamed) for (let i = 0; i < inputs.length; i++) args[i] = args[i] ?? decodedData.shift();else for (let i = 0; i < nonIndexedInputs.length; i++) args[nonIndexedInputs[i].name] = decodedData[i];\n          }\n        } catch (err) {\n          if (strict) {\n            if (err instanceof abi_js_1.AbiDecodingDataSizeTooSmallError || err instanceof cursor_js_1.PositionOutOfBoundsError) throw new abi_js_1.DecodeLogDataMismatch({\n              abiItem,\n              data: data,\n              params: nonIndexedInputs,\n              size: (0, size_js_1.size)(data)\n            });\n            throw err;\n          }\n        }\n      } else if (strict) {\n        throw new abi_js_1.DecodeLogDataMismatch({\n          abiItem,\n          data: '0x',\n          params: nonIndexedInputs,\n          size: 0\n        });\n      }\n    }\n    return {\n      eventName: name,\n      args: Object.values(args).length > 0 ? args : undefined\n    };\n  }\n  function decodeTopic({\n    param,\n    value\n  }) {\n    if (param.type === 'string' || param.type === 'bytes' || param.type === 'tuple' || param.type.match(/^(.*)\\[(\\d+)?\\]$/)) return value;\n    const decodedArg = (0, decodeAbiParameters_js_1.decodeAbiParameters)([param], value) || [];\n    return decodedArg[0];\n  }\n});","lineCount":91,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"decodeEventLog"],[7,24,3,22],[7,27,3,25,"decodeEventLog"],[7,41,3,39],[8,2,4,0],[8,8,4,6,"abi_js_1"],[8,16,4,14],[8,19,4,17,"require"],[8,26,4,24],[8,27,4,24,"_dependencyMap"],[8,41,4,24],[8,67,4,46],[8,68,4,47],[9,2,5,0],[9,8,5,6,"cursor_js_1"],[9,19,5,17],[9,22,5,20,"require"],[9,29,5,27],[9,30,5,27,"_dependencyMap"],[9,44,5,27],[9,73,5,52],[9,74,5,53],[10,2,6,0],[10,8,6,6,"size_js_1"],[10,17,6,15],[10,20,6,18,"require"],[10,27,6,25],[10,28,6,25,"_dependencyMap"],[10,42,6,25],[10,64,6,43],[10,65,6,44],[11,2,7,0],[11,8,7,6,"toEventSelector_js_1"],[11,28,7,26],[11,31,7,29,"require"],[11,38,7,36],[11,39,7,36,"_dependencyMap"],[11,53,7,36],[11,86,7,65],[11,87,7,66],[12,2,8,0],[12,8,8,6,"decodeAbiParameters_js_1"],[12,32,8,30],[12,35,8,33,"require"],[12,42,8,40],[12,43,8,40,"_dependencyMap"],[12,57,8,40],[12,88,8,67],[12,89,8,68],[13,2,9,0],[13,8,9,6,"formatAbiItem_js_1"],[13,26,9,24],[13,29,9,27,"require"],[13,36,9,34],[13,37,9,34,"_dependencyMap"],[13,51,9,34],[13,76,9,55],[13,77,9,56],[14,2,10,0],[14,8,10,6,"docsPath"],[14,16,10,14],[14,19,10,17],[14,50,10,48],[15,2,11,0],[15,11,11,9,"decodeEventLog"],[15,25,11,23,"decodeEventLog"],[15,26,11,24,"parameters"],[15,36,11,34],[15,38,11,36],[16,4,12,4],[16,10,12,10],[17,6,12,12,"abi"],[17,9,12,15],[18,6,12,17,"data"],[18,10,12,21],[19,6,12,23,"strict"],[19,12,12,29],[19,14,12,31,"strict_"],[19,21,12,38],[20,6,12,40,"topics"],[21,4,12,48],[21,5,12,49],[21,8,12,52,"parameters"],[21,18,12,62],[22,4,13,4],[22,10,13,10,"strict"],[22,16,13,16],[22,19,13,19,"strict_"],[22,26,13,26],[22,30,13,30],[22,34,13,34],[23,4,14,4],[23,10,14,10],[23,11,14,11,"signature"],[23,20,14,20],[23,22,14,22],[23,25,14,25,"argTopics"],[23,34,14,34],[23,35,14,35],[23,38,14,38,"topics"],[23,44,14,44],[24,4,15,4],[24,8,15,8],[24,9,15,9,"signature"],[24,18,15,18],[24,20,16,8],[24,26,16,14],[24,30,16,18,"abi_js_1"],[24,38,16,26],[24,39,16,27,"AbiEventSignatureEmptyTopicsError"],[24,72,16,60],[24,73,16,61],[25,6,16,63,"docsPath"],[26,4,16,72],[26,5,16,73],[26,6,16,74],[27,4,17,4],[27,10,17,10,"abiItem"],[27,17,17,17],[27,20,17,20,"abi"],[27,23,17,23],[27,24,17,24,"find"],[27,28,17,28],[27,29,17,30,"x"],[27,30,17,31],[27,34,17,36,"x"],[27,35,17,37],[27,36,17,38,"type"],[27,40,17,42],[27,45,17,47],[27,52,17,54],[27,56,18,8,"signature"],[27,65,18,17],[27,70,18,22],[27,71,18,23],[27,72,18,24],[27,74,18,26,"toEventSelector_js_1"],[27,94,18,46],[27,95,18,47,"toEventSelector"],[27,110,18,62],[27,112,18,64],[27,113,18,65],[27,114,18,66],[27,116,18,68,"formatAbiItem_js_1"],[27,134,18,86],[27,135,18,87,"formatAbiItem"],[27,148,18,100],[27,150,18,102,"x"],[27,151,18,103],[27,152,18,104],[27,153,18,105],[27,154,18,106],[28,4,19,4],[28,8,19,8],[28,10,19,10,"abiItem"],[28,17,19,17],[28,21,19,21],[28,27,19,27],[28,31,19,31,"abiItem"],[28,38,19,38],[28,39,19,39],[28,43,19,43,"abiItem"],[28,50,19,50],[28,51,19,51,"type"],[28,55,19,55],[28,60,19,60],[28,67,19,67],[28,69,20,8],[28,75,20,14],[28,79,20,18,"abi_js_1"],[28,87,20,26],[28,88,20,27,"AbiEventSignatureNotFoundError"],[28,118,20,57],[28,119,20,58,"signature"],[28,128,20,67],[28,130,20,69],[29,6,20,71,"docsPath"],[30,4,20,80],[30,5,20,81],[30,6,20,82],[31,4,21,4],[31,10,21,10],[32,6,21,12,"name"],[32,10,21,16],[33,6,21,18,"inputs"],[34,4,21,25],[34,5,21,26],[34,8,21,29,"abiItem"],[34,15,21,36],[35,4,22,4],[35,10,22,10,"isUnnamed"],[35,19,22,19],[35,22,22,22,"inputs"],[35,28,22,28],[35,30,22,30,"some"],[35,34,22,34],[35,35,22,36,"x"],[35,36,22,37],[35,40,22,42],[35,42,22,44],[35,48,22,50],[35,52,22,54,"x"],[35,53,22,55],[35,57,22,59,"x"],[35,58,22,60],[35,59,22,61,"name"],[35,63,22,65],[35,64,22,66],[35,65,22,67],[36,4,23,4],[36,10,23,10,"args"],[36,14,23,14],[36,17,23,17,"isUnnamed"],[36,26,23,26],[36,29,23,29],[36,31,23,31],[36,34,23,34],[36,35,23,35],[36,36,23,36],[37,4,24,4],[37,10,24,10,"indexedInputs"],[37,23,24,23],[37,26,24,26,"inputs"],[37,32,24,32],[37,33,25,9,"map"],[37,36,25,12],[37,37,25,13],[37,38,25,14,"x"],[37,39,25,15],[37,41,25,17,"i"],[37,42,25,18],[37,47,25,23],[37,48,25,24,"x"],[37,49,25,25],[37,51,25,27,"i"],[37,52,25,28],[37,53,25,29],[37,54,25,30],[37,55,26,9,"filter"],[37,61,26,15],[37,62,26,16],[37,63,26,17],[37,64,26,18,"x"],[37,65,26,19],[37,66,26,20],[37,71,26,25],[37,80,26,34],[37,84,26,38,"x"],[37,85,26,39],[37,89,26,43,"x"],[37,90,26,44],[37,91,26,45,"indexed"],[37,98,26,52],[37,99,26,53],[38,4,27,4],[38,9,27,9],[38,13,27,13,"i"],[38,14,27,14],[38,17,27,17],[38,18,27,18],[38,20,27,20,"i"],[38,21,27,21],[38,24,27,24,"indexedInputs"],[38,37,27,37],[38,38,27,38,"length"],[38,44,27,44],[38,46,27,46,"i"],[38,47,27,47],[38,49,27,49],[38,51,27,51],[39,6,28,8],[39,12,28,14],[39,13,28,15,"param"],[39,18,28,20],[39,20,28,22,"argIndex"],[39,28,28,30],[39,29,28,31],[39,32,28,34,"indexedInputs"],[39,45,28,47],[39,46,28,48,"i"],[39,47,28,49],[39,48,28,50],[40,6,29,8],[40,12,29,14,"topic"],[40,17,29,19],[40,20,29,22,"argTopics"],[40,29,29,31],[40,30,29,32,"i"],[40,31,29,33],[40,32,29,34],[41,6,30,8],[41,10,30,12],[41,11,30,13,"topic"],[41,16,30,18],[41,18,31,12],[41,24,31,18],[41,28,31,22,"abi_js_1"],[41,36,31,30],[41,37,31,31,"DecodeLogTopicsMismatch"],[41,60,31,54],[41,61,31,55],[42,8,32,16,"abiItem"],[42,15,32,23],[43,8,33,16,"param"],[43,13,33,21],[43,15,33,23,"param"],[44,6,34,12],[44,7,34,13],[44,8,34,14],[45,6,35,8,"args"],[45,10,35,12],[45,11,35,13,"isUnnamed"],[45,20,35,22],[45,23,35,25,"argIndex"],[45,31,35,33],[45,34,35,36,"param"],[45,39,35,41],[45,40,35,42,"name"],[45,44,35,46],[45,48,35,50,"argIndex"],[45,56,35,58],[45,57,35,59],[45,60,35,62,"decodeTopic"],[45,71,35,73],[45,72,35,74],[46,8,36,12,"param"],[46,13,36,17],[47,8,37,12,"value"],[47,13,37,17],[47,15,37,19,"topic"],[48,6,38,8],[48,7,38,9],[48,8,38,10],[49,4,39,4],[50,4,40,4],[50,10,40,10,"nonIndexedInputs"],[50,26,40,26],[50,29,40,29,"inputs"],[50,35,40,35],[50,36,40,36,"filter"],[50,42,40,42],[50,43,40,44,"x"],[50,44,40,45],[50,48,40,50],[50,50,40,52],[50,59,40,61],[50,63,40,65,"x"],[50,64,40,66],[50,68,40,70,"x"],[50,69,40,71],[50,70,40,72,"indexed"],[50,77,40,79],[50,78,40,80],[50,79,40,81],[51,4,41,4],[51,8,41,8,"nonIndexedInputs"],[51,24,41,24],[51,25,41,25,"length"],[51,31,41,31],[51,34,41,34],[51,35,41,35],[51,37,41,37],[52,6,42,8],[52,10,42,12,"data"],[52,14,42,16],[52,18,42,20,"data"],[52,22,42,24],[52,27,42,29],[52,31,42,33],[52,33,42,35],[53,8,43,12],[53,12,43,16],[54,10,44,16],[54,16,44,22,"decodedData"],[54,27,44,33],[54,30,44,36],[54,31,44,37],[54,32,44,38],[54,34,44,40,"decodeAbiParameters_js_1"],[54,58,44,64],[54,59,44,65,"decodeAbiParameters"],[54,78,44,84],[54,80,44,86,"nonIndexedInputs"],[54,96,44,102],[54,98,44,104,"data"],[54,102,44,108],[54,103,44,109],[55,10,45,16],[55,14,45,20,"decodedData"],[55,25,45,31],[55,27,45,33],[56,12,46,20],[56,16,46,24,"isUnnamed"],[56,25,46,33],[56,27,47,24],[56,32,47,29],[56,36,47,33,"i"],[56,37,47,34],[56,40,47,37],[56,41,47,38],[56,43,47,40,"i"],[56,44,47,41],[56,47,47,44,"inputs"],[56,53,47,50],[56,54,47,51,"length"],[56,60,47,57],[56,62,47,59,"i"],[56,63,47,60],[56,65,47,62],[56,67,48,28,"args"],[56,71,48,32],[56,72,48,33,"i"],[56,73,48,34],[56,74,48,35],[56,77,48,38,"args"],[56,81,48,42],[56,82,48,43,"i"],[56,83,48,44],[56,84,48,45],[56,88,48,49,"decodedData"],[56,99,48,60],[56,100,48,61,"shift"],[56,105,48,66],[56,106,48,67],[56,107,48,68],[56,108,48,69],[56,113,50,24],[56,118,50,29],[56,122,50,33,"i"],[56,123,50,34],[56,126,50,37],[56,127,50,38],[56,129,50,40,"i"],[56,130,50,41],[56,133,50,44,"nonIndexedInputs"],[56,149,50,60],[56,150,50,61,"length"],[56,156,50,67],[56,158,50,69,"i"],[56,159,50,70],[56,161,50,72],[56,163,51,28,"args"],[56,167,51,32],[56,168,51,33,"nonIndexedInputs"],[56,184,51,49],[56,185,51,50,"i"],[56,186,51,51],[56,187,51,52],[56,188,51,53,"name"],[56,192,51,57],[56,193,51,58],[56,196,51,61,"decodedData"],[56,207,51,72],[56,208,51,73,"i"],[56,209,51,74],[56,210,51,75],[57,10,52,16],[58,8,53,12],[58,9,53,13],[58,10,54,12],[58,17,54,19,"err"],[58,20,54,22],[58,22,54,24],[59,10,55,16],[59,14,55,20,"strict"],[59,20,55,26],[59,22,55,28],[60,12,56,20],[60,16,56,24,"err"],[60,19,56,27],[60,31,56,39,"abi_js_1"],[60,39,56,47],[60,40,56,48,"AbiDecodingDataSizeTooSmallError"],[60,72,56,80],[60,76,57,24,"err"],[60,79,57,27],[60,91,57,39,"cursor_js_1"],[60,102,57,50],[60,103,57,51,"PositionOutOfBoundsError"],[60,127,57,75],[60,129,58,24],[60,135,58,30],[60,139,58,34,"abi_js_1"],[60,147,58,42],[60,148,58,43,"DecodeLogDataMismatch"],[60,169,58,64],[60,170,58,65],[61,14,59,28,"abiItem"],[61,21,59,35],[62,14,60,28,"data"],[62,18,60,32],[62,20,60,34,"data"],[62,24,60,38],[63,14,61,28,"params"],[63,20,61,34],[63,22,61,36,"nonIndexedInputs"],[63,38,61,52],[64,14,62,28,"size"],[64,18,62,32],[64,20,62,34],[64,21,62,35],[64,22,62,36],[64,24,62,38,"size_js_1"],[64,33,62,47],[64,34,62,48,"size"],[64,38,62,52],[64,40,62,54,"data"],[64,44,62,58],[65,12,63,24],[65,13,63,25],[65,14,63,26],[66,12,64,20],[66,18,64,26,"err"],[66,21,64,29],[67,10,65,16],[68,8,66,12],[69,6,67,8],[69,7,67,9],[69,13,68,13],[69,17,68,17,"strict"],[69,23,68,23],[69,25,68,25],[70,8,69,12],[70,14,69,18],[70,18,69,22,"abi_js_1"],[70,26,69,30],[70,27,69,31,"DecodeLogDataMismatch"],[70,48,69,52],[70,49,69,53],[71,10,70,16,"abiItem"],[71,17,70,23],[72,10,71,16,"data"],[72,14,71,20],[72,16,71,22],[72,20,71,26],[73,10,72,16,"params"],[73,16,72,22],[73,18,72,24,"nonIndexedInputs"],[73,34,72,40],[74,10,73,16,"size"],[74,14,73,20],[74,16,73,22],[75,8,74,12],[75,9,74,13],[75,10,74,14],[76,6,75,8],[77,4,76,4],[78,4,77,4],[78,11,77,11],[79,6,78,8,"eventName"],[79,15,78,17],[79,17,78,19,"name"],[79,21,78,23],[80,6,79,8,"args"],[80,10,79,12],[80,12,79,14,"Object"],[80,18,79,20],[80,19,79,21,"values"],[80,25,79,27],[80,26,79,28,"args"],[80,30,79,32],[80,31,79,33],[80,32,79,34,"length"],[80,38,79,40],[80,41,79,43],[80,42,79,44],[80,45,79,47,"args"],[80,49,79,51],[80,52,79,54,"undefined"],[81,4,80,4],[81,5,80,5],[82,2,81,0],[83,2,82,0],[83,11,82,9,"decodeTopic"],[83,22,82,20,"decodeTopic"],[83,23,82,21],[84,4,82,23,"param"],[84,9,82,28],[85,4,82,30,"value"],[86,2,82,36],[86,3,82,37],[86,5,82,39],[87,4,83,4],[87,8,83,8,"param"],[87,13,83,13],[87,14,83,14,"type"],[87,18,83,18],[87,23,83,23],[87,31,83,31],[87,35,84,8,"param"],[87,40,84,13],[87,41,84,14,"type"],[87,45,84,18],[87,50,84,23],[87,57,84,30],[87,61,85,8,"param"],[87,66,85,13],[87,67,85,14,"type"],[87,71,85,18],[87,76,85,23],[87,83,85,30],[87,87,86,8,"param"],[87,92,86,13],[87,93,86,14,"type"],[87,97,86,18],[87,98,86,19,"match"],[87,103,86,24],[87,104,86,25],[87,122,86,43],[87,123,86,44],[87,125,87,8],[87,132,87,15,"value"],[87,137,87,20],[88,4,88,4],[88,10,88,10,"decodedArg"],[88,20,88,20],[88,23,88,23],[88,24,88,24],[88,25,88,25],[88,27,88,27,"decodeAbiParameters_js_1"],[88,51,88,51],[88,52,88,52,"decodeAbiParameters"],[88,71,88,71],[88,73,88,73],[88,74,88,74,"param"],[88,79,88,79],[88,80,88,80],[88,82,88,82,"value"],[88,87,88,87],[88,88,88,88],[88,92,88,92],[88,94,88,94],[89,4,89,4],[89,11,89,11,"decodedArg"],[89,21,89,21],[89,22,89,22],[89,23,89,23],[89,24,89,24],[90,2,90,0],[91,0,90,1],[91,3]],"functionMap":{"names":["<global>","decodeEventLog","abi.find$argument_0","inputs.some$argument_0","inputs.map$argument_0","inputs.map.filter$argument_0","inputs.filter$argument_0","decodeTopic"],"mappings":"AAA;ACU;6BCM;yGDC;mCEI,+BF;aGG,gBH;gBIC,oCJ;2CKc,qCL;CDyC;AOC;CPQ"},"hasCjsExports":true},"type":"js/module"}]}