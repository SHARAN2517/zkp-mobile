{"dependencies":[{"name":"./utils/deserialize.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"RnAwoPW0MJIC16vj/Szg6sQ3iS0=","exportNames":["*"],"imports":1}},{"name":"./utils/serialize.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":63,"index":133}}],"key":"TVf5h3GdptJ76q32CreGMnjFbeM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.createStorage = createStorage;\n  Object.defineProperty(exports, \"noopStorage\", {\n    enumerable: true,\n    get: function () {\n      return noopStorage;\n    }\n  });\n  exports.getDefaultStorage = getDefaultStorage;\n  var _utilsDeserializeJs = require(_dependencyMap[0], \"./utils/deserialize.js\");\n  var _utilsSerializeJs = require(_dependencyMap[1], \"./utils/serialize.js\");\n  function createStorage(parameters) {\n    const {\n      deserialize = _utilsDeserializeJs.deserialize,\n      key: prefix = 'wagmi',\n      serialize = _utilsSerializeJs.serialize,\n      storage = noopStorage\n    } = parameters;\n    function unwrap(value) {\n      if (value instanceof Promise) return value.then(x => x).catch(() => null);\n      return value;\n    }\n    return {\n      ...storage,\n      key: prefix,\n      async getItem(key, defaultValue) {\n        const value = storage.getItem(`${prefix}.${key}`);\n        const unwrapped = await unwrap(value);\n        if (unwrapped) return deserialize(unwrapped) ?? null;\n        return defaultValue ?? null;\n      },\n      async setItem(key, value) {\n        const storageKey = `${prefix}.${key}`;\n        if (value === null) await unwrap(storage.removeItem(storageKey));else await unwrap(storage.setItem(storageKey, serialize(value)));\n      },\n      async removeItem(key) {\n        await unwrap(storage.removeItem(`${prefix}.${key}`));\n      }\n    };\n  }\n  const noopStorage = {\n    getItem: () => null,\n    setItem: () => {},\n    removeItem: () => {}\n  };\n  function getDefaultStorage() {\n    const storage = (() => {\n      // biome-ignore lint/complexity/useOptionalChain: _\n      if (false && window.localStorage) return window.localStorage;\n      return noopStorage;\n    })();\n    return {\n      getItem(key) {\n        return storage.getItem(key);\n      },\n      removeItem(key) {\n        storage.removeItem(key);\n      },\n      setItem(key, value) {\n        try {\n          storage.setItem(key, value);\n          // silence errors by default (QuotaExceededError, SecurityError, etc.)\n        } catch {}\n      }\n    };\n  }\n});","lineCount":72,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"createStorage"],[7,23,3,0],[7,26,3,0,"createStorage"],[7,39,3,0],[8,2,32,0,"Object"],[8,8,32,0],[8,9,32,0,"defineProperty"],[8,23,32,0],[8,24,32,0,"exports"],[8,31,32,0],[9,4,32,0,"enumerable"],[9,14,32,0],[10,4,32,0,"get"],[10,7,32,0],[10,18,32,0,"get"],[10,19,32,0],[11,6,32,0],[11,13,32,0,"noopStorage"],[11,24,32,0],[12,4,32,0],[13,2,32,0],[14,2,37,0,"exports"],[14,9,37,0],[14,10,37,0,"getDefaultStorage"],[14,27,37,0],[14,30,37,0,"getDefaultStorage"],[14,47,37,0],[15,2,1,0],[15,6,1,0,"_utilsDeserializeJs"],[15,25,1,0],[15,28,1,0,"require"],[15,35,1,0],[15,36,1,0,"_dependencyMap"],[15,50,1,0],[16,2,2,0],[16,6,2,0,"_utilsSerializeJs"],[16,23,2,0],[16,26,2,0,"require"],[16,33,2,0],[16,34,2,0,"_dependencyMap"],[16,48,2,0],[17,2,3,7],[17,11,3,16,"createStorage"],[17,24,3,29,"createStorage"],[17,25,3,30,"parameters"],[17,35,3,40],[17,37,3,42],[18,4,4,4],[18,10,4,10],[19,6,4,12,"deserialize"],[19,17,4,23],[19,20,4,26,"deserialize_"],[19,39,4,38],[19,40,4,38,"deserialize"],[19,51,4,38],[20,6,4,40,"key"],[20,9,4,43],[20,11,4,45,"prefix"],[20,17,4,51],[20,20,4,54],[20,27,4,61],[21,6,4,63,"serialize"],[21,15,4,72],[21,18,4,75,"serialize_"],[21,35,4,85],[21,36,4,85,"serialize"],[21,45,4,85],[22,6,4,87,"storage"],[22,13,4,94],[22,16,4,97,"noopStorage"],[23,4,4,110],[23,5,4,111],[23,8,4,114,"parameters"],[23,18,4,124],[24,4,5,4],[24,13,5,13,"unwrap"],[24,19,5,19,"unwrap"],[24,20,5,20,"value"],[24,25,5,25],[24,27,5,27],[25,6,6,8],[25,10,6,12,"value"],[25,15,6,17],[25,27,6,29,"Promise"],[25,34,6,36],[25,36,7,12],[25,43,7,19,"value"],[25,48,7,24],[25,49,7,25,"then"],[25,53,7,29],[25,54,7,31,"x"],[25,55,7,32],[25,59,7,37,"x"],[25,60,7,38],[25,61,7,39],[25,62,7,40,"catch"],[25,67,7,45],[25,68,7,46],[25,74,7,52],[25,78,7,56],[25,79,7,57],[26,6,8,8],[26,13,8,15,"value"],[26,18,8,20],[27,4,9,4],[28,4,10,4],[28,11,10,11],[29,6,11,8],[29,9,11,11,"storage"],[29,16,11,18],[30,6,12,8,"key"],[30,9,12,11],[30,11,12,13,"prefix"],[30,17,12,19],[31,6,13,8],[31,12,13,14,"getItem"],[31,19,13,21,"getItem"],[31,20,13,22,"key"],[31,23,13,25],[31,25,13,27,"defaultValue"],[31,37,13,39],[31,39,13,41],[32,8,14,12],[32,14,14,18,"value"],[32,19,14,23],[32,22,14,26,"storage"],[32,29,14,33],[32,30,14,34,"getItem"],[32,37,14,41],[32,38,14,42],[32,41,14,45,"prefix"],[32,47,14,51],[32,51,14,55,"key"],[32,54,14,58],[32,56,14,60],[32,57,14,61],[33,8,15,12],[33,14,15,18,"unwrapped"],[33,23,15,27],[33,26,15,30],[33,32,15,36,"unwrap"],[33,38,15,42],[33,39,15,43,"value"],[33,44,15,48],[33,45,15,49],[34,8,16,12],[34,12,16,16,"unwrapped"],[34,21,16,25],[34,23,17,16],[34,30,17,23,"deserialize"],[34,41,17,34],[34,42,17,35,"unwrapped"],[34,51,17,44],[34,52,17,45],[34,56,17,49],[34,60,17,53],[35,8,18,12],[35,15,18,20,"defaultValue"],[35,27,18,32],[35,31,18,36],[35,35,18,40],[36,6,19,8],[36,7,19,9],[37,6,20,8],[37,12,20,14,"setItem"],[37,19,20,21,"setItem"],[37,20,20,22,"key"],[37,23,20,25],[37,25,20,27,"value"],[37,30,20,32],[37,32,20,34],[38,8,21,12],[38,14,21,18,"storageKey"],[38,24,21,28],[38,27,21,31],[38,30,21,34,"prefix"],[38,36,21,40],[38,40,21,44,"key"],[38,43,21,47],[38,45,21,49],[39,8,22,12],[39,12,22,16,"value"],[39,17,22,21],[39,22,22,26],[39,26,22,30],[39,28,23,16],[39,34,23,22,"unwrap"],[39,40,23,28],[39,41,23,29,"storage"],[39,48,23,36],[39,49,23,37,"removeItem"],[39,59,23,47],[39,60,23,48,"storageKey"],[39,70,23,58],[39,71,23,59],[39,72,23,60],[39,73,23,61],[39,78,25,16],[39,84,25,22,"unwrap"],[39,90,25,28],[39,91,25,29,"storage"],[39,98,25,36],[39,99,25,37,"setItem"],[39,106,25,44],[39,107,25,45,"storageKey"],[39,117,25,55],[39,119,25,57,"serialize"],[39,128,25,66],[39,129,25,67,"value"],[39,134,25,72],[39,135,25,73],[39,136,25,74],[39,137,25,75],[40,6,26,8],[40,7,26,9],[41,6,27,8],[41,12,27,14,"removeItem"],[41,22,27,24,"removeItem"],[41,23,27,25,"key"],[41,26,27,28],[41,28,27,30],[42,8,28,12],[42,14,28,18,"unwrap"],[42,20,28,24],[42,21,28,25,"storage"],[42,28,28,32],[42,29,28,33,"removeItem"],[42,39,28,43],[42,40,28,44],[42,43,28,47,"prefix"],[42,49,28,53],[42,53,28,57,"key"],[42,56,28,60],[42,58,28,62],[42,59,28,63],[42,60,28,64],[43,6,29,8],[44,4,30,4],[44,5,30,5],[45,2,31,0],[46,2,32,7],[46,8,32,13,"noopStorage"],[46,19,32,24],[46,22,32,27],[47,4,33,4,"getItem"],[47,11,33,11],[47,13,33,13,"getItem"],[47,14,33,13],[47,19,33,19],[47,23,33,23],[48,4,34,4,"setItem"],[48,11,34,11],[48,13,34,13,"setItem"],[48,14,34,13],[48,19,34,19],[48,20,34,21],[48,21,34,22],[49,4,35,4,"removeItem"],[49,14,35,14],[49,16,35,16,"removeItem"],[49,17,35,16],[49,22,35,22],[49,23,35,24],[50,2,36,0],[50,3,36,1],[51,2,37,7],[51,11,37,16,"getDefaultStorage"],[51,28,37,33,"getDefaultStorage"],[51,29,37,33],[51,31,37,36],[52,4,38,4],[52,10,38,10,"storage"],[52,17,38,17],[52,20,38,20],[52,21,38,21],[52,27,38,27],[53,6,39,8],[54,6,40,8],[54,10,40,12],[54,19,40,45,"window"],[54,25,40,51],[54,26,40,52,"localStorage"],[54,38,40,64],[54,40,41,12],[54,47,41,19,"window"],[54,53,41,25],[54,54,41,26,"localStorage"],[54,66,41,38],[55,6,42,8],[55,13,42,15,"noopStorage"],[55,24,42,26],[56,4,43,4],[56,5,43,5],[56,7,43,7],[56,8,43,8],[57,4,44,4],[57,11,44,11],[58,6,45,8,"getItem"],[58,13,45,15,"getItem"],[58,14,45,16,"key"],[58,17,45,19],[58,19,45,21],[59,8,46,12],[59,15,46,19,"storage"],[59,22,46,26],[59,23,46,27,"getItem"],[59,30,46,34],[59,31,46,35,"key"],[59,34,46,38],[59,35,46,39],[60,6,47,8],[60,7,47,9],[61,6,48,8,"removeItem"],[61,16,48,18,"removeItem"],[61,17,48,19,"key"],[61,20,48,22],[61,22,48,24],[62,8,49,12,"storage"],[62,15,49,19],[62,16,49,20,"removeItem"],[62,26,49,30],[62,27,49,31,"key"],[62,30,49,34],[62,31,49,35],[63,6,50,8],[63,7,50,9],[64,6,51,8,"setItem"],[64,13,51,15,"setItem"],[64,14,51,16,"key"],[64,17,51,19],[64,19,51,21,"value"],[64,24,51,26],[64,26,51,28],[65,8,52,12],[65,12,52,16],[66,10,53,16,"storage"],[66,17,53,23],[66,18,53,24,"setItem"],[66,25,53,31],[66,26,53,32,"key"],[66,29,53,35],[66,31,53,37,"value"],[66,36,53,42],[66,37,53,43],[67,10,54,16],[68,8,55,12],[68,9,55,13],[68,10,56,12],[68,16,56,18],[68,17,56,20],[69,6,57,8],[70,4,58,4],[70,5,58,5],[71,2,59,0],[72,0,59,1],[72,3]],"functionMap":{"names":["<global>","createStorage","unwrap","value.then$argument_0","value.then._catch$argument_0","getItem","setItem","removeItem","noopStorage.getItem","noopStorage.setItem","noopStorage.removeItem","getDefaultStorage","<anonymous>"],"mappings":"AAA;OCE;ICE;8BCE,QD,QE,UF;KDE;QII;SJM;QKC;SLM;QMC;SNE;CDE;aQE,UR;aSC,ST;gBUC,SV;OWE;qBCC;KDK;QNE;SME;QJC;SIE;QLC;SKM;CXE"},"hasCjsExports":false},"type":"js/module"}]}