{"dependencies":[{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":19,"index":130},"end":{"line":4,"column":59,"index":170}}],"key":"H7vq9DbZar/LBdoWrgikLXyV5L0=","exportNames":["*"],"imports":1}},{"name":"../constants/number.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":20,"index":192},"end":{"line":5,"column":53,"index":225}}],"key":"HpdS44uKKG+nIRshrR5Vs+iKKLQ=","exportNames":["*"],"imports":1}},{"name":"./assertEip712Transaction.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":37,"index":264},"end":{"line":6,"column":76,"index":303}}],"key":"PGiF9RFNACZxXg7LmwZQG2KzayU=","exportNames":["*"],"imports":1}},{"name":"./hashBytecode.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":26,"index":331},"end":{"line":7,"column":54,"index":359}}],"key":"K09Dq/rbIhFGjV0sjPcY3xjiT3o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEip712Domain = void 0;\n  const toHex_js_1 = require(_dependencyMap[0], \"../../utils/encoding/toHex.js\");\n  const number_js_1 = require(_dependencyMap[1], \"../constants/number.js\");\n  const assertEip712Transaction_js_1 = require(_dependencyMap[2], \"./assertEip712Transaction.js\");\n  const hashBytecode_js_1 = require(_dependencyMap[3], \"./hashBytecode.js\");\n  const getEip712Domain = transaction => {\n    (0, assertEip712Transaction_js_1.assertEip712Transaction)(transaction);\n    const message = transactionToMessage(transaction);\n    return {\n      domain: {\n        name: 'zkSync',\n        version: '2',\n        chainId: transaction.chainId\n      },\n      types: {\n        Transaction: [{\n          name: 'txType',\n          type: 'uint256'\n        }, {\n          name: 'from',\n          type: 'uint256'\n        }, {\n          name: 'to',\n          type: 'uint256'\n        }, {\n          name: 'gasLimit',\n          type: 'uint256'\n        }, {\n          name: 'gasPerPubdataByteLimit',\n          type: 'uint256'\n        }, {\n          name: 'maxFeePerGas',\n          type: 'uint256'\n        }, {\n          name: 'maxPriorityFeePerGas',\n          type: 'uint256'\n        }, {\n          name: 'paymaster',\n          type: 'uint256'\n        }, {\n          name: 'nonce',\n          type: 'uint256'\n        }, {\n          name: 'value',\n          type: 'uint256'\n        }, {\n          name: 'data',\n          type: 'bytes'\n        }, {\n          name: 'factoryDeps',\n          type: 'bytes32[]'\n        }, {\n          name: 'paymasterInput',\n          type: 'bytes'\n        }]\n      },\n      primaryType: 'Transaction',\n      message: message\n    };\n  };\n  exports.getEip712Domain = getEip712Domain;\n  function transactionToMessage(transaction) {\n    const {\n      gas,\n      nonce,\n      to,\n      from,\n      value,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      factoryDeps,\n      paymaster,\n      paymasterInput,\n      gasPerPubdata,\n      data\n    } = transaction;\n    return {\n      txType: 113n,\n      from: BigInt(from),\n      to: to ? BigInt(to) : 0n,\n      gasLimit: gas ?? 0n,\n      gasPerPubdataByteLimit: gasPerPubdata ?? number_js_1.gasPerPubdataDefault,\n      maxFeePerGas: maxFeePerGas ?? 0n,\n      maxPriorityFeePerGas: maxPriorityFeePerGas ?? 0n,\n      paymaster: paymaster ? BigInt(paymaster) : 0n,\n      nonce: nonce ? BigInt(nonce) : 0n,\n      value: value ?? 0n,\n      data: data ?? '0x',\n      factoryDeps: factoryDeps?.map(dep => (0, toHex_js_1.toHex)((0, hashBytecode_js_1.hashBytecode)(dep))) ?? [],\n      paymasterInput: paymasterInput ? paymasterInput : '0x'\n    };\n  }\n});","lineCount":99,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getEip712Domain"],[7,25,3,23],[7,28,3,26],[7,33,3,31],[7,34,3,32],[8,2,4,0],[8,8,4,6,"toHex_js_1"],[8,18,4,16],[8,21,4,19,"require"],[8,28,4,26],[8,29,4,26,"_dependencyMap"],[8,43,4,26],[8,79,4,58],[8,80,4,59],[9,2,5,0],[9,8,5,6,"number_js_1"],[9,19,5,17],[9,22,5,20,"require"],[9,29,5,27],[9,30,5,27,"_dependencyMap"],[9,44,5,27],[9,73,5,52],[9,74,5,53],[10,2,6,0],[10,8,6,6,"assertEip712Transaction_js_1"],[10,36,6,34],[10,39,6,37,"require"],[10,46,6,44],[10,47,6,44,"_dependencyMap"],[10,61,6,44],[10,96,6,75],[10,97,6,76],[11,2,7,0],[11,8,7,6,"hashBytecode_js_1"],[11,25,7,23],[11,28,7,26,"require"],[11,35,7,33],[11,36,7,33,"_dependencyMap"],[11,50,7,33],[11,74,7,53],[11,75,7,54],[12,2,8,0],[12,8,8,6,"getEip712Domain"],[12,23,8,21],[12,26,8,25,"transaction"],[12,37,8,36],[12,41,8,41],[13,4,9,4],[13,5,9,5],[13,6,9,6],[13,8,9,8,"assertEip712Transaction_js_1"],[13,36,9,36],[13,37,9,37,"assertEip712Transaction"],[13,60,9,60],[13,62,9,62,"transaction"],[13,73,9,73],[13,74,9,74],[14,4,10,4],[14,10,10,10,"message"],[14,17,10,17],[14,20,10,20,"transactionToMessage"],[14,40,10,40],[14,41,10,41,"transaction"],[14,52,10,52],[14,53,10,53],[15,4,11,4],[15,11,11,11],[16,6,12,8,"domain"],[16,12,12,14],[16,14,12,16],[17,8,13,12,"name"],[17,12,13,16],[17,14,13,18],[17,22,13,26],[18,8,14,12,"version"],[18,15,14,19],[18,17,14,21],[18,20,14,24],[19,8,15,12,"chainId"],[19,15,15,19],[19,17,15,21,"transaction"],[19,28,15,32],[19,29,15,33,"chainId"],[20,6,16,8],[20,7,16,9],[21,6,17,8,"types"],[21,11,17,13],[21,13,17,15],[22,8,18,12,"Transaction"],[22,19,18,23],[22,21,18,25],[22,22,19,16],[23,10,19,18,"name"],[23,14,19,22],[23,16,19,24],[23,24,19,32],[24,10,19,34,"type"],[24,14,19,38],[24,16,19,40],[25,8,19,50],[25,9,19,51],[25,11,20,16],[26,10,20,18,"name"],[26,14,20,22],[26,16,20,24],[26,22,20,30],[27,10,20,32,"type"],[27,14,20,36],[27,16,20,38],[28,8,20,48],[28,9,20,49],[28,11,21,16],[29,10,21,18,"name"],[29,14,21,22],[29,16,21,24],[29,20,21,28],[30,10,21,30,"type"],[30,14,21,34],[30,16,21,36],[31,8,21,46],[31,9,21,47],[31,11,22,16],[32,10,22,18,"name"],[32,14,22,22],[32,16,22,24],[32,26,22,34],[33,10,22,36,"type"],[33,14,22,40],[33,16,22,42],[34,8,22,52],[34,9,22,53],[34,11,23,16],[35,10,23,18,"name"],[35,14,23,22],[35,16,23,24],[35,40,23,48],[36,10,23,50,"type"],[36,14,23,54],[36,16,23,56],[37,8,23,66],[37,9,23,67],[37,11,24,16],[38,10,24,18,"name"],[38,14,24,22],[38,16,24,24],[38,30,24,38],[39,10,24,40,"type"],[39,14,24,44],[39,16,24,46],[40,8,24,56],[40,9,24,57],[40,11,25,16],[41,10,25,18,"name"],[41,14,25,22],[41,16,25,24],[41,38,25,46],[42,10,25,48,"type"],[42,14,25,52],[42,16,25,54],[43,8,25,64],[43,9,25,65],[43,11,26,16],[44,10,26,18,"name"],[44,14,26,22],[44,16,26,24],[44,27,26,35],[45,10,26,37,"type"],[45,14,26,41],[45,16,26,43],[46,8,26,53],[46,9,26,54],[46,11,27,16],[47,10,27,18,"name"],[47,14,27,22],[47,16,27,24],[47,23,27,31],[48,10,27,33,"type"],[48,14,27,37],[48,16,27,39],[49,8,27,49],[49,9,27,50],[49,11,28,16],[50,10,28,18,"name"],[50,14,28,22],[50,16,28,24],[50,23,28,31],[51,10,28,33,"type"],[51,14,28,37],[51,16,28,39],[52,8,28,49],[52,9,28,50],[52,11,29,16],[53,10,29,18,"name"],[53,14,29,22],[53,16,29,24],[53,22,29,30],[54,10,29,32,"type"],[54,14,29,36],[54,16,29,38],[55,8,29,46],[55,9,29,47],[55,11,30,16],[56,10,30,18,"name"],[56,14,30,22],[56,16,30,24],[56,29,30,37],[57,10,30,39,"type"],[57,14,30,43],[57,16,30,45],[58,8,30,57],[58,9,30,58],[58,11,31,16],[59,10,31,18,"name"],[59,14,31,22],[59,16,31,24],[59,32,31,40],[60,10,31,42,"type"],[60,14,31,46],[60,16,31,48],[61,8,31,56],[61,9,31,57],[62,6,33,8],[62,7,33,9],[63,6,34,8,"primaryType"],[63,17,34,19],[63,19,34,21],[63,32,34,34],[64,6,35,8,"message"],[64,13,35,15],[64,15,35,17,"message"],[65,4,36,4],[65,5,36,5],[66,2,37,0],[66,3,37,1],[67,2,38,0,"exports"],[67,9,38,7],[67,10,38,8,"getEip712Domain"],[67,25,38,23],[67,28,38,26,"getEip712Domain"],[67,43,38,41],[68,2,39,0],[68,11,39,9,"transactionToMessage"],[68,31,39,29,"transactionToMessage"],[68,32,39,30,"transaction"],[68,43,39,41],[68,45,39,43],[69,4,40,4],[69,10,40,10],[70,6,40,12,"gas"],[70,9,40,15],[71,6,40,17,"nonce"],[71,11,40,22],[72,6,40,24,"to"],[72,8,40,26],[73,6,40,28,"from"],[73,10,40,32],[74,6,40,34,"value"],[74,11,40,39],[75,6,40,41,"maxFeePerGas"],[75,18,40,53],[76,6,40,55,"maxPriorityFeePerGas"],[76,26,40,75],[77,6,40,77,"factoryDeps"],[77,17,40,88],[78,6,40,90,"paymaster"],[78,15,40,99],[79,6,40,101,"paymasterInput"],[79,20,40,115],[80,6,40,117,"gasPerPubdata"],[80,19,40,130],[81,6,40,132,"data"],[82,4,40,138],[82,5,40,139],[82,8,40,142,"transaction"],[82,19,40,153],[83,4,41,4],[83,11,41,11],[84,6,42,8,"txType"],[84,12,42,14],[84,14,42,16],[84,18,42,20],[85,6,43,8,"from"],[85,10,43,12],[85,12,43,14,"BigInt"],[85,18,43,20],[85,19,43,21,"from"],[85,23,43,25],[85,24,43,26],[86,6,44,8,"to"],[86,8,44,10],[86,10,44,12,"to"],[86,12,44,14],[86,15,44,17,"BigInt"],[86,21,44,23],[86,22,44,24,"to"],[86,24,44,26],[86,25,44,27],[86,28,44,30],[86,30,44,32],[87,6,45,8,"gasLimit"],[87,14,45,16],[87,16,45,18,"gas"],[87,19,45,21],[87,23,45,25],[87,25,45,27],[88,6,46,8,"gasPerPubdataByteLimit"],[88,28,46,30],[88,30,46,32,"gasPerPubdata"],[88,43,46,45],[88,47,46,49,"number_js_1"],[88,58,46,60],[88,59,46,61,"gasPerPubdataDefault"],[88,79,46,81],[89,6,47,8,"maxFeePerGas"],[89,18,47,20],[89,20,47,22,"maxFeePerGas"],[89,32,47,34],[89,36,47,38],[89,38,47,40],[90,6,48,8,"maxPriorityFeePerGas"],[90,26,48,28],[90,28,48,30,"maxPriorityFeePerGas"],[90,48,48,50],[90,52,48,54],[90,54,48,56],[91,6,49,8,"paymaster"],[91,15,49,17],[91,17,49,19,"paymaster"],[91,26,49,28],[91,29,49,31,"BigInt"],[91,35,49,37],[91,36,49,38,"paymaster"],[91,45,49,47],[91,46,49,48],[91,49,49,51],[91,51,49,53],[92,6,50,8,"nonce"],[92,11,50,13],[92,13,50,15,"nonce"],[92,18,50,20],[92,21,50,23,"BigInt"],[92,27,50,29],[92,28,50,30,"nonce"],[92,33,50,35],[92,34,50,36],[92,37,50,39],[92,39,50,41],[93,6,51,8,"value"],[93,11,51,13],[93,13,51,15,"value"],[93,18,51,20],[93,22,51,24],[93,24,51,26],[94,6,52,8,"data"],[94,10,52,12],[94,12,52,14,"data"],[94,16,52,18],[94,20,52,22],[94,24,52,26],[95,6,53,8,"factoryDeps"],[95,17,53,19],[95,19,53,21,"factoryDeps"],[95,30,53,32],[95,32,53,34,"map"],[95,35,53,37],[95,36,53,39,"dep"],[95,39,53,42],[95,43,53,47],[95,44,53,48],[95,45,53,49],[95,47,53,51,"toHex_js_1"],[95,57,53,61],[95,58,53,62,"toHex"],[95,63,53,67],[95,65,53,69],[95,66,53,70],[95,67,53,71],[95,69,53,73,"hashBytecode_js_1"],[95,86,53,90],[95,87,53,91,"hashBytecode"],[95,99,53,103],[95,101,53,105,"dep"],[95,104,53,108],[95,105,53,109],[95,106,53,110],[95,107,53,111],[95,111,53,115],[95,113,53,117],[96,6,54,8,"paymasterInput"],[96,20,54,22],[96,22,54,24,"paymasterInput"],[96,36,54,38],[96,39,54,41,"paymasterInput"],[96,53,54,55],[96,56,54,58],[97,4,55,4],[97,5,55,5],[98,2,56,0],[99,0,56,1],[99,3]],"functionMap":{"names":["<global>","getEip712Domain","transactionToMessage","factoryDeps.map$argument_0"],"mappings":"AAA;wBCO;CD6B;AEE;sCCc,wED;CFG"},"hasCjsExports":true},"type":"js/module"}]}