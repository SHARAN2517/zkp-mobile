{"dependencies":[{"name":"valtio","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":37,"index":37}}],"key":"QS/s3I3dpzUou32XrKY5Z5Z48Ms=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":38},"end":{"line":2,"column":33,"index":71}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@web3modal/core-react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":72},"end":{"line":3,"column":136,"index":208}}],"key":"fXjuVrywn0pgc7wTbbjNAvAYWH8=","exportNames":["*"],"imports":1}},{"name":"../../partials/w3m-otp-code","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":209},"end":{"line":4,"column":58,"index":267}}],"key":"0kKrVPmPNsLb9GHgirTFxslWxHU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.UpdateEmailPrimaryOtpView = UpdateEmailPrimaryOtpView;\n  var _valtio = require(_dependencyMap[0], \"valtio\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _web3modalCoreReactNative = require(_dependencyMap[2], \"@web3modal/core-react-native\");\n  var _partialsW3mOtpCode = require(_dependencyMap[3], \"../../partials/w3m-otp-code\");\n  function UpdateEmailPrimaryOtpView() {\n    const {\n      data\n    } = (0, _valtio.useSnapshot)(_web3modalCoreReactNative.RouterController.state);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)('');\n    const emailProvider = _web3modalCoreReactNative.ConnectorController.getEmailConnector()?.provider;\n    const onOtpSubmit = async value => {\n      if (!emailProvider || loading) return;\n      setLoading(true);\n      setError('');\n      try {\n        await emailProvider.updateEmailPrimaryOtp({\n          otp: value\n        });\n        _web3modalCoreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_VERIFICATION_CODE_PASS'\n        });\n        _web3modalCoreReactNative.RouterController.replace('UpdateEmailSecondaryOtp', data);\n      } catch (e) {\n        _web3modalCoreReactNative.EventsController.sendEvent({\n          type: 'track',\n          event: 'EMAIL_VERIFICATION_CODE_FAIL'\n        });\n        const parsedError = _web3modalCoreReactNative.CoreHelperUtil.parseError(e);\n        if (parsedError?.includes('Invalid Otp')) {\n          setError('Invalid code. Try again.');\n        } else {\n          _web3modalCoreReactNative.SnackController.showError(parsedError);\n        }\n      }\n      setLoading(false);\n    };\n    return /*#__PURE__*/React.createElement(_partialsW3mOtpCode.OtpCodeView, {\n      loading: loading,\n      error: error,\n      email: data?.email,\n      onSubmit: onOtpSubmit,\n      onRetry: _web3modalCoreReactNative.RouterController.goBack,\n      codeExpiry: 10,\n      retryLabel: \"Something wrong?\",\n      retryDisabledButtonLabel: \"Try again\",\n      retryButtonLabel: \"Try again\"\n    });\n  }\n});","lineCount":58,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"UpdateEmailPrimaryOtpView"],[7,35,5,0],[7,38,5,0,"UpdateEmailPrimaryOtpView"],[7,63,5,0],[8,2,1,0],[8,6,1,0,"_valtio"],[8,13,1,0],[8,16,1,0,"require"],[8,23,1,0],[8,24,1,0,"_dependencyMap"],[8,38,1,0],[9,2,2,0],[9,6,2,0,"_react"],[9,12,2,0],[9,15,2,0,"require"],[9,22,2,0],[9,23,2,0,"_dependencyMap"],[9,37,2,0],[10,2,3,0],[10,6,3,0,"_web3modalCoreReactNative"],[10,31,3,0],[10,34,3,0,"require"],[10,41,3,0],[10,42,3,0,"_dependencyMap"],[10,56,3,0],[11,2,4,0],[11,6,4,0,"_partialsW3mOtpCode"],[11,25,4,0],[11,28,4,0,"require"],[11,35,4,0],[11,36,4,0,"_dependencyMap"],[11,50,4,0],[12,2,5,7],[12,11,5,16,"UpdateEmailPrimaryOtpView"],[12,36,5,41,"UpdateEmailPrimaryOtpView"],[12,37,5,41],[12,39,5,44],[13,4,6,2],[13,10,6,8],[14,6,7,4,"data"],[15,4,8,2],[15,5,8,3],[15,8,8,6],[15,12,8,6,"useSnapshot"],[15,19,8,17],[15,20,8,17,"useSnapshot"],[15,31,8,17],[15,33,8,18,"RouterController"],[15,58,8,34],[15,59,8,34,"RouterController"],[15,75,8,34],[15,76,8,35,"state"],[15,81,8,40],[15,82,8,41],[16,4,9,2],[16,10,9,8],[16,11,9,9,"loading"],[16,18,9,16],[16,20,9,18,"setLoading"],[16,30,9,28],[16,31,9,29],[16,34,9,32],[16,38,9,32,"useState"],[16,44,9,40],[16,45,9,40,"useState"],[16,53,9,40],[16,55,9,41],[16,60,9,46],[16,61,9,47],[17,4,10,2],[17,10,10,8],[17,11,10,9,"error"],[17,16,10,14],[17,18,10,16,"setError"],[17,26,10,24],[17,27,10,25],[17,30,10,28],[17,34,10,28,"useState"],[17,40,10,36],[17,41,10,36,"useState"],[17,49,10,36],[17,51,10,37],[17,53,10,39],[17,54,10,40],[18,4,11,2],[18,10,11,8,"emailProvider"],[18,23,11,21],[18,26,11,24,"ConnectorController"],[18,51,11,43],[18,52,11,43,"ConnectorController"],[18,71,11,43],[18,72,11,44,"getEmailConnector"],[18,89,11,61],[18,90,11,62],[18,91,11,63],[18,93,11,65,"provider"],[18,101,11,73],[19,4,12,2],[19,10,12,8,"onOtpSubmit"],[19,21,12,19],[19,24,12,22],[19,30,12,28,"value"],[19,35,12,33],[19,39,12,37],[20,6,13,4],[20,10,13,8],[20,11,13,9,"emailProvider"],[20,24,13,22],[20,28,13,26,"loading"],[20,35,13,33],[20,37,13,35],[21,6,14,4,"setLoading"],[21,16,14,14],[21,17,14,15],[21,21,14,19],[21,22,14,20],[22,6,15,4,"setError"],[22,14,15,12],[22,15,15,13],[22,17,15,15],[22,18,15,16],[23,6,16,4],[23,10,16,8],[24,8,17,6],[24,14,17,12,"emailProvider"],[24,27,17,25],[24,28,17,26,"updateEmailPrimaryOtp"],[24,49,17,47],[24,50,17,48],[25,10,18,8,"otp"],[25,13,18,11],[25,15,18,13,"value"],[26,8,19,6],[26,9,19,7],[26,10,19,8],[27,8,20,6,"EventsController"],[27,33,20,22],[27,34,20,22,"EventsController"],[27,50,20,22],[27,51,20,23,"sendEvent"],[27,60,20,32],[27,61,20,33],[28,10,21,8,"type"],[28,14,21,12],[28,16,21,14],[28,23,21,21],[29,10,22,8,"event"],[29,15,22,13],[29,17,22,15],[30,8,23,6],[30,9,23,7],[30,10,23,8],[31,8,24,6,"RouterController"],[31,33,24,22],[31,34,24,22,"RouterController"],[31,50,24,22],[31,51,24,23,"replace"],[31,58,24,30],[31,59,24,31],[31,84,24,56],[31,86,24,58,"data"],[31,90,24,62],[31,91,24,63],[32,6,25,4],[32,7,25,5],[32,8,25,6],[32,15,25,13,"e"],[32,16,25,14],[32,18,25,16],[33,8,26,6,"EventsController"],[33,33,26,22],[33,34,26,22,"EventsController"],[33,50,26,22],[33,51,26,23,"sendEvent"],[33,60,26,32],[33,61,26,33],[34,10,27,8,"type"],[34,14,27,12],[34,16,27,14],[34,23,27,21],[35,10,28,8,"event"],[35,15,28,13],[35,17,28,15],[36,8,29,6],[36,9,29,7],[36,10,29,8],[37,8,30,6],[37,14,30,12,"parsedError"],[37,25,30,23],[37,28,30,26,"CoreHelperUtil"],[37,53,30,40],[37,54,30,40,"CoreHelperUtil"],[37,68,30,40],[37,69,30,41,"parseError"],[37,79,30,51],[37,80,30,52,"e"],[37,81,30,53],[37,82,30,54],[38,8,31,6],[38,12,31,10,"parsedError"],[38,23,31,21],[38,25,31,23,"includes"],[38,33,31,31],[38,34,31,32],[38,47,31,45],[38,48,31,46],[38,50,31,48],[39,10,32,8,"setError"],[39,18,32,16],[39,19,32,17],[39,45,32,43],[39,46,32,44],[40,8,33,6],[40,9,33,7],[40,15,33,13],[41,10,34,8,"SnackController"],[41,35,34,23],[41,36,34,23,"SnackController"],[41,51,34,23],[41,52,34,24,"showError"],[41,61,34,33],[41,62,34,34,"parsedError"],[41,73,34,45],[41,74,34,46],[42,8,35,6],[43,6,36,4],[44,6,37,4,"setLoading"],[44,16,37,14],[44,17,37,15],[44,22,37,20],[44,23,37,21],[45,4,38,2],[45,5,38,3],[46,4,39,2],[46,11,39,9],[46,24,39,22,"React"],[46,29,39,27],[46,30,39,28,"createElement"],[46,43,39,41],[46,44,39,42,"OtpCodeView"],[46,63,39,53],[46,64,39,53,"OtpCodeView"],[46,75,39,53],[46,77,39,55],[47,6,40,4,"loading"],[47,13,40,11],[47,15,40,13,"loading"],[47,22,40,20],[48,6,41,4,"error"],[48,11,41,9],[48,13,41,11,"error"],[48,18,41,16],[49,6,42,4,"email"],[49,11,42,9],[49,13,42,11,"data"],[49,17,42,15],[49,19,42,17,"email"],[49,24,42,22],[50,6,43,4,"onSubmit"],[50,14,43,12],[50,16,43,14,"onOtpSubmit"],[50,27,43,25],[51,6,44,4,"onRetry"],[51,13,44,11],[51,15,44,13,"RouterController"],[51,40,44,29],[51,41,44,29,"RouterController"],[51,57,44,29],[51,58,44,30,"goBack"],[51,64,44,36],[52,6,45,4,"codeExpiry"],[52,16,45,14],[52,18,45,16],[52,20,45,18],[53,6,46,4,"retryLabel"],[53,16,46,14],[53,18,46,16],[53,36,46,34],[54,6,47,4,"retryDisabledButtonLabel"],[54,30,47,28],[54,32,47,30],[54,43,47,41],[55,6,48,4,"retryButtonLabel"],[55,22,48,20],[55,24,48,22],[56,4,49,2],[56,5,49,3],[56,6,49,4],[57,2,50,0],[58,0,50,1],[58,3]],"functionMap":{"names":["<global>","UpdateEmailPrimaryOtpView","onOtpSubmit"],"mappings":"AAA;OCI;sBCO;GD0B;CDY"},"hasCjsExports":false},"type":"js/module"}]}