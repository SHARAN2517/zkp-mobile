{"dependencies":[{"name":"viem","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":128,"index":128}}],"key":"j/IgNjXxvBQHVn25oogzznxEA1o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.unstable_connector = unstable_connector;\n  var _viem = require(_dependencyMap[0], \"viem\");\n  function unstable_connector(connector, config = {}) {\n    const {\n      type\n    } = connector;\n    const {\n      key = 'connector',\n      name = 'Connector',\n      retryDelay\n    } = config;\n    return parameters => {\n      const {\n        chain,\n        connectors\n      } = parameters;\n      const retryCount = config.retryCount ?? parameters.retryCount;\n      const request = async ({\n        method,\n        params\n      }) => {\n        const connector = connectors?.getState().find(c => c.type === type);\n        if (!connector) throw new _viem.ProviderDisconnectedError(new Error(`Could not find connector of type \"${type}\" in \\`connectors\\` passed to \\`createConfig\\`.`));\n        const provider = await connector.getProvider({\n          chainId: chain?.id\n        });\n        if (!provider) throw new _viem.ProviderDisconnectedError(new Error('Provider is disconnected.'));\n        // We are applying a retry & timeout strategy here as some injected wallets (e.g. MetaMask) fail to\n        // immediately resolve a JSON-RPC request on page load.\n        const chainId = (0, _viem.hexToNumber)(await (0, _viem.withRetry)(() => (0, _viem.withTimeout)(() => provider.request({\n          method: 'eth_chainId'\n        }), {\n          timeout: 100\n        })));\n        if (chain && chainId !== chain.id) throw new _viem.ChainDisconnectedError(new Error(`The current chain of the connector (id: ${chainId}) does not match the target chain for the request (id: ${chain.id} â€“ ${chain.name}).`));\n        const body = {\n          method,\n          params\n        };\n        return provider.request(body);\n      };\n      return (0, _viem.createTransport)({\n        key,\n        name,\n        request,\n        retryCount,\n        retryDelay,\n        type: 'connector'\n      });\n    };\n  }\n});","lineCount":58,"map":[[7,2,2,0,"exports"],[7,9,2,0],[7,10,2,0,"unstable_connector"],[7,28,2,0],[7,31,2,0,"unstable_connector"],[7,49,2,0],[8,2,1,0],[8,6,1,0,"_viem"],[8,11,1,0],[8,14,1,0,"require"],[8,21,1,0],[8,22,1,0,"_dependencyMap"],[8,36,1,0],[9,2,2,7],[9,11,2,16,"unstable_connector"],[9,29,2,34,"unstable_connector"],[9,30,2,35,"connector"],[9,39,2,44],[9,41,2,46,"config"],[9,47,2,52],[9,50,2,55],[9,51,2,56],[9,52,2,57],[9,54,2,59],[10,4,3,4],[10,10,3,10],[11,6,3,12,"type"],[12,4,3,17],[12,5,3,18],[12,8,3,21,"connector"],[12,17,3,30],[13,4,4,4],[13,10,4,10],[14,6,4,12,"key"],[14,9,4,15],[14,12,4,18],[14,23,4,29],[15,6,4,31,"name"],[15,10,4,35],[15,13,4,38],[15,24,4,49],[16,6,4,51,"retryDelay"],[17,4,4,62],[17,5,4,63],[17,8,4,66,"config"],[17,14,4,72],[18,4,5,4],[18,11,5,12,"parameters"],[18,21,5,22],[18,25,5,27],[19,6,6,8],[19,12,6,14],[20,8,6,16,"chain"],[20,13,6,21],[21,8,6,23,"connectors"],[22,6,6,34],[22,7,6,35],[22,10,6,38,"parameters"],[22,20,6,48],[23,6,7,8],[23,12,7,14,"retryCount"],[23,22,7,24],[23,25,7,27,"config"],[23,31,7,33],[23,32,7,34,"retryCount"],[23,42,7,44],[23,46,7,48,"parameters"],[23,56,7,58],[23,57,7,59,"retryCount"],[23,67,7,69],[24,6,8,8],[24,12,8,14,"request"],[24,19,8,21],[24,22,8,24],[24,28,8,24,"request"],[24,29,8,31],[25,8,8,33,"method"],[25,14,8,39],[26,8,8,41,"params"],[27,6,8,48],[27,7,8,49],[27,12,8,54],[28,8,9,12],[28,14,9,18,"connector"],[28,23,9,27],[28,26,9,30,"connectors"],[28,36,9,40],[28,38,9,42,"getState"],[28,46,9,50],[28,47,9,51],[28,48,9,52],[28,49,9,53,"find"],[28,53,9,57],[28,54,9,59,"c"],[28,55,9,60],[28,59,9,65,"c"],[28,60,9,66],[28,61,9,67,"type"],[28,65,9,71],[28,70,9,76,"type"],[28,74,9,80],[28,75,9,81],[29,8,10,12],[29,12,10,16],[29,13,10,17,"connector"],[29,22,10,26],[29,24,11,16],[29,30,11,22],[29,34,11,26,"ProviderDisconnectedError"],[29,39,11,51],[29,40,11,51,"ProviderDisconnectedError"],[29,65,11,51],[29,66,11,52],[29,70,11,56,"Error"],[29,75,11,61],[29,76,11,62],[29,113,11,99,"type"],[29,117,11,103],[29,166,11,152],[29,167,11,153],[29,168,11,154],[30,8,12,12],[30,14,12,18,"provider"],[30,22,12,26],[30,25,12,30],[30,31,12,36,"connector"],[30,40,12,45],[30,41,12,46,"getProvider"],[30,52,12,57],[30,53,12,58],[31,10,13,16,"chainId"],[31,17,13,23],[31,19,13,25,"chain"],[31,24,13,30],[31,26,13,32,"id"],[32,8,14,12],[32,9,14,13],[32,10,14,15],[33,8,15,12],[33,12,15,16],[33,13,15,17,"provider"],[33,21,15,25],[33,23,16,16],[33,29,16,22],[33,33,16,26,"ProviderDisconnectedError"],[33,38,16,51],[33,39,16,51,"ProviderDisconnectedError"],[33,64,16,51],[33,65,16,52],[33,69,16,56,"Error"],[33,74,16,61],[33,75,16,62],[33,102,16,89],[33,103,16,90],[33,104,16,91],[34,8,17,12],[35,8,18,12],[36,8,19,12],[36,14,19,18,"chainId"],[36,21,19,25],[36,24,19,28],[36,28,19,28,"hexToNumber"],[36,33,19,39],[36,34,19,39,"hexToNumber"],[36,45,19,39],[36,47,19,40],[36,53,19,46],[36,57,19,46,"withRetry"],[36,62,19,55],[36,63,19,55,"withRetry"],[36,72,19,55],[36,74,19,56],[36,80,19,62],[36,84,19,62,"withTimeout"],[36,89,19,73],[36,90,19,73,"withTimeout"],[36,101,19,73],[36,103,19,74],[36,109,19,80,"provider"],[36,117,19,88],[36,118,19,89,"request"],[36,125,19,96],[36,126,19,97],[37,10,19,99,"method"],[37,16,19,105],[37,18,19,107],[38,8,19,121],[38,9,19,122],[38,10,19,123],[38,12,19,125],[39,10,20,16,"timeout"],[39,17,20,23],[39,19,20,25],[40,8,21,12],[40,9,21,13],[40,10,21,14],[40,11,21,15],[40,12,21,16],[41,8,22,12],[41,12,22,16,"chain"],[41,17,22,21],[41,21,22,25,"chainId"],[41,28,22,32],[41,33,22,37,"chain"],[41,38,22,42],[41,39,22,43,"id"],[41,41,22,45],[41,43,23,16],[41,49,23,22],[41,53,23,26,"ChainDisconnectedError"],[41,58,23,48],[41,59,23,48,"ChainDisconnectedError"],[41,81,23,48],[41,82,23,49],[41,86,23,53,"Error"],[41,91,23,58],[41,92,23,59],[41,135,23,102,"chainId"],[41,142,23,109],[41,200,23,167,"chain"],[41,205,23,172],[41,206,23,173,"id"],[41,208,23,175],[41,214,23,181,"chain"],[41,219,23,186],[41,220,23,187,"name"],[41,224,23,191],[41,228,23,195],[41,229,23,196],[41,230,23,197],[42,8,24,12],[42,14,24,18,"body"],[42,18,24,22],[42,21,24,25],[43,10,24,27,"method"],[43,16,24,33],[44,10,24,35,"params"],[45,8,24,42],[45,9,24,43],[46,8,25,12],[46,15,25,19,"provider"],[46,23,25,27],[46,24,25,28,"request"],[46,31,25,35],[46,32,25,36,"body"],[46,36,25,40],[46,37,25,41],[47,6,26,8],[47,7,26,9],[48,6,27,8],[48,13,27,15],[48,17,27,15,"createTransport"],[48,22,27,30],[48,23,27,30,"createTransport"],[48,38,27,30],[48,40,27,31],[49,8,28,12,"key"],[49,11,28,15],[50,8,29,12,"name"],[50,12,29,16],[51,8,30,12,"request"],[51,15,30,19],[52,8,31,12,"retryCount"],[52,18,31,22],[53,8,32,12,"retryDelay"],[53,18,32,22],[54,8,33,12,"type"],[54,12,33,16],[54,14,33,18],[55,6,34,8],[55,7,34,9],[55,8,34,10],[56,4,35,4],[56,5,35,5],[57,2,36,0],[58,0,36,1],[58,3]],"functionMap":{"names":["<global>","unstable_connector","<anonymous>","request","connectors.getState.find$argument_0","withRetry$argument_0","withTimeout$argument_0"],"mappings":"AAA;OCC;WCG;wBCG;0DCC,sBD;wDEU,kBC,iDD;cFE;SDK;KDS;CDC"},"hasCjsExports":false},"type":"js/module"}]}