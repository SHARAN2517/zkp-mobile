{"dependencies":[{"name":"../core/AbiParameters.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":22,"index":375},"end":{"line":9,"column":57,"index":410}}],"key":"/sVMhwf1AfoqTr5jgYs2T/mi1rs=","exportNames":["*"],"imports":1}},{"name":"../core/Errors.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":15,"index":427},"end":{"line":10,"column":43,"index":455}}],"key":"87oNr/OfL6VSawq1ib5V4r1Acqs=","exportNames":["*"],"imports":1}},{"name":"../core/Hex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":12,"index":469},"end":{"line":11,"column":37,"index":494}}],"key":"xN1ZFzyz8KT/lkwgI7DSq0qNEew=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.InvalidWrappedSignatureError = exports.universalSignatureValidatorAbi = exports.universalSignatureValidatorBytecode = exports.magicBytes = void 0;\n  exports.assert = assert;\n  exports.from = from;\n  exports.unwrap = unwrap;\n  exports.wrap = wrap;\n  exports.validate = validate;\n  const AbiParameters = require(_dependencyMap[0], \"../core/AbiParameters.js\");\n  const Errors = require(_dependencyMap[1], \"../core/Errors.js\");\n  const Hex = require(_dependencyMap[2], \"../core/Hex.js\");\n  exports.magicBytes = '0x6492649264926492649264926492649264926492649264926492649264926492';\n  exports.universalSignatureValidatorBytecode = '0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572';\n  exports.universalSignatureValidatorAbi = [{\n    inputs: [{\n      name: '_signer',\n      type: 'address'\n    }, {\n      name: '_hash',\n      type: 'bytes32'\n    }, {\n      name: '_signature',\n      type: 'bytes'\n    }],\n    stateMutability: 'nonpayable',\n    type: 'constructor'\n  }, {\n    inputs: [{\n      name: '_signer',\n      type: 'address'\n    }, {\n      name: '_hash',\n      type: 'bytes32'\n    }, {\n      name: '_signature',\n      type: 'bytes'\n    }],\n    outputs: [{\n      type: 'bool'\n    }],\n    stateMutability: 'nonpayable',\n    type: 'function',\n    name: 'isValidSig'\n  }];\n  function assert(wrapped) {\n    if (Hex.slice(wrapped, -32) !== exports.magicBytes) throw new InvalidWrappedSignatureError(wrapped);\n  }\n  function from(wrapped) {\n    if (typeof wrapped === 'string') return unwrap(wrapped);\n    return wrapped;\n  }\n  function unwrap(wrapped) {\n    assert(wrapped);\n    const [to, data, signature] = AbiParameters.decode(AbiParameters.from('address, bytes, bytes'), wrapped);\n    return {\n      data,\n      signature,\n      to\n    };\n  }\n  function wrap(value) {\n    const {\n      data,\n      signature,\n      to\n    } = value;\n    return Hex.concat(AbiParameters.encode(AbiParameters.from('address, bytes, bytes'), [to, data, signature]), exports.magicBytes);\n  }\n  function validate(wrapped) {\n    try {\n      assert(wrapped);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  class InvalidWrappedSignatureError extends Errors.BaseError {\n    constructor(wrapped) {\n      super(`Value \\`${wrapped}\\` is an invalid ERC-6492 wrapped signature.`);\n      Object.defineProperty(this, \"name\", {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: 'SignatureErc6492.InvalidWrappedSignatureError'\n      });\n    }\n  }\n  exports.InvalidWrappedSignatureError = InvalidWrappedSignatureError;\n});","lineCount":93,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"InvalidWrappedSignatureError"],[7,38,3,36],[7,41,3,39,"exports"],[7,48,3,46],[7,49,3,47,"universalSignatureValidatorAbi"],[7,79,3,77],[7,82,3,80,"exports"],[7,89,3,87],[7,90,3,88,"universalSignatureValidatorBytecode"],[7,125,3,123],[7,128,3,126,"exports"],[7,135,3,133],[7,136,3,134,"magicBytes"],[7,146,3,144],[7,149,3,147],[7,154,3,152],[7,155,3,153],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"assert"],[8,16,4,14],[8,19,4,17,"assert"],[8,25,4,23],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"from"],[9,14,5,12],[9,17,5,15,"from"],[9,21,5,19],[10,2,6,0,"exports"],[10,9,6,7],[10,10,6,8,"unwrap"],[10,16,6,14],[10,19,6,17,"unwrap"],[10,25,6,23],[11,2,7,0,"exports"],[11,9,7,7],[11,10,7,8,"wrap"],[11,14,7,12],[11,17,7,15,"wrap"],[11,21,7,19],[12,2,8,0,"exports"],[12,9,8,7],[12,10,8,8,"validate"],[12,18,8,16],[12,21,8,19,"validate"],[12,29,8,27],[13,2,9,0],[13,8,9,6,"AbiParameters"],[13,21,9,19],[13,24,9,22,"require"],[13,31,9,29],[13,32,9,29,"_dependencyMap"],[13,46,9,29],[13,77,9,56],[13,78,9,57],[14,2,10,0],[14,8,10,6,"Errors"],[14,14,10,12],[14,17,10,15,"require"],[14,24,10,22],[14,25,10,22,"_dependencyMap"],[14,39,10,22],[14,63,10,42],[14,64,10,43],[15,2,11,0],[15,8,11,6,"Hex"],[15,11,11,9],[15,14,11,12,"require"],[15,21,11,19],[15,22,11,19,"_dependencyMap"],[15,36,11,19],[15,57,11,36],[15,58,11,37],[16,2,12,0,"exports"],[16,9,12,7],[16,10,12,8,"magicBytes"],[16,20,12,18],[16,23,12,21],[16,91,12,89],[17,2,13,0,"exports"],[17,9,13,7],[17,10,13,8,"universalSignatureValidatorBytecode"],[17,45,13,43],[17,48,13,46],[17,3420,13,3418],[18,2,14,0,"exports"],[18,9,14,7],[18,10,14,8,"universalSignatureValidatorAbi"],[18,40,14,38],[18,43,14,41],[18,44,15,4],[19,4,16,8,"inputs"],[19,10,16,14],[19,12,16,16],[19,13,17,12],[20,6,18,16,"name"],[20,10,18,20],[20,12,18,22],[20,21,18,31],[21,6,19,16,"type"],[21,10,19,20],[21,12,19,22],[22,4,20,12],[22,5,20,13],[22,7,21,12],[23,6,22,16,"name"],[23,10,22,20],[23,12,22,22],[23,19,22,29],[24,6,23,16,"type"],[24,10,23,20],[24,12,23,22],[25,4,24,12],[25,5,24,13],[25,7,25,12],[26,6,26,16,"name"],[26,10,26,20],[26,12,26,22],[26,24,26,34],[27,6,27,16,"type"],[27,10,27,20],[27,12,27,22],[28,4,28,12],[28,5,28,13],[28,6,29,9],[29,4,30,8,"stateMutability"],[29,19,30,23],[29,21,30,25],[29,33,30,37],[30,4,31,8,"type"],[30,8,31,12],[30,10,31,14],[31,2,32,4],[31,3,32,5],[31,5,33,4],[32,4,34,8,"inputs"],[32,10,34,14],[32,12,34,16],[32,13,35,12],[33,6,36,16,"name"],[33,10,36,20],[33,12,36,22],[33,21,36,31],[34,6,37,16,"type"],[34,10,37,20],[34,12,37,22],[35,4,38,12],[35,5,38,13],[35,7,39,12],[36,6,40,16,"name"],[36,10,40,20],[36,12,40,22],[36,19,40,29],[37,6,41,16,"type"],[37,10,41,20],[37,12,41,22],[38,4,42,12],[38,5,42,13],[38,7,43,12],[39,6,44,16,"name"],[39,10,44,20],[39,12,44,22],[39,24,44,34],[40,6,45,16,"type"],[40,10,45,20],[40,12,45,22],[41,4,46,12],[41,5,46,13],[41,6,47,9],[42,4,48,8,"outputs"],[42,11,48,15],[42,13,48,17],[42,14,49,12],[43,6,50,16,"type"],[43,10,50,20],[43,12,50,22],[44,4,51,12],[44,5,51,13],[44,6,52,9],[45,4,53,8,"stateMutability"],[45,19,53,23],[45,21,53,25],[45,33,53,37],[46,4,54,8,"type"],[46,8,54,12],[46,10,54,14],[46,20,54,24],[47,4,55,8,"name"],[47,8,55,12],[47,10,55,14],[48,2,56,4],[48,3,56,5],[48,4,57,1],[49,2,58,0],[49,11,58,9,"assert"],[49,17,58,15,"assert"],[49,18,58,16,"wrapped"],[49,25,58,23],[49,27,58,25],[50,4,59,4],[50,8,59,8,"Hex"],[50,11,59,11],[50,12,59,12,"slice"],[50,17,59,17],[50,18,59,18,"wrapped"],[50,25,59,25],[50,27,59,27],[50,28,59,28],[50,30,59,30],[50,31,59,31],[50,36,59,36,"exports"],[50,43,59,43],[50,44,59,44,"magicBytes"],[50,54,59,54],[50,56,60,8],[50,62,60,14],[50,66,60,18,"InvalidWrappedSignatureError"],[50,94,60,46],[50,95,60,47,"wrapped"],[50,102,60,54],[50,103,60,55],[51,2,61,0],[52,2,62,0],[52,11,62,9,"from"],[52,15,62,13,"from"],[52,16,62,14,"wrapped"],[52,23,62,21],[52,25,62,23],[53,4,63,4],[53,8,63,8],[53,15,63,15,"wrapped"],[53,22,63,22],[53,27,63,27],[53,35,63,35],[53,37,64,8],[53,44,64,15,"unwrap"],[53,50,64,21],[53,51,64,22,"wrapped"],[53,58,64,29],[53,59,64,30],[54,4,65,4],[54,11,65,11,"wrapped"],[54,18,65,18],[55,2,66,0],[56,2,67,0],[56,11,67,9,"unwrap"],[56,17,67,15,"unwrap"],[56,18,67,16,"wrapped"],[56,25,67,23],[56,27,67,25],[57,4,68,4,"assert"],[57,10,68,10],[57,11,68,11,"wrapped"],[57,18,68,18],[57,19,68,19],[58,4,69,4],[58,10,69,10],[58,11,69,11,"to"],[58,13,69,13],[58,15,69,15,"data"],[58,19,69,19],[58,21,69,21,"signature"],[58,30,69,30],[58,31,69,31],[58,34,69,34,"AbiParameters"],[58,47,69,47],[58,48,69,48,"decode"],[58,54,69,54],[58,55,69,55,"AbiParameters"],[58,68,69,68],[58,69,69,69,"from"],[58,73,69,73],[58,74,69,74],[58,97,69,97],[58,98,69,98],[58,100,69,100,"wrapped"],[58,107,69,107],[58,108,69,108],[59,4,70,4],[59,11,70,11],[60,6,70,13,"data"],[60,10,70,17],[61,6,70,19,"signature"],[61,15,70,28],[62,6,70,30,"to"],[63,4,70,33],[63,5,70,34],[64,2,71,0],[65,2,72,0],[65,11,72,9,"wrap"],[65,15,72,13,"wrap"],[65,16,72,14,"value"],[65,21,72,19],[65,23,72,21],[66,4,73,4],[66,10,73,10],[67,6,73,12,"data"],[67,10,73,16],[68,6,73,18,"signature"],[68,15,73,27],[69,6,73,29,"to"],[70,4,73,32],[70,5,73,33],[70,8,73,36,"value"],[70,13,73,41],[71,4,74,4],[71,11,74,11,"Hex"],[71,14,74,14],[71,15,74,15,"concat"],[71,21,74,21],[71,22,74,22,"AbiParameters"],[71,35,74,35],[71,36,74,36,"encode"],[71,42,74,42],[71,43,74,43,"AbiParameters"],[71,56,74,56],[71,57,74,57,"from"],[71,61,74,61],[71,62,74,62],[71,85,74,85],[71,86,74,86],[71,88,74,88],[71,89,75,8,"to"],[71,91,75,10],[71,93,76,8,"data"],[71,97,76,12],[71,99,77,8,"signature"],[71,108,77,17],[71,109,78,5],[71,110,78,6],[71,112,78,8,"exports"],[71,119,78,15],[71,120,78,16,"magicBytes"],[71,130,78,26],[71,131,78,27],[72,2,79,0],[73,2,80,0],[73,11,80,9,"validate"],[73,19,80,17,"validate"],[73,20,80,18,"wrapped"],[73,27,80,25],[73,29,80,27],[74,4,81,4],[74,8,81,8],[75,6,82,8,"assert"],[75,12,82,14],[75,13,82,15,"wrapped"],[75,20,82,22],[75,21,82,23],[76,6,83,8],[76,13,83,15],[76,17,83,19],[77,4,84,4],[77,5,84,5],[77,6,85,4],[77,12,85,10],[78,6,86,8],[78,13,86,15],[78,18,86,20],[79,4,87,4],[80,2,88,0],[81,2,89,0],[81,8,89,6,"InvalidWrappedSignatureError"],[81,36,89,34],[81,45,89,43,"Errors"],[81,51,89,49],[81,52,89,50,"BaseError"],[81,61,89,59],[81,62,89,60],[82,4,90,4,"constructor"],[82,15,90,15,"constructor"],[82,16,90,16,"wrapped"],[82,23,90,23],[82,25,90,25],[83,6,91,8],[83,11,91,13],[83,12,91,14],[83,23,91,25,"wrapped"],[83,30,91,32],[83,76,91,78],[83,77,91,79],[84,6,92,8,"Object"],[84,12,92,14],[84,13,92,15,"defineProperty"],[84,27,92,29],[84,28,92,30],[84,32,92,34],[84,34,92,36],[84,40,92,42],[84,42,92,44],[85,8,93,12,"enumerable"],[85,18,93,22],[85,20,93,24],[85,24,93,28],[86,8,94,12,"configurable"],[86,20,94,24],[86,22,94,26],[86,26,94,30],[87,8,95,12,"writable"],[87,16,95,20],[87,18,95,22],[87,22,95,26],[88,8,96,12,"value"],[88,13,96,17],[88,15,96,19],[89,6,97,8],[89,7,97,9],[89,8,97,10],[90,4,98,4],[91,2,99,0],[92,2,100,0,"exports"],[92,9,100,7],[92,10,100,8,"InvalidWrappedSignatureError"],[92,38,100,36],[92,41,100,39,"InvalidWrappedSignatureError"],[92,69,100,67],[93,0,100,68],[93,3]],"functionMap":{"names":["<global>","assert","from","unwrap","wrap","validate","InvalidWrappedSignatureError","InvalidWrappedSignatureError#constructor"],"mappings":"AAA;ACyD;CDG;AEC;CFI;AGC;CHI;AIC;CJO;AKC;CLQ;AMC;ICC;KDQ;CNC"},"hasCjsExports":true},"type":"js/module"}]}